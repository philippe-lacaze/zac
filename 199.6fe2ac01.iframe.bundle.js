(self.webpackChunkzac_ng_lib=self.webpackChunkzac_ng_lib||[]).push([[199],{"./projects/zac-ng-lib/src/lib/form/form-error/custom-message-and-focus.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>CustomMessageAndFocus});class CustomMessageAndFocus extends String{message;focusOn;invalidNames;constructor(message,focusOn,invalidNames){super(),this.message=message,this.focusOn=focusOn,this.invalidNames=invalidNames}toString(){return this.message??""}}},"./projects/zac-ng-lib/src/lib/form/form-error/display-error/abstract-display-error.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>AbstractDisplayErrorService});class AbstractDisplayErrorService{static defaultIsDSExtranetErrorState(control,form,formSubmitted){return AbstractDisplayErrorService.errorWhenFormSubmittedAndInvalid(control,form,formSubmitted)}static errorWhenFormSubmittedAndInvalidAndDirtyAndTouched(control,form,formSubmitted){if(control)return formSubmitted&&!!(control.invalid&&control.dirty&&control.touched);if(form)return formSubmitted&&!!(form&&form.invalid&&form.dirty&&form.touched);throw new Error("AbstractDisplayErrorService.errorStateWhenDirtyAndTouched called with control and form parameters both null")}static errorWhenFormSubmittedAndInvalidAndTouched(control,form,formSubmitted){if(control)return formSubmitted&&!!(control&&control.invalid&&control.touched);if(form)return formSubmitted&&!(!form.invalid||!form.touched);throw new Error("AbstractDisplayErrorService.errorStateWhenTouched called with control and form parameters both null")}static errorWhenInvalidAndTouched(control,form,formSubmitted){if(control)return!!(control&&control.invalid&&control.touched);if(form)return!!(form&&form.invalid&&form.touched);throw new Error("AbstractDisplayErrorService.errorStateWhenTouched called with control and form parameters both null")}static errorWhenFormSubmittedAndInvalid(control,form,formSubmitted){if(control)return formSubmitted&&!(!control||!control.invalid);if(form)return formSubmitted&&!(!form||!form.invalid);throw new Error("AbstractDisplayErrorService.errorStateWhenTouched called with control and form parameters both null")}static defaultIsErrorState=AbstractDisplayErrorService.defaultIsDSExtranetErrorState}},"./projects/zac-ng-lib/src/lib/form/form-error/display-error/display-error.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{dH:()=>ValidatorConfig,un:()=>DisplayErrorDirective});var DisplayErrorDirective_1,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/internal-error-message-builder.service.ts"),_shared_util_event_queue__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/event-queue.ts"),_errors_errors_directive__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),_validation_error_event_bus_service__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/validation-error-event-bus.service.ts"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeWith.js"),_form_field_form_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts"),_shared_widget_value_accessor_base__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts");const cssContext=new(__webpack_require__("./projects/zac-ng-lib/src/lib/shared/css/error-css-context.ts").l);class ValidatorConfig{name;validatorFn;constructor(props){Object.assign(this,props)}}let DisplayErrorDirective=class DisplayErrorDirective{static{DisplayErrorDirective_1=this}internalErrorMessageBuilderService;elementRef;validationErrorEventBusService;cdr;ngForm;formGroupDirective;errorsDirective;ngModelGroupDirective;formGroupNameDirective;static ALERT_ELEMENT_HTML='<p id="alert-element" role="alert" aria-live="polite" class="sr-only"></p>';_controlName;set controlName(controlName){this._controlName=controlName}get controlName(){return this.formFieldComponent?.projectedNgControl?.name??this._controlName??void 0}errorMessages;set xFieldValidator(xFieldValidator){if(xFieldValidator instanceof ValidatorConfig)return this.ngForm?.control.addValidators(xFieldValidator.validatorFn),void(this._xFieldValidator=xFieldValidator.name);this._xFieldValidator=xFieldValidator}get xFieldValidator(){return this._xFieldValidator}a11y;ctrlA11y;interpolationContext;standalone=!1;_errorSet=!1;get errorSet(){return this._errorSet}set errorSet(value){this._errorSet=value,value?this.elementRef.nativeElement.classList.add(cssContext.errorSet):this.elementRef.nativeElement.classList.remove(cssContext.errorSet),this.cdr.detectChanges()}messageContainerElement;ariaLiveSet=!1;ariaDescribedBySet=!1;controlElement;controlElementIsRoleGroup=!1;controlElementAriaAttribute;labelElementSearched=!1;labelElement;_id;unsubscribe$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.B;alertElement;active=!1;_xFieldValidator;customErrorMsg;xFieldValidatorWithoutPath;formElement;formFieldComponent=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_form_field_form_field__WEBPACK_IMPORTED_MODULE_3__.k,{optional:!0});constructor(internalErrorMessageBuilderService,elementRef,validationErrorEventBusService,cdr,ngForm,formGroupDirective,errorsDirective,ngModelGroupDirective,formGroupNameDirective){this.internalErrorMessageBuilderService=internalErrorMessageBuilderService,this.elementRef=elementRef,this.validationErrorEventBusService=validationErrorEventBusService,this.cdr=cdr,this.ngForm=ngForm,this.formGroupDirective=formGroupDirective,this.errorsDirective=errorsDirective,this.ngModelGroupDirective=ngModelGroupDirective,this.formGroupNameDirective=formGroupNameDirective}ngOnInit(){if(this.active=!0,this.initializeAria(),this.alertElement=document.querySelector("#alert-element")??void 0,!this.alertElement){const container=document.createElement("div");container.innerHTML=DisplayErrorDirective_1.ALERT_ELEMENT_HTML,document.body.appendChild(container),this.alertElement=document.querySelector("#alert-element")??void 0}this.checkInput()}ngOnDestroy(){this.active=!1,this.unsubscribe$.next(),this.unsubscribe$.complete()}displayCustomError(errorMsg,durationMs,focus){this.customErrorMsg=errorMsg,this.standalone?this.displayOrHideStandaloneError(focus):this.displayErrorIfNeeded(),durationMs&&setTimeout((()=>this.clearCustomError()),durationMs)}clearCustomError(){if(this.customErrorMsg="",this.standalone)this.displayOrHideStandaloneError();else{if(this.getFormGroup()){const control=this.getFormControl();control&&(delete control.errors?.custom,control.updateValueAndValidity())}}}initializeAria(){this.a11y=!(!1===this.a11y||"false"===this.a11y),this.ctrlA11y=!(!1===this.ctrlA11y||"false"===this.ctrlA11y),this.ariaLiveSet=!1,this.ariaDescribedBySet=!1,this.controlElementIsRoleGroup=!1,this.controlElementAriaAttribute="aria-labelledby"}buildAndSetIdWith(id){const errorId=`error-${id}`;errorId!==this._id&&(this._id=errorId,this.elementRef.nativeElement.setAttribute("id",errorId))}ngAfterViewInit(){this.formElement=this.elementRef.nativeElement.closest("form")??document}ngAfterContentInit(){this.initMessageContainerElement(),this.listenStatusChangeOrFormSubmittedEvent()}listening=!1;listenStatusChangeOrFormSubmittedEvent(){this.standalone||this.listening||setTimeout((()=>{if(this.listening=!0,!this.errorsDirective)return void console.error("Il faut obligatoirement être dans un Form et poser une directive zacErrors sur ce Form ");let submit$=this.errorsDirective.submit$;submit$=submit$??(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(),submit$=submit$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.p)((_=>this.isPresentInDocument())));let reset$=this.errorsDirective.reset$;reset$=reset$??(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(),reset$=reset$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.p)((_=>this.isPresentInDocument())));const statusChange$=(this.getFormControl()?.statusChanges??(0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.p)((status=>"VALID"===status||"INVALID"===status))),controlChange$=!this.xFieldValidator&&this.getControlElement()?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.R)(this.getControlElement(),"input"):this.errorsDirective.input$;submit$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.X)(reset$),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.X)(statusChange$),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.X)(controlChange$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.Q)(this.unsubscribe$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.M)((_=>{setTimeout((()=>{this.displayErrorIfNeeded()}))}))).subscribe()}))}initMessageContainerElement(){this.messageContainerElement=this.elementRef.nativeElement}checkInput(){return this.xFieldValidator&&(this.xFieldValidatorWithoutPath=this.xFieldValidator),!0}displayOrHideStandaloneError(focus=!1){if(this.messageContainerElement){const element=this.getControlElement();this.customErrorMsg?(this.messageContainerElement.innerHTML=this.customErrorMsg,element&&(element.classList.remove(cssContext.ngValid),element.classList.add(cssContext.ngInvalid),element.classList.add(cssContext.zacStandaloneErrorForm),this.elementRef.nativeElement.classList.add(cssContext.zacStandaloneError)),setTimeout((()=>{this.errorSet=!0,focus&&element?element.focus():focus&&!element&&(this.elementRef.nativeElement.setAttribute("tabindex","-1"),this.elementRef.nativeElement.focus()),this.makeDirectiveAccessible(this.customErrorMsg),this.makeControlAccessible("1","2")}))):(setTimeout((()=>{this.errorSet=!1})),this.messageContainerElement.innerHTML="",element&&(element.classList.add("valid"),element.classList.remove(cssContext.ngInvalid),element.classList.remove(cssContext.zacStandaloneErrorForm),this.elementRef.nativeElement.classList.remove(cssContext.zacStandaloneError)),this.makeControlAccessible("1",""))}}displayErrorIfNeeded(){const formGroup=this.getFormGroup();if(this.messageContainerElement&&formGroup){this.errorSet=!1;const control=this.getFormControl();control&&(this.customErrorMsg&&control.setErrors({custom:this.customErrorMsg}),control.invalid&&this.displayFormControlError(control,formGroup)),!this._errorSet&&formGroup.invalid&&this.isCrossFieldsError(formGroup)?(this.displayFormGroupError(formGroup),this.markCrossFieldError()):this.unmarkCrossFieldError(),this.clearErrorIfNeeded()}}clearErrorIfNeeded(){!this._errorSet&&this.messageContainerElement.innerHTML.length>0&&this.displayNoError().then()}markCrossFieldError(){const focusOn=this.messageContainerElement?.getAttribute("focusOn");focusOn&&this.markInvalidForName(focusOn);const invalidNames=this.messageContainerElement?.getAttribute("invalidNames");invalidNames&&invalidNames.split(",").forEach((name=>this.markInvalidForName(name)))}unmarkCrossFieldError(){const focusOn=this.messageContainerElement?.getAttribute("focusOn");focusOn&&this.unmarkInvalidForName(focusOn);const invalidNames=this.messageContainerElement?.getAttribute("invalidNames");invalidNames&&invalidNames.split(",").forEach((name=>this.unmarkInvalidForName(name)))}markInvalidForName(nameOrId){const elt=this.getHtmlElementInFormFor(nameOrId);elt&&(elt.classList.remove(cssContext.ngValid),elt.classList.add(cssContext.ngInvalid))}unmarkInvalidForName(nameOrId){const elt=this.getHtmlElementInFormFor(nameOrId);elt&&elt.classList.remove(cssContext.ngInvalid)}getHtmlElementInFormFor(nameOrId){return this.formElement.querySelector(`[name=${nameOrId}],[id=${nameOrId}]`)}getFormControl(){return this.formFieldComponent?.projectedNgControl?this.formFieldComponent.projectedNgControl.control??void 0:this.controlName&&this.getFormGroup()?this.findFormControl():void 0}findFormControl(){const group=this.getSubGroupNamePath();let controlName;return controlName="number"==typeof this.controlName?""+this.controlName:this.controlName,group&&!controlName.includes(".")&&(this.controlName=this.getSubGroupNamePathString()+"."+this.controlName,controlName=this.controlName),this.getFormGroup()?.get(controlName)??void 0}displayFormGroupError(formGroup){this.xFieldValidator&&this.internalErrorMessageBuilderService.isErrorState(null,formGroup,!this.errorsDirective||!1!==this.errorsDirective.submitted)&&(this.findFormGroupErrorAndUpdateDOM(formGroup),this.errorSet=!0)}isCrossFieldsError(formGroup){if(this.xFieldValidator){const fg=this.getFinalFormGroup(formGroup);if(fg.errors){const path=void 0;return Object.keys(fg.errors).map((er=>path?path+"."+er:er)).filter((er=>this.xFieldValidator.indexOf(er)>=0)).length>0}return!1}return!1}getFinalFormGroup(formGroup){const path=this.getSubGroupNamePathString();return(path?formGroup.get(path):null)??formGroup}displayFormControlError(control,formGroup){(!control||control&&this.internalErrorMessageBuilderService.isErrorState(control,formGroup,!this.errorsDirective||!1!==this.errorsDirective.submitted))&&(this.findFormControlErrorAndUpdateDOM(control),this.errorSet=!0,this.cdr.detectChanges())}displayNoError(){var _this=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__.A)((function*(){yield _shared_util_event_queue__WEBPACK_IMPORTED_MODULE_11__.C.waitMilliseconds(0),_this.messageContainerElement&&_this.updateDOM("",_this.messageContainerElement.innerHTML,""),_this.ariaLiveSet=!1}))()}findFormControlErrorAndUpdateDOM(abstractControl){if(this.messageContainerElement&&abstractControl){const labelForName=this.searchLabelForName(this.controlName)??void 0,firstErrorKey=Object.keys(abstractControl.errors)[0];this.internalErrorMessageBuilderService.findErrorMessage(abstractControl,this.interpolationContext,this.controlName,labelForName,this.errorMessages).subscribe((v=>{const error=abstractControl.errors?abstractControl.errors[firstErrorKey]:void 0;error?.focusOn&&this.messageContainerElement.setAttribute("focusOn",error.focusOn),this.updateDOM(firstErrorKey,this.messageContainerElement.innerHTML,v)}),(_=>{this.updateDOM(firstErrorKey,this.messageContainerElement.innerHTML,_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_12__.$s)}))}}findFormGroupErrorAndUpdateDOM(fb){const formGroup=fb&&this.getFinalFormGroup(fb);if(this.messageContainerElement&&formGroup&&this.xFieldValidator&&formGroup.errors)for(const errorKey in formGroup.errors)this.xFieldValidatorWithoutPath&&this.xFieldValidatorWithoutPath.indexOf(errorKey)>-1&&this.internalErrorMessageBuilderService.findErrorMessageXField(formGroup,[this.xFieldValidatorWithoutPath],this.interpolationContext).subscribe((v=>{const error=formGroup.errors[errorKey];error?.focusOn&&this.messageContainerElement.setAttribute("focusOn",error.focusOn),error?.invalidNames&&this.messageContainerElement.setAttribute("invalidNames",error.invalidNames),this.updateDOM(errorKey,this.messageContainerElement.innerHTML,v,error?.focusOn)}),(_=>{this.updateDOM(errorKey,this.messageContainerElement.innerHTML,_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_12__.$s)}))}getSubGroupNamePath(){const path=this.ngModelGroupDirective?.path??this.formGroupNameDirective?.path;return path&&this.getFormGroup()?.get(path)?path:void 0}getSubGroupNamePathString(){return this.getSubGroupNamePath()?.join(".")}getFormGroup(){return this.ngForm?this.formGroupDirective?void console.error("Présence incohérente a la fois d'un FormGroup provenant de FormsModule et de ReactiveFormsModule"):this.ngForm.form:this.formGroupDirective?this.formGroupDirective.form:void console.error("Absence incohérente FormGroup provenant de FormsModule ou de ReactiveFormsModule")}searchLabelForName(name){try{return this.getLabelElement(name),this.labelElement?this.labelElement.textContent:null}catch(e){return console.error(`DisplayErrorDirective.searchLabelForName=${name} :`,e),null}}getLabelElement(name){if(this.getControlElement()&&!this.labelElementSearched){this.labelElementSearched=!0;const id=this.controlElement?.id;id&&(this.labelElement=window.document.querySelector(`[for="${id}"]`))}return this.labelElement}getControlElement(){return this.xFieldValidator||this.controlElement||(this.findControlElement(),this.controlElement&&this.initializeForControlElement(),this.controlElement||this.xFieldValidator||!this.isPresentInDocument()||(console.warn(`DisplayErrorDirective ne peut pas trouver le FormControl de nom : ${this.controlName}`,this.elementRef.nativeElement),console.warn("Certaines fonctionnalités (accessibilité,...)  ne peuvent être fournies"))),this.controlElement}initializeForControlElement(){const controlElement=this.controlElement;controlElement.id&&!this._id&&this.buildAndSetIdWith(this.xFieldValidator??controlElement.id),this.controlElementIsRoleGroup="group"===controlElement.getAttribute("role"),this.controlElementAriaAttribute="aria-describedby"}findControlElement(){if(this.formFieldComponent&&(this.controlElement=this.formFieldComponent.projectedNgControlRef?.nativeElement),!this.controlElement){const name=this.controlName?(""+this.controlName).split(".").pop():void 0;this.controlElement=window.document.querySelector(`[name="${name}"],[formControlName="${name}"],[ng-reflect-name="${name}"]`)}return this.controlElement}updateDOM(validatorName,oldValue,newValue,focusOn){this.messageContainerElement&&(validatorName&&newValue&&this.validationErrorEventBusService.publish({controlName:this.controlName??this.controlElement?.getAttribute("name")??"",validatorName,message:newValue,element:this.controlElement??this.elementRef.nativeElement}),(this.xFieldValidator||oldValue!==newValue)&&(this.messageContainerElement.innerHTML=newValue,this.makeControlAccessible(oldValue,newValue,focusOn),this.makeDirectiveAccessible(newValue)))}makeControlAccessible(oldValue,newValue,focusOn){if(this.ctrlA11y&&oldValue!==newValue){const targetElement=this.getZacValueAccessorIfExists()?.getLabelForTargetElement()??this.getControlElement()??this.getElementAt(focusOn);targetElement&&(newValue&&!this.ariaDescribedBySet?(this.ariaDescribedBySet=!0,this._id&&this.addControlAriaAttributes(targetElement)):!newValue&&this.ariaDescribedBySet&&this.removeControlAriaAttributes())}}getZacValueAccessorIfExists(){const va=this.formFieldComponent?.projectedNgControl?.valueAccessor;return va&&va instanceof _shared_widget_value_accessor_base__WEBPACK_IMPORTED_MODULE_13__.k?va:null}makeDirectiveAccessible(newValue){this.alertElement&&(this.alertElement.innerHTML=newValue?.length>0?(this.controlName??this.xFieldValidator??"message global")+": "+newValue:newValue)}removeControlAriaAttributes(){if(this.ariaDescribedBySet=!1,this.controlElement&&this.controlElementAriaAttribute){let actual=this.controlElement.getAttribute(this.controlElementAriaAttribute);this._id===actual?this.controlElement.removeAttribute(this.controlElementAriaAttribute):actual&&(actual=actual.split(" ").filter((v=>v!==this._id)).join(" "),this.controlElement.setAttribute(this.controlElementAriaAttribute,actual))}}addControlAriaAttributes(targetElement){if(targetElement&&this.controlElementAriaAttribute){const actual=targetElement.getAttribute(this.controlElementAriaAttribute);this._id&&(actual?actual.indexOf(this._id)<=-1&&targetElement.setAttribute(this.controlElementAriaAttribute,`${this._id} ${actual}`):targetElement.setAttribute(this.controlElementAriaAttribute,this._id))}}getElementAt(focusOn){return focusOn?document.querySelector(`#${focusOn},[name='${focusOn}']`):void 0}isPresentInDocument(){return this.elementRef.nativeElement.isConnected}static ctorParameters=()=>[{type:_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_12__.ZP},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef},{type:_validation_error_event_bus_service__WEBPACK_IMPORTED_MODULE_14__.J},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.cV,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Optional}]},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.j4,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Optional}]},{type:_errors_errors_directive__WEBPACK_IMPORTED_MODULE_16__.R,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Optional}]},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.Y4,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Optional}]},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.$R,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Optional}]}];static propDecorators={controlName:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input,args:["zacDisplayError"]}],errorMessages:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],xFieldValidator:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],a11y:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],ctrlA11y:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],interpolationContext:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],standalone:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}]}};DisplayErrorDirective=DisplayErrorDirective_1=(0,tslib__WEBPACK_IMPORTED_MODULE_17__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Directive)({selector:"[zacDisplayError]",standalone:!0})],DisplayErrorDirective)},"./projects/zac-ng-lib/src/lib/form/form-error/display-error/internal-error-message-builder.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$s:()=>DEFAULT_ERROR_TEXT,ZP:()=>InternalErrorMessageBuilderService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),abstract_display_error_service=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/abstract-display-error.service.ts"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),router_Dwfin5Au=__webpack_require__("./node_modules/@angular/router/fesm2022/router-Dwfin5Au.mjs"),custom_message_and_focus=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/custom-message-and-focus.ts"),validation_error_event_bus_service=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/validation-error-event-bus.service.ts"),configuration_zac=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/config/configuration-zac.ts");const error_config_ERROR_MESSAGES_CONFIG=new configuration_zac.MP(new class ErrorMessagesConfig{required="Veuillez renseigner cette information.";minlength="Veuillez renseigner au moins {{r}} caractères.";maxlength="Veuillez renseigner un maximum de {{r}} caractères.";max="Veuillez renseigner un nombre inférieur ou égal à {{r}}.";min="Veuillez renseigner un nombre supérieur ou égal à {{r}}.";nirlength13="Veuillez renseigner un numéro de sécurité sociale de 13 caractères.";nirlength15="Veuillez renseigner un numéro de sécurité sociale de 15 caractères.";nirpattern="Veuillez renseigner un identifiant valide.";nirluhn="Veuillez renseigner un numéro de sécurité sociale valide.";date10="Veuillez renseigner une date au format JJ/MM/AAAA.";hour5="Veuillez renseigner une heure au format HH:MM.";choicerequired="Veuillez faire au moins {{r}} choix.";email="Veuillez renseigner un e-mail valide.";number="Veuillez renseigner un nombre.";date10Period="La date de saisie est incorrecte; elle doit être comprise entre {{r}} et {{r2}}.";date10Min="La date saisie est incorrecte; elle doit être supérieure ou égale à {{r}}.";date10Max="La date saisie est incorrecte; elle doit être inférieure ou égale à {{r2}}.";pattern="Veuillez renseigner une valeur valide.";invalid="Veuillez renseigner une valeur valide.";custom="<MESSAGE CUSTOM DEFINI DIRECTEMENT DANS LE VALIDATOR>"}).asRoot();var InternalErrorMessageBuilderService_1,errors_config=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors.config.ts");const DEFAULT_ERROR_TEXT="Ce champ est invalide";let InternalErrorMessageBuilderService=class InternalErrorMessageBuilderService{static{InternalErrorMessageBuilderService_1=this}router;customErrorSourceService;validatioErrorBus;static ErrorConfigTokenForService=new core.InjectionToken("ZacErrorMessagesConfigToken",{providedIn:"platform",factory:()=>error_config_ERROR_MESSAGES_CONFIG});errorMessagesConfig=(0,core.inject)(InternalErrorMessageBuilderService_1.ErrorConfigTokenForService);errorsConfig=(0,core.inject)(errors_config.H);static REGEXP_VARIABLES=new RegExp("{{[^{]*}}","gi");constructor(router,customErrorSourceService,validatioErrorBus){this.router=router,this.customErrorSourceService=customErrorSourceService,this.validatioErrorBus=validatioErrorBus,this.router.events.pipe((0,filter.p)((e=>e instanceof router_Dwfin5Au.wF))).subscribe()}findErrorMessage(abstractControlWithError,interpolationContext,ctrlName,labelForName,customErrorsMessages){if(!abstractControlWithError.errors)throw new Error("InternalDisplayErrorService call with abstractControl.errors null or undefined");const firstErrorKey=Object.keys(abstractControlWithError.errors)[0],firstErrorValue=abstractControlWithError.errors[firstErrorKey];return this.findErrorText(firstErrorKey,firstErrorValue,interpolationContext,ctrlName,labelForName,customErrorsMessages)}findErrorMessageXField(abstractControlWithError,xFieldValidatorNames,interpolationContext){if(!abstractControlWithError.errors)throw new Error("InternalDisplayErrorService call with abstractControl.errors null or undefined");const firstErrorKey=Object.keys(abstractControlWithError.errors).filter((er=>xFieldValidatorNames.indexOf(er)>=0))[0],firstErrorValue=abstractControlWithError.errors[firstErrorKey];return this.findErrorText(firstErrorKey,firstErrorValue,interpolationContext)}findErrorText(validatorName,validatorValue,interpolationContext,ctrlName,labelForName,customErrorsMessages){let $errorText=null;return this.errorsConfig?.getErrorMessage&&ctrlName&&($errorText=this.errorsConfig.getErrorMessage(ctrlName,validatorName)),$errorText||($errorText=(0,of.of)(this.getDefaultValidationMessage(validatorName,customErrorsMessages))),$errorText.pipe((0,map.T)((errorMsg=>errorMsg||this.getDefaultValidationMessage(validatorName))),(0,map.T)((errorMsg=>interpolationContext&&errorMsg&&this.errorsConfig?.interpolate?this.errorsConfig.interpolate(errorMsg,interpolationContext):errorMsg)),(0,map.T)((errorMsg=>this.interpolateWithControlName(errorMsg,ctrlName,labelForName))),(0,map.T)((errorMsg=>validatorName.indexOf("custom")>-1||validatorValue instanceof custom_message_and_focus.K?validatorValue.toString():errorMsg)),(0,map.T)((errorMsg=>this.interpolateWithValidatorReturnValue(errorMsg,validatorName,validatorValue,"{{r}}","required"))),(0,map.T)((errorMsg=>this.interpolateWithValidatorReturnValue(errorMsg,validatorName,validatorValue,"{{r2}}","required2"))),(0,map.T)((errorMsg=>this.interpolateWithValidatorReturnValue(errorMsg,validatorName,validatorValue,"{{a}}","actual"))),(0,map.T)((errorMsg=>this.removeVariable(errorMsg))))}isErrorState(control,form,formSubmitted){return this.errorsConfig.isErrorState(control,form,formSubmitted)}removeVariable(errorText){return errorText.replace(InternalErrorMessageBuilderService_1.REGEXP_VARIABLES,"")}interpolateWithControlName(errorText,controlName,labelFormName){if((controlName||labelFormName)&&errorText.indexOf("{{n}}")>-1){const label=labelFormName;return errorText.replace("{{n}}",label?`"${label}"`:""+controlName)}return errorText}interpolateWithValidatorReturnValue(errorText,pValidatorName,validatorValue,textVariable,validatorPropertyPrefix){if(errorText.indexOf(textVariable)>-1){const validatorName=pValidatorName.toLowerCase(),requiredValuePropertyName=Object.keys(validatorValue).find((name=>{const nameLower=name.toLowerCase();return nameLower.indexOf(validatorPropertyPrefix)>-1||nameLower.indexOf(validatorName)>-1||validatorName.indexOf(nameLower)>-1}));return requiredValuePropertyName?errorText.replace(textVariable,validatorValue[requiredValuePropertyName]??""):errorText.replace(textVariable,"")}return errorText}getDefaultValidationMessage(validatorName,customErrorsMessages){return(customErrorsMessages&&customErrorsMessages[validatorName])??(this.errorMessagesConfig[validatorName]||DEFAULT_ERROR_TEXT)}static ctorParameters=()=>[{type:router_Dwfin5Au.Ix},{type:abstract_display_error_service.I,decorators:[{type:core.Optional}]},{type:validation_error_event_bus_service.J,decorators:[{type:core.Optional}]}]};InternalErrorMessageBuilderService=InternalErrorMessageBuilderService_1=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],InternalErrorMessageBuilderService)},"./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@charset \"UTF-8\";\n/*\n\tImproved screen reader only CSS class\n\t@author Gaël Poupard\n\t\t@note Based on Yahoo!'s technique\n\t\t@author Thierry Koblentz\n\t\t@see https://developer.yahoo.com/blogs/ydn/clip-hidden-content-better-accessibility-53456.html\n\t* 1.\n\t\t@note `clip` is deprecated but works everywhere\n\t\t@see https://developer.mozilla.org/en-US/docs/Web/CSS/clip\n\t* 2.\n\t\t@note `clip-path` is the future-proof version, but not very well supported yet\n\t\t@see https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path\n\t\t@see http://caniuse.com/#search=clip-path\n\t\t@author Yvain Liechti\n\t\t@see https://twitter.com/ryuran78/status/778943389819604992\n\t* 3.\n\t\t@note preventing text to be condensed\n\t\tauthor J. Renée Beach\n\t\t@see https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n\t\t@note Drupal 8 goes with word-wrap: normal instead\n\t\t@see https://www.drupal.org/node/2045151\n\t\t@see http://cgit.drupalcode.org/drupal/commit/?id=5b847ea\n\t* 4.\n\t\t@note !important is important\n\t\t@note Obviously you wanna hide something\n\t\t@author Harry Roberts\n\t\t@see https://csswizardry.com/2016/05/the-importance-of-important/\n*/\n/*\n\tUse in conjunction with .sr-only to only display content when it's focused.\n\t@note Useful for skip links\n\t@see http://www.w3.org/TR/2013/NOTE-WCAG20-TECHS-20130905/G1\n\t@note Based on a HTML5 Boilerplate technique, included in Bootstrap\n\t@note Fixed a bug with position: static on iOS 10.0.2 + VoiceOver\n\t\t@author Sylvain Pigeard\n\t\t@see https://github.com/twbs/bootstrap/issues/20732\n*/\n.ng-error.error {\n  display: block;\n  overflow: hidden;\n  max-height: 0;\n}\n.ng-error.error.--error-set {\n  max-height: 100px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ErrorComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var ErrorComponent_1,error_componentngResource=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.scss?ngResource"),error_componentngResource_default=__webpack_require__.n(error_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),display_error_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/display-error.directive.ts"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),internal_error_message_builder_service=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/internal-error-message-builder.service.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),validation_error_event_bus_service=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/validation-error-event-bus.service.ts"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),theme_service=__webpack_require__("./projects/zac-ng-lib/src/lib/theme/theme.service.ts"),pro_light_svg_icons=__webpack_require__("./node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),pro_regular_svg_icons=__webpack_require__("./node_modules/@fortawesome/pro-regular-svg-icons/index.mjs"),component_icons_catalog=__webpack_require__("./projects/zac-ng-lib/src/lib/theme/component-icons-catalog.ts"),light_icon_component=__webpack_require__("./projects/zac-ng-lib/src/lib/theme/icon/light-icon.component.ts");const cssContext=new(__webpack_require__("./projects/zac-ng-lib/src/lib/shared/css/error-css-context.ts").l);let ErrorComponent=class ErrorComponent extends display_error_directive.un{static{ErrorComponent_1=this}internalErrorMessageBuilderService;static errorThemeModuleHelper=new component_icons_catalog.P1(ErrorComponent_1,[pro_regular_svg_icons.tUE],[pro_light_svg_icons.zpE]);static ConfigTokenWithServices=internal_error_message_builder_service.ZP.ErrorConfigTokenForService;static ConfigTokenServices=[internal_error_message_builder_service.ZP];set controlName(controlName){this._controlName=controlName}get controlName(){return super.controlName}cssClasses;static defaultCssClasses={before:"fal fa-exclamation-triangle"};getNgClass(name){return this.cssClasses&&(this.cssClasses[name]||"")}constructor(internalErrorMessageBuilderService,elementRef,validationErrorEventBusService,cdr,ngForm,formGroupDirective,errorsDirective,ngModelGroupDirective,formGroupNameDirective){super(internalErrorMessageBuilderService,elementRef,validationErrorEventBusService,cdr,ngForm,formGroupDirective,errorsDirective,ngModelGroupDirective,formGroupNameDirective),this.internalErrorMessageBuilderService=internalErrorMessageBuilderService,(0,core.inject)(theme_service.F).feedIconLibraryForComponent(ErrorComponent_1.errorThemeModuleHelper)}ngOnInit(){this.cssClasses||(this.cssClasses={}),this.cssClasses=Object.assign({},ErrorComponent_1.defaultCssClasses,this.cssClasses),this.elementRef.nativeElement.classList.add("error","ng-error"),super.ngOnInit()}initMessageContainerElement(){this.messageContainerElement=this.elementRef.nativeElement.querySelector(".error-message")||void 0}cssContext=cssContext;static ctorParameters=()=>[{type:internal_error_message_builder_service.ZP},{type:core.ElementRef},{type:validation_error_event_bus_service.J},{type:core.ChangeDetectorRef},{type:fesm2022_forms.cV,decorators:[{type:core.Optional}]},{type:fesm2022_forms.j4,decorators:[{type:core.Optional}]},{type:errors_directive.R,decorators:[{type:core.Optional}]},{type:fesm2022_forms.Y4,decorators:[{type:core.Optional}]},{type:fesm2022_forms.$R,decorators:[{type:core.Optional}]}];static propDecorators={controlName:[{type:core.Input}],cssClasses:[{type:core.Input}]}};ErrorComponent=ErrorComponent_1=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-error",template:'<div\n  [ngClass]="getNgClass(\'container\')"\n  class="{{ cssContext.errorContainer }}"\n>\n  <zac-light-icon\n    *ngIf="errorSet"\n    iconName="error"\n    [ngClass]="getNgClass(\'before\')"\n    class="{{ cssContext.errorBefore }} {{ cssContext.iconError }}"\n  />\n  <p [ngClass]="getNgClass(\'msg\')" class="error-message"></p>\n  <span\n    *ngIf="errorSet"\n    [ngClass]="getNgClass(\'after\')"\n    class="{{ cssContext.errorAfter }}"\n  ></span>\n</div>\n',encapsulation:core.ViewEncapsulation.None,imports:[common_module_Dx7dWex5.MD,common_module_Dx7dWex5.YU,light_icon_component.N],changeDetection:core.ChangeDetectionStrategy.OnPush,host:{class:"zac-error"},styles:[error_componentngResource_default()]})],ErrorComponent)},"./projects/zac-ng-lib/src/lib/form/form-error/errors.config.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ERRORS_CONFIG_TOKEN});var _display_error_abstract_display_error_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/abstract-display-error.service.ts"),_shared_config_configuration_zac__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/config/configuration-zac.ts"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");class ErrorsConfig{isErrorState=(control,form,formSubmitted)=>_display_error_abstract_display_error_service__WEBPACK_IMPORTED_MODULE_0__.I.defaultIsDSExtranetErrorState(control,form,formSubmitted);getErrorMessage;interpolate}const ERRORS_CONFIG_TOKEN=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("ZacErrorsConfigToken",{providedIn:"platform",factory:()=>new _shared_config_configuration_zac__WEBPACK_IMPORTED_MODULE_2__.MP(new ErrorsConfig).asThemeSensitiveRoot()})},"./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>ErrorsDirective});var ErrorsDirective_1,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_shared_util_event_queue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/event-queue.ts"),_shared_widget_cdr_directive__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/cdr.directive.ts"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js"),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@angular/core/fesm2022/rxjs-interop.mjs"),_display_error_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/display-error/internal-error-message-builder.service.ts"),_errors_config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors.config.ts"),_validation_error_event_bus_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/validation-error-event-bus.service.ts");let ErrorsDirective=class ErrorsDirective extends _shared_widget_cdr_directive__WEBPACK_IMPORTED_MODULE_0__.l{static{ErrorsDirective_1=this}elementRef;ngForm;formGroupDirective;static ConfigTokenWithServices=_errors_config__WEBPACK_IMPORTED_MODULE_1__.H;static ConfigTokenServices=[_display_error_internal_error_message_builder_service__WEBPACK_IMPORTED_MODULE_2__.ZP];static defaultErrorCssSelector="[name].ng-invalid,[formcontrolname].ng-invalid,:not([role=tab])[tabindex].ng-invalid,input.ng-invalid,select.ng-invalid,textarea.ng-invalid";validationErrorEventBusService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.inject)(_validation_error_event_bus_service__WEBPACK_IMPORTED_MODULE_4__.J);_cssSelector;_allErrors;_conditionExecution;_submitted=!1;_nativeHTMLFormElement;unsubject$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.B;constructor(cdr,elementRef,ngForm,formGroupDirective){super(cdr),this.elementRef=elementRef,this.ngForm=ngForm,this.formGroupDirective=formGroupDirective,this._allErrors=!0,this._nativeHTMLFormElement=elementRef.nativeElement}set allErrors(value){this._allErrors=void 0===value||"false"!==String(value)}set cssSelector(value){void 0!==value&&(this._cssSelector=value)}set onlyIf(condition){this._conditionExecution=void 0===condition||"false"!==String(condition)}get onlyIf(){return this._conditionExecution??!0}submitEmitter=new rxjs__WEBPACK_IMPORTED_MODULE_6__.t(!1);submit$=this.submitEmitter;$submitted=(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_7__.ot)(this.submit$);resetEmitter=new rxjs__WEBPACK_IMPORTED_MODULE_6__.t(!1);reset$=this.resetEmitter;inputEmitter=new rxjs__WEBPACK_IMPORTED_MODULE_5__.B;input$=this.inputEmitter;errors$=this.submit$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.H)((()=>this.validationErrorEventBusService?.validationError$)));get submitted(){return!0===this._conditionExecution||!1===this._conditionExecution?this._conditionExecution:this._submitted}ngControls;ngControlsElements;ngOnInit(){void 0===this._cssSelector&&(this._cssSelector=ErrorsDirective_1.defaultErrorCssSelector);const e1$=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.R)(this._nativeHTMLFormElement,"submit"),e2$=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.R)(this._nativeHTMLFormElement,"nGsubmit");(0,rxjs__WEBPACK_IMPORTED_MODULE_10__.h)(e1$,e2$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.Q)(this.unsubject$),(0,rxjs__WEBPACK_IMPORTED_MODULE_12__.B)(100),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.M)((_=>this.onSubmit()))).subscribe()}ngOnDestroy(){this.unsubject$.next(),this.unsubject$.complete()}onInput(element){var _this=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_14__.A)((function*(){_this.inputEmitter.next(),yield _this.waitUntilValuesChangeInModels();const name=element.getAttribute("name");if(name){const formGroup=_this.getFormGroup(),control=formGroup&&formGroup.controls[name];control&&control.markAsUntouched()}}))()}onReset(element){this._submitted=!1,this.resetEmitter.next(!0)}onSubmit(){var _this2=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_14__.A)((function*(){console.debug("ErrorsDirective onSubmit()"),_this2.getFormGroup()?.updateValueAndValidity({}),yield _this2.waitUntilValuesChangeInModels(),_this2._submitted=!0,!1!==_this2._conditionExecution&&_this2.showErrors(_this2._nativeHTMLFormElement),_this2.submitEmitter.next(!0)}))()}showErrors(htmlFormElement){const formGroup=this.getFormGroup();htmlFormElement&&formGroup&&(!1!==this._conditionExecution&&formGroup.valid?htmlFormElement.classList.remove("--error-set"):htmlFormElement.classList.add("--error-set"),this.findAndShowFormGroupError(htmlFormElement),this.findAndShowFormControlError(htmlFormElement),this._allErrors&&this.showAllControlsInError(),this.cdr.markForCheck())}findAndShowFormGroupError(htmlFormElement){htmlFormElement=htmlFormElement||this.elementRef.nativeElement;const formGroup=this.getFormGroup();return this.findAndShowFormGroupErrorOnFormGroupAndHtmlFormElement(formGroup,htmlFormElement)}findAndShowFormGroupErrorOnFormGroupAndHtmlFormElement(formGroup,htmlFormElement){const formGroupErrors=formGroup?.errors;let error,name,formGroupError;if(formGroupErrors){for(error in formGroupErrors)if(formGroupError=formGroupErrors[error],"object"==typeof formGroupError&&"focusOn"in formGroupError&&(name=formGroupErrors[error].focusOn,name)){const htmlElement=htmlFormElement.querySelector(`[name="${name}"],[id="${name}"]`);if(htmlElement)return this.putFocusOn(htmlElement),!0}}else if(formGroup?.invalid){let r=!1;for(const control in formGroup.controls)if(formGroup.controls[control]instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_15__.gE&&(r=r||this.findAndShowFormGroupErrorOnFormGroupAndHtmlFormElement(formGroup.controls[control],htmlFormElement),r))return r;return r}return!1}findAndShowFormControlError(htmlFormElement){htmlFormElement=htmlFormElement||this.elementRef.nativeElement;const element=this.findFirstFormControlError(htmlFormElement);if(element){const focusOn=this.findFocusOnIndicationFor(element);if(focusOn){const focusOnHtmlElement=htmlFormElement.querySelector(`[name="${focusOn}"],[id="${focusOn}"]`);focusOnHtmlElement?this.focusOnError(focusOnHtmlElement):this.focusOnError(element)}else this.focusOnError(element);return!0}return!1}findFocusOnIndicationFor(element){const name=element.getAttribute("id")||element.getAttribute("name"),formGroup=this.getFormGroup(),elementFormControl=formGroup&&name&&formGroup.controls&&formGroup.controls[name],elementFormControlErrors=elementFormControl&&elementFormControl.errors;return elementFormControlErrors&&elementFormControlErrors.focusOn}showAllControlsInError(){const formGroup=this.getFormGroup();this.showAllErrorsInFormGroup(formGroup)}showAllErrorsInFormGroup(formGroup){const controls=formGroup&&formGroup.controls;let control;if(controls)for(control in controls)controls[control].invalid&&(controls[control]instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_15__.gE?this.showAllErrorsInFormGroup(controls[control]):(controls[control].markAsTouched(),controls[control].markAsDirty()))}findFirstFormControlError(htmlFormElement){const formGroup=this.getFormGroup();return formGroup&&formGroup.invalid?this.tryToFindFirstErrorWithCssSelector(htmlFormElement)||this.tryToFindFirstErrorInImmediateContentChildren():null}tryToFindFirstErrorInImmediateContentChildren(){let index=-1;const ngControlInvalid=this.ngControls.find((ngControl=>(index++,1==ngControl.invalid)));if(ngControlInvalid&&index>-1){ngControlInvalid.control&&ngControlInvalid.control.markAsDirty();const elementRef=this.ngControlsElements.find(((el,i)=>i===index));if(elementRef)return elementRef.nativeElement}return null}tryToFindFirstErrorWithCssSelector(htmlFormElement){return this._cssSelector?htmlFormElement.querySelector(this._cssSelector):null}focusOnError(element){this.putFocusOn(element),this.forceErrorToShowIfNeeded(element)}forceErrorToShowIfNeeded(el){el.classList.contains("ng-touched")&&el.classList.contains("ng-dirty")||(this.triggerValidationOn(el),this.putFocusOn(el))}putFocusOn(el){el&&el.focus&&el.focus()}triggerValidationOn(el){this.fireEvent(el,"blur"),this.fireEvent(el,"focusout"),this.fireEvent(el,"focusin")}fireEvent(el,evtName){const event=el.ownerDocument.createEvent("Event");event.initEvent(evtName,!0,!0),el.dispatchEvent(event)}getFormGroup(){return this.ngForm?this.ngForm.form:this.formGroupDirective?this.formGroupDirective.form:null}waitUntilValuesChangeInModels(){return _shared_util_event_queue__WEBPACK_IMPORTED_MODULE_16__.C.skipTurn()}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ChangeDetectorRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ElementRef},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.cV,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Optional}]},{type:_angular_forms__WEBPACK_IMPORTED_MODULE_15__.j4,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Optional}]}];static propDecorators={allErrors:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input,args:["zacErrors"]}],cssSelector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input}],onlyIf:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.Input}],ngControls:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ContentChildren,args:[_angular_forms__WEBPACK_IMPORTED_MODULE_15__.vO,{descendants:!0}]}],ngControlsElements:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ContentChildren,args:[_angular_forms__WEBPACK_IMPORTED_MODULE_15__.vO,{read:_angular_core__WEBPACK_IMPORTED_MODULE_3__.ElementRef,descendants:!0}]}],onInput:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostListener,args:["input",["$event.target"]]}],onReset:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_3__.HostListener,args:["reset",["$event.target"]]}]}};ErrorsDirective=ErrorsDirective_1=(0,tslib__WEBPACK_IMPORTED_MODULE_17__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.Directive)({selector:"form [zacFocusError], form [zacErrors]",standalone:!0})],ErrorsDirective)},"./projects/zac-ng-lib/src/lib/form/form-error/validation-error-event-bus.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>ValidationErrorEventBusService});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");let ValidationErrorEventBusService=class ValidationErrorEventBusService{errorEmitter=new rxjs__WEBPACK_IMPORTED_MODULE_0__.B;publish(event){this.errorEmitter.next(event)}validationError$=this.errorEmitter;constructor(){}static ctorParameters=()=>[]};ValidationErrorEventBusService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"})],ValidationErrorEventBusService)},"./projects/zac-ng-lib/src/lib/form/form-field/abstract-form-field.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>AbstractFormFieldComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),value_accessor_base=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts"),zac_label_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/zac-label/zac-label.component.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),error_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.ts"),zac_label_for_input_service=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/zac-label-for-input.service.ts"),boolean_property_DaaVhX5A=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs");let ReadonlyDirective=class ReadonlyDirective{readonly=(0,core.input)(!1,{transform:boolean_property_DaaVhX5A.c,alias:"zacReadonly"});static propDecorators={readonly:[{type:core.Input,args:[{isSignal:!0,alias:"zacReadonly",required:!1,transform:void 0}]}]}};ReadonlyDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[zacReadonly]",standalone:!0})],ReadonlyDirective);var required_or_optional_token=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/required-or-optional-token.ts"),component_util=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/component-util.ts");let AbstractFormFieldComponent=class AbstractFormFieldComponent{elementRef;render;labelForInputService;errorsDirective;get stringLabel(){return this._stringLabel}get hint(){return this._hint}set hint(value){this._hint=value}readonly=(0,core.input)(!1,{transform:boolean_property_DaaVhX5A.c});_stringLabel;_hint;projectedNgControl;projectedNgControlRef;projectedNgControlTemplate;projectedLabelComponent;projectedErrorComponent;generatedZacLabelComponent;contentControlId;hintClasses="label-hint zac-label-hint";readonlyDirective=(0,core.inject)(ReadonlyDirective,{optional:!0});$isRequired=(0,core.signal)(void 0);$requiredOrOptionalClause=(0,core.computed)((()=>{let result=null;const required=this.$isRequired();return this.$readonly()?null:(this.requiredOrOptionalToken&&(result=required?!0===this.$isRequiredMode()||void 0===this.$isRequiredMode()?null:"(obligatoire)":!0===this.$isRequiredMode()?"(facultatif)":null),result)}));get $isRequiredMode(){return this.requiredOrOptionalToken?.$isRequiredMode??(0,core.signal)(void 0)}get isReadonly(){return this.$readonly()}$readonly=(0,core.computed)((()=>(this.readonly()||this.readonlyDirective?.readonly())??!1));$readOnlyStateApplied=(0,core.computed)((()=>{const readonly=this.$readonly();return readonly?(this.ngControlElement?.setAttribute("readonly",""),this.projectedNgControl?.control?.disable({}),this.ngControlElement?.removeAttribute("disabled")):(this.ngControlElement?.removeAttribute("readonly"),this.projectedNgControl?.control?.enable()),readonly}));get labelId(){return this.generatedZacLabelComponent?.zacLabelId??this.projectedLabelComponent?.zacLabelId}requiredOrOptionalToken=(0,core.inject)(required_or_optional_token.C,{optional:!0});cdr=(0,core.inject)(core.ChangeDetectorRef);ngControlElement;zacValueAccessor=!1;$isZacRoleGroup=(0,core.computed)((()=>{const va=this.projectedNgControl?.valueAccessor;return va instanceof value_accessor_base.k&&(va.$isRoleGroup()&&(this.stringLabel||this.projectedLabelComponent))}));constructor(elementRef,render,labelForInputService,errorsDirective){this.elementRef=elementRef,this.render=render,this.labelForInputService=labelForInputService,this.errorsDirective=errorsDirective}ngOnInit(){this.render.addClass(this.elementRef.nativeElement,"form_field_wrapper")}ngAfterContentInit(){this.ngControlElement=this.projectedNgControlRef?.nativeElement,this.feedIdWithLabelIfNotSet()}ngAfterViewInit(){setTimeout((()=>{this.$isRequired.set(component_util.kN.isRequired(this.projectedNgControl?.control)),this.a11yConnectLabelForElement()}))}feedIdWithLabelIfNotSet(){this.projectedNgControl&&this.projectedNgControlRef&&(this.contentControlId=this.projectedNgControlRef.nativeElement.getAttribute("id"),this.contentControlId||(this.contentControlId=`${this.projectedNgControl.name}`,this.contentControlId||console.warn("FormControl sans nom :",this.projectedNgControlRef.nativeElement),this.projectedNgControlRef?.nativeElement.setAttribute("id",this.contentControlId)))}a11yConnectLabelForElement(){const labelComponent=this.projectedLabelComponent??this.generatedZacLabelComponent;let boundElement;this.projectedNgControlRef&&(labelComponent&&(labelComponent.forElement===this.projectedNgControlRef.nativeElement&&labelComponent.ngControl===this.projectedNgControl||labelComponent.connectToControl(this.projectedNgControlRef.nativeElement,this.projectedNgControl),boundElement=this.connectLabelToBoundElement(labelComponent)),this.a11yHint(boundElement))}connectLabelToBoundElement(labelComponent){if(this.projectedNgControlRef)return this.labelForInputService.tryToConnectNonNativeFormControlElementToZacLabelElement(this.projectedNgControlRef.nativeElement,labelComponent.elementRef.nativeElement)}$effectWhenReadOnlyRetryConnectToLabel=(0,core.effect)((()=>{this.$readonly()&&!this.$isZacRoleGroup()&&setTimeout((()=>{this.a11yConnectLabelForElement()}))}));a11yHint(boundElement){boundElement||(boundElement=this.labelForInputService.determineExactTargetElement(this.projectedNgControlRef?.nativeElement)),this.hint&&boundElement&&boundElement.setAttribute("aria-describedby",this.ngControlElement?.id+"-hint")}static ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:zac_label_for_input_service.$},{type:errors_directive.R,decorators:[{type:core.Optional}]}];static propDecorators={readonly:[{type:core.Input,args:[{isSignal:!0,alias:"readonly",required:!1,transform:void 0}]}],projectedNgControl:[{type:core.ContentChild,args:[fesm2022_forms.vO]}],projectedNgControlRef:[{type:core.ContentChild,args:[fesm2022_forms.vO,{read:core.ElementRef}]}],projectedNgControlTemplate:[{type:core.ContentChild,args:[fesm2022_forms.vO,{read:core.TemplateRef}]}],projectedLabelComponent:[{type:core.ContentChild,args:[zac_label_component.w]}],projectedErrorComponent:[{type:core.ContentChild,args:[error_component.A]}],generatedZacLabelComponent:[{type:core.ViewChild,args:["generatedZacLabel"]}],isReadonly:[{type:core.HostBinding,args:["class.readonly"]}]}};AbstractFormFieldComponent=(0,tslib_es6.Cg)([(0,core.Directive)()],AbstractFormFieldComponent)},"./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".form_field_wrapper .required-or-optional {\n  display: inline-block;\n  font-style: italic;\n  font-weight: normal;\n}\n.form_field_wrapper.readonly {\n  flex-direction: row;\n  justify-content: start;\n}\n.form_field_wrapper.readonly .label {\n  color: var(--dt-color-neutral-600);\n  width: auto;\n}\n.form_field_wrapper.readonly .label:after {\n  margin-left: 0.5rem;\n}\n.form_field_wrapper.readonly input[readonly]:not(.internal_readonly),\n.form_field_wrapper.readonly textarea[readonly]:not(.internal_readonly) {\n  flex: 1;\n  background-color: transparent;\n  box-shadow: none !important;\n  outline: 0;\n  border: none;\n  appearance: none;\n  border-radius: 0;\n  padding: 0;\n  margin: var(--dt-form_field_wrapper-label-margin);\n  cursor: none;\n  width: auto;\n  color: var(--dt-color-neutral-900);\n  line-height: var(--dt-text-M--line_height);\n  font-size: var(--dt-text-M--font_size);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>AbstractFormFieldToken});class AbstractFormFieldToken{projectedNgControl;projectedNgControlRef;elementRef;$readonly}},"./projects/zac-ng-lib/src/lib/form/zac-label/zac-label.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>ZacLabelComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),value_accessor_base=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts"),label_for_input_service=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/label-for-input.service.ts"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),form_field=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts"),zac_form_field_config=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/zac-form-field.config.ts");let ZacLabelComponent=class ZacLabelComponent{elementRef;cdr;formLabelService;abstractFormField;static ConfigToken=zac_form_field_config.s;for;autoConnect=!1;withHtmlLabelElement=!1;htmlLabelElementForId;forElement;ngControl;zacFormFieldConfig=(0,core.inject)(zac_form_field_config.s);constructor(elementRef,cdr,formLabelService,abstractFormField){this.elementRef=elementRef,this.cdr=cdr,this.formLabelService=formLabelService,this.abstractFormField=abstractFormField,this.elementRef.nativeElement.classList.add("zac-label","label"),this.elementRef.nativeElement.setNativeLabelFor=this.setNativeLabelFor.bind(this),this.abstractFormField?this.autoConnect=!1:console.warn("Attention : utilisation de zac-label en dehors d'un zac-form-field, liaison accessible entre le field et son label non garantie.",this.elementRef.nativeElement)}onClick(){this.withHtmlLabelElement||(this.forElement?.focus(),this.forElement?.click())}get zacLabelElement(){return this.elementRef.nativeElement}get zacLabelId(){return"zac-label-"+this.for}ngAfterViewInit(){setTimeout((()=>{this.for&&(this.decorateZacLabelElement(),this.autoConnect&&this.zacFormFieldConfig.tryToConnectZacLabelAndFormField&&(this.determineForElement(),this.connectToThisForElement(),this.withHtmlLabelElement||this.checkForElementOrWarn()))}))}connectToControl(element,ngControl){this.forElement=element,this.ngControl=ngControl,this.for=element.id,this.connectToThisForElement()}setNativeLabelFor(forId){this.htmlLabelElementForId=forId,this.withHtmlLabelElement=!0,this.cdr.detectChanges()}connectToThisForElement(){this.forElement&&(this.isValueAccessorBase(this.forElement)?(this.determineWithHtmlLabelElement(),this.autoConnect&&this.formLabelService.tryToConnectToLabel(this.forElement,this.elementRef.nativeElement.tagName.toLowerCase()),this.cdr.detectChanges()):(this.setNativeLabelFor(this.forElement.id),this.cdr.detectChanges()))}isValueAccessorBase(elt){return elt&&elt.tagName.toLowerCase().indexOf("zac-")>-1}decorateZacLabelElement(){this.for&&(this.zacLabelElement.getAttribute("for")||this.zacLabelElement.setAttribute("for",this.for))}determineWithHtmlLabelElement(){this.forElement&&this.ngControl&&(this.withHtmlLabelElement=!value_accessor_base.k.$isRoleGroup(this.ngControl))}determineForElement(){this.forElement=document.querySelector(`#${this.for}`)}checkForElementOrWarn(){this.forElement||console.warn(`zac-label-${this.for} ne trouve pas de FormControl associé `,this.zacLabelElement)}static ctorParameters=()=>[{type:core.ElementRef},{type:core.ChangeDetectorRef},{type:label_for_input_service.R},{type:form_field.k,decorators:[{type:core.Optional}]}];static propDecorators={for:[{type:core.Input}],autoConnect:[{type:core.Input}],onClick:[{type:core.HostListener,args:["click",["$event"]]}]}};ZacLabelComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-label",template:'<ng-container *ngIf="withHtmlLabelElement && htmlLabelElementForId; else contentWithoutLabel">\n  <label id="{{zacLabelId}}" for="{{htmlLabelElementForId}}">\n    <ng-container *ngTemplateOutlet="projectedContent"></ng-container>\n  </label>\n</ng-container>\n\n<ng-template #projectedContent>\n  <ng-content></ng-content>\n</ng-template>\n\n  <ng-template #contentWithoutLabel>\n    <p id="{{zacLabelId}}">\n      <ng-container *ngTemplateOutlet="projectedContent"></ng-container>\n    </p>\n  </ng-template>\n\n\n',imports:[common_module_Dx7dWex5.bT,common_module_Dx7dWex5.T3],encapsulation:core.ViewEncapsulation.None,host:{class:"zac-label"},changeDetection:core.ChangeDetectionStrategy.OnPush})],ZacLabelComponent)},"./projects/zac-ng-lib/src/lib/shared/config/configuration-zac.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MP:()=>Configurable,oc:()=>ThemeSensitiveConfigurationZac});var ZacFeatureKind,_theme_theme_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/theme/theme.service.ts");class ThemeSensitiveConfigurationZac{configIntranet;configExtranet}class Configurable{configuredForDS;configExtranet;configIntranet;_root;constructor(configurationZac){Object.assign(this,configurationZac)}asRoot(){return this._root=this,this}asThemeSensitiveRoot(){return this.asRoot(),this.initializeThemeSensitivity(),this}get root(){return this._root}initializeThemeSensitivity(){if(!this.root)throw new Error("ConfigurationZacByDS.initialize : root not set");return _theme_theme_service__WEBPACK_IMPORTED_MODULE_0__.F.addThemeListener(this.initializeForDS.bind(this.root)),this}initializeForDS(ds){if(!this.root)throw new Error("ConfigurationZacByDS.initializeForDS : root not set");return this.configuredForDS===ds||("intranet"===ds&&this.configIntranet?Object.assign(this.root,this.configIntranet):"extranet"===ds&&this.configExtranet&&Object.assign(this.root,this.configExtranet),this.configuredForDS=ds),this}configureComponent(component){return Object.assign(component,this),this}}!function(ZacFeatureKind){ZacFeatureKind[ZacFeatureKind.TechnicalErrorFeature=0]="TechnicalErrorFeature",ZacFeatureKind[ZacFeatureKind.ApiInterceptorFeature=1]="ApiInterceptorFeature",ZacFeatureKind[ZacFeatureKind.ThemeFeature=2]="ThemeFeature",ZacFeatureKind[ZacFeatureKind.EngagementHonneurFeature=3]="EngagementHonneurFeature",ZacFeatureKind[ZacFeatureKind.AccessiblePageTransitionFeature=4]="AccessiblePageTransitionFeature",ZacFeatureKind[ZacFeatureKind.TitleFeature=5]="TitleFeature",ZacFeatureKind[ZacFeatureKind.SkipLinkfeature=6]="SkipLinkfeature",ZacFeatureKind[ZacFeatureKind.a11yFeature=7]="a11yFeature"}(ZacFeatureKind||(ZacFeatureKind={}))},"./projects/zac-ng-lib/src/lib/shared/css/error-css-context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>ErrorCssContext});var _css_context__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/css/css-context.ts");class ErrorCssContext extends _css_context__WEBPACK_IMPORTED_MODULE_0__.T{iconError="zac-icon:error";errorBefore="error-before";errorAfter="error-after";errorMessage="error-message";errorContainer="error-container";errorSet="--error-set";ngValid="ng-valid";ngInvalid="ng-invalid";zacStandaloneErrorForm="zac-standalone-error-form";zacStandaloneError="zac-standalone-error"}},"./projects/zac-ng-lib/src/lib/shared/service/label-for-input.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>LabelForInputService});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_widget_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base-native-element.ts");let LabelForInputService=class LabelForInputService{constructor(){}tryToConnectNonNativeFormControlElementToZacLabelElement(htmlFormControlElement,zacLabelElement){if(!zacLabelElement)return;console.debug("LabelForInputService.tryToConnectNonNativeFormControlElementToZacLabelElement",zacLabelElement,htmlFormControlElement);let componentElementAriaLabelledby=htmlFormControlElement.getAttribute("aria-labelledby"),labelTextContainer=zacLabelElement.querySelector("p");if(labelTextContainer){const labelTextId=this.determineLabelTextId(labelTextContainer,htmlFormControlElement),labelForTargetElement=this.determineExactTargetElement(htmlFormControlElement);return(0,_widget_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_0__.W)(htmlFormControlElement)&&zacLabelElement&&(labelForTargetElement===htmlFormControlElement?this.tryToConnectLabelForRoleGroupElement(htmlFormControlElement,labelForTargetElement,componentElementAriaLabelledby,labelTextId,zacLabelElement):this.tryToConnectLabelToSingleInnerElement(htmlFormControlElement,labelForTargetElement,zacLabelElement)),labelForTargetElement}}tryToConnectToLabel(htmlFormControlElement,labelTagName="label",labelElement){const labelElementOrZacLabelElement=labelElement??this.getLabelForElementByQuery(htmlFormControlElement,labelTagName);if(!labelElementOrZacLabelElement)return;console.debug("LabelForInputService.tryToConnectToLabel",labelElementOrZacLabelElement,htmlFormControlElement);let componentElementAriaLabelledby=htmlFormControlElement.getAttribute("aria-labelledby"),labelTextContainer=labelElementOrZacLabelElement;if("zac-label"===labelElementOrZacLabelElement?.tagName.toLowerCase()&&(labelTextContainer=labelElementOrZacLabelElement.querySelector("p")),labelTextContainer){const labelTextId=this.determineLabelTextId(labelTextContainer,htmlFormControlElement),labelForTargetElement=this.determineExactTargetElement(htmlFormControlElement);return(0,_widget_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_0__.W)(htmlFormControlElement)&&labelElementOrZacLabelElement&&(labelForTargetElement===htmlFormControlElement?this.tryToConnectLabelForRoleGroupElement(htmlFormControlElement,labelForTargetElement,componentElementAriaLabelledby,labelTextId,labelElementOrZacLabelElement):this.tryToConnectLabelToSingleInnerElement(htmlFormControlElement,labelForTargetElement,labelElementOrZacLabelElement)),labelForTargetElement}}determineExactTargetElement(htmlFormControlElement){const innerFormElements=this.determineInnerFormElements(htmlFormControlElement);return innerFormElements?.length>0?innerFormElements.length>1?htmlFormControlElement:innerFormElements[0]:htmlFormControlElement}determineInnerFormElements(htmlFormControlElement){return htmlFormControlElement.querySelectorAll("input,select,textarea")}determineLabelTextId(labelTextContainerElement,htmlFormControlElement){let labelTextId=labelTextContainerElement.id?labelTextContainerElement.id:`zac-label-${htmlFormControlElement.id}`;return labelTextContainerElement.id||labelTextContainerElement.setAttribute("id",labelTextId),labelTextId}getLabelForElementByQuery(htmlFormControlElement,labelTagName){return document.querySelector(`${labelTagName}[for='${htmlFormControlElement.id}']`)}tryToConnectLabelToSingleInnerElement(htmlFormControlElement,labelForTargetElement,labelElementOrZacLabelElement){let id=labelForTargetElement?.getAttribute("id");id||(id=htmlFormControlElement.id+"-0",labelForTargetElement?.setAttribute("id",id)),"zac-label"===labelElementOrZacLabelElement.tagName.toLowerCase()?labelElementOrZacLabelElement.setNativeLabelFor(id):(labelElementOrZacLabelElement.setAttribute("for",id),console.warn(`Attention, pour lier un élément de formulaire ${htmlFormControlElement.tagName.toLowerCase()} id=${htmlFormControlElement.id},\n          utilisez <zac-label> plutôt que <label> pour éviter des erreurs de validation HTML.`,htmlFormControlElement))}tryToConnectLabelForRoleGroupElement(htmlFormControlElement,labelForTargetElement,componentElementAriaLabelledby,labelId,labelElement){htmlFormControlElement.setAttribute("role","group"),componentElementAriaLabelledby?componentElementAriaLabelledby.split(" ").includes(labelId)||(componentElementAriaLabelledby=componentElementAriaLabelledby+" "+labelId):componentElementAriaLabelledby=labelId,labelForTargetElement?.setAttribute("aria-labelledby",componentElementAriaLabelledby),labelElement.tagName.toLowerCase().startsWith("label")&&(labelElement.removeAttribute("for"),console.warn(`Attention, pour lier un élément de formulaire ${htmlFormControlElement.tagName.toLowerCase()} id=${htmlFormControlElement.id},\n          utilisez <zac-label> plutôt que <label> pour éviter des erreurs de validation HTML, ou alors utilisez un élément html <legend> au sein d'un <fieldset>.`,htmlFormControlElement))}static ctorParameters=()=>[]};LabelForInputService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"})],LabelForInputService)},"./projects/zac-ng-lib/src/lib/shared/service/zac-label-for-input.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>ZacLabelForInputService});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_widget_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base-native-element.ts");let ZacLabelForInputService=class ZacLabelForInputService{constructor(){}tryToConnectNonNativeFormControlElementToZacLabelElement(htmlFormControlElement,zacLabelElement,fieldSetGeneration=!1){if(!zacLabelElement)return;let componentElementAriaLabelledby=htmlFormControlElement.getAttribute("aria-labelledby"),labelTextContainer=zacLabelElement.querySelector("p,label");if(labelTextContainer){const labelTextId=this.determineLabelTextId(labelTextContainer,htmlFormControlElement),labelForTargetElement=this.determineExactTargetElement(htmlFormControlElement);return(0,_widget_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_0__.W)(htmlFormControlElement)&&zacLabelElement&&(labelForTargetElement===htmlFormControlElement?fieldSetGeneration||this.tryToConnectLabelForRoleGroupElement(htmlFormControlElement,labelForTargetElement,componentElementAriaLabelledby,labelTextId,zacLabelElement):this.tryToConnectLabelToSingleInnerElement(htmlFormControlElement,labelForTargetElement,zacLabelElement)),labelForTargetElement}}determineExactTargetElement(htmlFormControlElement){const innerFormElements=this.determineInnerFormElements(htmlFormControlElement);return innerFormElements?.length>0?innerFormElements.length>1?htmlFormControlElement:innerFormElements[0]:htmlFormControlElement}determineInnerFormElements(htmlFormControlElement){return htmlFormControlElement.querySelectorAll("input,select,textarea")}determineLabelTextId(labelTextContainerElement,htmlFormControlElement){let labelTextId=labelTextContainerElement.id?labelTextContainerElement.id:`zac-label-${htmlFormControlElement.id}`;return labelTextContainerElement.id||labelTextContainerElement.setAttribute("id",labelTextId),labelTextId}tryToConnectLabelToSingleInnerElement(htmlFormControlElement,labelForTargetElement,labelElementOrZacLabelElement){let id=labelForTargetElement?.getAttribute("id");id||(id=htmlFormControlElement.id+"-0",labelForTargetElement?.setAttribute("id",id)),"zac-label"===labelElementOrZacLabelElement.tagName.toLowerCase()?labelElementOrZacLabelElement.setNativeLabelFor(id):(labelElementOrZacLabelElement.setAttribute("for",id),console.warn(`Attention, pour lier un élément de formulaire ${htmlFormControlElement.tagName.toLowerCase()} id=${htmlFormControlElement.id},\n          utilisez <zac-label> plutôt que <label> pour éviter des erreurs de validation HTML.`,htmlFormControlElement))}tryToConnectLabelForRoleGroupElement(htmlFormControlElement,labelForTargetElement,componentElementAriaLabelledby,labelId,labelElement){htmlFormControlElement.setAttribute("role","group"),componentElementAriaLabelledby?componentElementAriaLabelledby.split(" ").includes(labelId)||(componentElementAriaLabelledby=componentElementAriaLabelledby+" "+labelId):componentElementAriaLabelledby=labelId,labelForTargetElement?.setAttribute("aria-labelledby",componentElementAriaLabelledby),labelElement.tagName.toLowerCase().startsWith("label")&&(labelElement.removeAttribute("for"),console.warn(`Attention, pour lier un élément de formulaire ${htmlFormControlElement.tagName.toLowerCase()} id=${htmlFormControlElement.id},\n          utilisez <zac-label> plutôt que <label> pour éviter des erreurs de validation HTML, ou alors utilisez un élément html <legend> au sein d'un <fieldset>.`,htmlFormControlElement))}static ctorParameters=()=>[]};ZacLabelForInputService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)({providedIn:"root"})],ZacLabelForInputService)},"./projects/zac-ng-lib/src/lib/shared/util/component-util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{gx:()=>createFormControl,kN:()=>ComponentUtil});var _angular_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_dom_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/dom-util.ts");class ComponentUtil{constructor(){}static addFormControl=addFormControl;static createFormControl=createFormControl;static isEventInsideComponent=_dom_util__WEBPACK_IMPORTED_MODULE_0__.OH;static stopEvent=_dom_util__WEBPACK_IMPORTED_MODULE_0__.jo;static fireEvent=_dom_util__WEBPACK_IMPORTED_MODULE_0__.bk.fireEvent;static isRequired=isRequired}function addFormControl(formGroup,name,validators,initialValue,controlOption){if(formGroup&&name)return formGroup.addControl(name,new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.MJ(initialValue,controlOption)),formGroup.get(name)?.setValue(initialValue),formGroup.get(name)?.markAsUntouched(),formGroup.get(name)?.markAsPristine(),formGroup.disable(),setTimeout((_=>{formGroup&&name&&(validators&&formGroup.get(name)?.addValidators(validators),formGroup.enable({emitEvent:!1}),formGroup.updateValueAndValidity())})),formGroup.get(name)}function createFormControl(formControlName,validators,initialValue){formControlName&&formControlName?.name&&addFormControl(formControlName.formDirective.form,`${formControlName.name}`,validators,initialValue)}function isRequired(control){return"required"in(control?.validator?.({})??{})}},"./projects/zac-ng-lib/src/lib/shared/util/dom-util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{OH:()=>isEventInsideComponent,bk:()=>DOMUtil,jo:()=>stopEvent});class DOMUtil{static isElementInViewport(el){const rect=el.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}static isScrollable(element){return element&&element.clientHeight<element.scrollHeight}static maintainScrollVisibility(activeElement,scrollParent){const{offsetHeight,offsetTop}=activeElement,{offsetHeight:parentOffsetHeight,scrollTop}=scrollParent,isBelow=offsetTop+offsetHeight>scrollTop+parentOffsetHeight;offsetTop<scrollTop?scrollParent.scrollTo(0,offsetTop):isBelow&&scrollParent.scrollTo(0,offsetTop-parentOffsetHeight+offsetHeight)}static copyAttributesFromSourceToTargetForAttributesNames(source,target,attributesName,transfert=!1){if(source!==target){let value;for(const attribute of attributesName)value=source.getAttribute(attribute),value&&(target?.setAttribute(attribute,value),transfert&&source.removeAttribute(attribute))}}static hasParentForm(element){let parent=element.parentElement;for(;parent;){if("FORM"===parent.tagName.toUpperCase())return!0;parent=parent.parentElement}return!1}static fireEvent(el,evtName,bubbles=!0,cancelable=!0){el.dispatchEvent(new InputEvent(evtName,{bubbles,cancelable}))}static enforceFocusable(element,tabindex=0){if(!element)return;const isNaturallyFocusable=focusableTags.includes(element.tagName)||element.hasAttribute("contenteditable"),currentTabIndex=element.getAttribute("tabindex");isNaturallyFocusable||null!==currentTabIndex&&+currentTabIndex>=0||element.setAttribute("tabindex",tabindex.toString())}static isEventInsideComponent=isEventInsideComponent;static stopEvent=stopEvent}function isEventInsideComponent(event,element){const path=event?.composedPath();let found=-1;return path&&(found=path.findIndex((path=>path===element))),found>=0}function stopEvent(event){event.stopPropagation(),event.stopImmediatePropagation(),event.preventDefault()}const focusableTags=["A","BUTTON","INPUT","SELECT","TEXTAREA"]},"./projects/zac-ng-lib/src/lib/shared/widget/cdr.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>CdrDirective});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let CdrDirective=class CdrDirective{cdr;constructor(cdr){this.cdr=cdr}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef}]};CdrDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive)({selector:"[zacCdr]",standalone:!0})],CdrDirective)},"./projects/zac-ng-lib/src/lib/shared/widget/required-or-optional-token.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>RequiredOrOptionalToken});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let RequiredOrOptionalToken=class RequiredOrOptionalToken{};RequiredOrOptionalToken=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)()],RequiredOrOptionalToken)},"./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base-native-element.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValueAccessorBase(elt){return elt.zacValueAccessor??!1}__webpack_require__.d(__webpack_exports__,{W:()=>isValueAccessorBase})},"./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>ValueAccessorBase});var ValueAccessorBase_1,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_util_event_queue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/event-queue.ts"),_service_label_for_input_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/label-for-input.service.ts"),_zac_form_field_config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/zac-form-field.config.ts"),_form_form_field_form_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs"),_service_zac_label_for_input_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/zac-label-for-input.service.ts"),_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base-native-element.ts");let ValueAccessorBase=class ValueAccessorBase{static{ValueAccessorBase_1=this}injector;elementRef;static ZacFormFieldConfigToken=_zac_form_field_config__WEBPACK_IMPORTED_MODULE_0__.s;static ATTRIBUTES_COPIED_TO_BOUND_ELEMENT=["aria-label","aria-describedby","aria-labelledby"];static fireEvent(el,evtName,bubbles=!0,cancelable=!0){el.dispatchEvent(new InputEvent(evtName,{bubbles,cancelable}))}static isValueAccessorBase=_value_accessor_base_native_element__WEBPACK_IMPORTED_MODULE_1__.W;static $isRoleGroup(ngControl){return ngControl.valueAccessor instanceof ValueAccessorBase_1?ngControl.valueAccessor.$isRoleGroup:ValueAccessorBase_1.$FALSE}static $FALSE=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.signal)(!1);set assign(customization){if(customization)for(const prop in customization)prop in this&&((0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.isSignal)(this[prop])?this[prop]=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.signal)(customization[prop]):this[prop]=customization[prop])}autoConnect=!0;valueChange=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;valueChangement=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;formFieldComponent=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_form_form_field_form_field__WEBPACK_IMPORTED_MODULE_3__.k,{optional:!0});zacLabelForInputService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_service_zac_label_for_input_service__WEBPACK_IMPORTED_MODULE_4__.$);$isReadonlyState=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.computed)((()=>this.formFieldComponent?.$readonly?.()??!1));$isRoleGroup=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.computed)((()=>this.determineIfRoleGroup(this.$isReadonlyState())));get nativeElement(){return this.getNativeElement()}_innerValue=null;changed=new Array;touched=new Array;cdr=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ChangeDetectorRef);zacFormFieldConfig=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(ValueAccessorBase_1.ZacFormFieldConfigToken);abstractFormField=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_form_form_field_form_field__WEBPACK_IMPORTED_MODULE_3__.k,{optional:!0});ngControl;get formControl(){return this.ngControl?.control}_validatorNames;get validatorNames(){if(!this._validatorNames){const errors=this.formControl?.validator?.({});this._validatorNames=Object.keys(errors??{})}return this._validatorNames}isRequired(){return this.validatorNames.includes("required")}constructor(injector,elementRef){this.injector=injector,this.elementRef=elementRef,this.elementRef.nativeElement.classList.add("zac-value-accessor"),this.getNativeElement().zacValueAccessor=!0,elementRef.nativeElement.focus=this.focus.bind(this)}ngOnInit(){this.ngControl=this.injector.get(_angular_forms__WEBPACK_IMPORTED_MODULE_5__.vO,null,{self:!0}),this.ngControl&&(this.ngControl.valueAccessor=this)}getNativeElement(){return this.elementRef.nativeElement}setDisabledState(isDisabled){this.disableComponent(isDisabled).then()}ngAfterViewInit(){this.$isRoleGroup()&&this.elementRef.nativeElement.setAttribute("role","group"),this.autoConnect&&!this.abstractFormField&&console.warn(`Attention, utilisation d'un ControlValueAccessor d'id=${this.id} en dehors d'un zac-form-field, liaison accessible entre\n      le field et son label non garantie.`,this.elementRef.nativeElement),this.copyAttributesToBoundElement(ValueAccessorBase_1.ATTRIBUTES_COPIED_TO_BOUND_ELEMENT),this.determineLabelForTargetElement(),this.autoConnect&&this.zacFormFieldConfig.tryToConnectHtmlLabelAndFormField&&setTimeout((()=>{(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_service_label_for_input_service__WEBPACK_IMPORTED_MODULE_6__.R).tryToConnectToLabel(this.getNativeElement(),"label")}))}focus(){}copyAttributesToBoundElement(attributesName){setTimeout((()=>{const boundElement=this.getLabelForTargetElement();if(boundElement!==this.nativeElement){let value;for(const attribute of attributesName)value=this.nativeElement.getAttribute(attribute)??this[attribute],value&&((0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.isSignal)(value)&&(value=value()),boundElement?.setAttribute(attribute,value),this.nativeElement.removeAttribute(attribute))}}))}getLabelForTargetElement(){return this.labelForTargetElement}labelForTargetElement;determineLabelForTargetElement(){this.labelForTargetElement=this.zacLabelForInputService.determineExactTargetElement(this.getNativeElement())}determineIfRoleGroup(isReadonlyState){return!isReadonlyState}emitValueChange(value){}whenOutterValueChange(value){}whenInnerValueChange(value){}get timeToLetControlDisplay(){return _util_event_queue__WEBPACK_IMPORTED_MODULE_7__.C.skipTurn()}disableComponent(isDisabled){var _this=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.A)((function*(){yield _this.timeToLetControlDisplay,_this.queryInternalNativeFormControlNotReadonly().forEach((element=>{isDisabled?element.setAttribute("disabled","true"):element.removeAttribute("disabled")}))}))()}queryInternalNativeFormControlNotReadonly(){return this.elementRef.nativeElement.querySelectorAll("input:not([readonly]),button,select:not([readonly]),option:not([readonly]),textarea:not([readonly])")}reset(){this.innerValue=void 0}get id(){const id=this.elementRef.nativeElement.id||this.elementRef.nativeElement.getAttribute("ng-reflect-id")||this.name;if(!id)throw new Error("L'attribut id doit être précisé sur ce composant "+this.elementRef.nativeElement.tagName);return id}get name(){return this.elementRef.nativeElement.getAttribute("name")||this.elementRef.nativeElement.getAttribute("ng-reflect-name")}set id(id){this.elementRef.nativeElement.id=id}get innerValue(){return this.readInnerValue()}readInnerValue(){return this._innerValue}set innerValue(value){this.writeInnerValue(value)}writeInnerValue(value,fireChangeValue=!0){if(this._innerValue!==value){const old=this._innerValue;this._innerValue=value,this.whenInnerValueChange(value),fireChangeValue&&(this.fireInnerValueChanged(value),this.valueChangement.emit({old,current:value}))}}fireInnerValueChanged(value){this.changed.forEach((f=>{try{f(value)}catch(e){console.warn("ValueAccessorBase.fireInnerValueChanged e=",e)}})),this._emitValueChange(value)}touch(){this.touched.forEach((f=>{try{f()}catch(e){console.warn("ValueAccessorBase.touch e=",e)}}))}writeValue(outerValue){this._innerValue!==outerValue&&(this.writeInnerValue(outerValue,!1),this.whenOutterValueChange(outerValue),this.cdr.detectChanges())}registerOnChange(fn){this.changed.push(fn)}registerOnTouched(fn){this.touched.push(fn)}_emitValueChange(value){this.valueChange.emit(value),this.emitValueChange(value)}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef}];static propDecorators={assign:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],autoConnect:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input,args:[{transform:_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_9__.c}]}],valueChange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output}],valueChangement:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output}]}};ValueAccessorBase=ValueAccessorBase_1=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Directive)()],ValueAccessorBase)},"./projects/zac-ng-lib/src/lib/shared/widget/zac-form-field.config.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ZacFormFieldConfigToken});const ZacFormFieldConfigToken=new(__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs").InjectionToken)("ZacFormFieldConfigToken",{providedIn:"platform",factory:()=>({tryToConnectHtmlLabelAndFormField:!1,tryToConnectZacLabelAndFormField:!1})})}}]);