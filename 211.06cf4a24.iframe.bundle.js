(self.webpackChunkzac_ng_lib=self.webpackChunkzac_ng_lib||[]).push([[211],{"./node_modules/rxjs/dist/esm5/internal/operators/timeout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>timeout});var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js"),_util_lift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),TimeoutError=(0,_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__.L)((function(_super){return function TimeoutErrorImpl(info){void 0===info&&(info=null),_super(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=info}}));function timeout(config,schedulerArg){var _a=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_1__.v)(config)?{first:config}:"number"==typeof config?{each:config}:config,first=_a.first,each=_a.each,_b=_a.with,_with=void 0===_b?timeoutErrorFactory:_b,_c=_a.scheduler,scheduler=void 0===_c?null!=schedulerArg?schedulerArg:_scheduler_async__WEBPACK_IMPORTED_MODULE_2__.E:_c,_d=_a.meta,meta=void 0===_d?null:_d;if(null==first&&null==each)throw new TypeError("No timeout provided.");return(0,_util_lift__WEBPACK_IMPORTED_MODULE_3__.N)((function(source,subscriber){var originalSourceSubscription,timerSubscription,lastValue=null,seen=0,startTimer=function(delay){timerSubscription=(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__.N)(subscriber,scheduler,(function(){try{originalSourceSubscription.unsubscribe(),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Tg)(_with({meta,lastValue,seen})).subscribe(subscriber)}catch(err){subscriber.error(err)}}),delay)};originalSourceSubscription=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__._)(subscriber,(function(value){null==timerSubscription||timerSubscription.unsubscribe(),seen++,subscriber.next(lastValue=value),each>0&&startTimer(each)}),void 0,void 0,(function(){(null==timerSubscription?void 0:timerSubscription.closed)||null==timerSubscription||timerSubscription.unsubscribe(),lastValue=null}))),!seen&&startTimer(null!=first?"number"==typeof first?first:+first-scheduler.now():each)}))}function timeoutErrorFactory(info){throw new TimeoutError(info)}},"./node_modules/rxjs/dist/esm5/internal/util/isDate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValidDate(value){return value instanceof Date&&!isNaN(value)}__webpack_require__.d(__webpack_exports__,{v:()=>isValidDate})},"./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ControlBarComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var control_bar_componentngResource=__webpack_require__("./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.scss?ngResource"),control_bar_componentngResource_default=__webpack_require__.n(control_bar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),button_config=__webpack_require__("./projects/zac-ng-lib/src/lib/button/button-config.ts"),fromEvent=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),boolean_property_DaaVhX5A=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),button_component=__webpack_require__("./projects/zac-ng-lib/src/lib/button/button.component.ts"),configuration_zac=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/config/configuration-zac.ts");class ControlBarConfig extends configuration_zac.oc{validationButtonNames;abandonButtonNames;configIntranet={validationButtonNames:["Valider"],abandonButtonNames:["Abandonner"]};configExtranet={validationButtonNames:["Suivant","Precedent"],abandonButtonNames:["Abandonner","ContinuerPlusTard"]}}const CONTROL_BAR_CONFIG_TOKEN=new core.InjectionToken("ZacButtonConfigToken",{providedIn:"platform",factory:()=>CONTROL_BAR_CONFIG_DEFAULT}),CONTROL_BAR_CONFIG_DEFAULT=new configuration_zac.MP(new ControlBarConfig).asThemeSensitiveRoot();let ControlBarComponent=class ControlBarComponent{static ConfigToken=CONTROL_BAR_CONFIG_TOKEN;static validationButtons=["Suivant","Precedent"];static abandonButtons=["Abandonner","ContinuerPlusTard"];allButtonsDef=button_config.ei;config=(0,core.inject)(CONTROL_BAR_CONFIG_TOKEN);_validationButtonNames;_abandonButtonNames;set validationButtonNames(value){let buttonNames;buttonNames="string"==typeof value?this.coerceToArray(value):value,this._validationButtonNames=buttonNames}set abandonButtonNames(value){let buttonNames;buttonNames="string"==typeof value?this.coerceToArray(value):value,this._abandonButtonNames=buttonNames}validationButtonConfig=[];abandonButtonConfig=[];set navigationRole(value){this._navigationRole=(0,boolean_property_DaaVhX5A.c)(null==value||value)}get navigationRole(){return this._navigationRole}_navigationRole=!0;constructor(){this.config.configureComponent(this)}action=(0,fromEvent.R)((0,core.inject)(core.ElementRef).nativeElement,"click").pipe((0,map.T)((event=>{if(event&&event instanceof Event){const target=event?.target;return target?.getAttribute("name")??void 0}})),(0,filter.p)((value=>void 0!==value)));get validationButtonNames(){return this._validationButtonNames??[]}get abandonButtonNames(){return this._abandonButtonNames??[]}isValidButtonName(button){return button in this.allButtonsDef}coerceToArray(value){return value.split(",")}static ctorParameters=()=>[];static propDecorators={validationButtonNames:[{type:core.Input}],abandonButtonNames:[{type:core.Input}],validationButtonConfig:[{type:core.Input}],abandonButtonConfig:[{type:core.Input}],navigationRole:[{type:core.Input}],action:[{type:core.Output}]}};ControlBarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-control-bar",template:'<ng-container *ngIf="navigationRole !== false; else noNavigationRole">\n  <nav class="control_bar" role="navigation">\n    <ng-container [ngTemplateOutlet]="body"></ng-container>\n  </nav>\n</ng-container>\n\n<ng-template #noNavigationRole>\n  <section class="control_bar">\n    <ng-container [ngTemplateOutlet]="body"></ng-container>\n  </section\n  >\n</ng-template>\n\n<ng-template #body>\n  <div\n    class="control_bar-container_validation"\n    *ngIf="validationButtonConfig?.length; else validationNames"\n    [ngClass]="{ \'--alone\': 1 === validationButtonConfig?.length }"\n  >\n    <ng-container *ngFor="let buttonDef of validationButtonConfig">\n      <zac-button [config]="buttonDef"></zac-button>\n    </ng-container>\n  </div>\n  <ng-template #validationNames>\n    <div\n      class="control_bar-container_validation"\n      *ngIf="validationButtonNames?.length"\n      [ngClass]="{ \'--alone\': 1 === validationButtonNames.length }"\n    >\n      <ng-container *ngFor="let button of validationButtonNames">\n        <zac-button\n          *ngIf="isValidButtonName(button)"\n          [name]="button"\n        ></zac-button>\n      </ng-container>\n    </div>\n  </ng-template>\n\n\n  <div\n    class="control_bar-container_abandon"\n    *ngIf="abandonButtonConfig?.length; else abandonsNames"\n    [ngClass]="{ \'--alone\': 1 === abandonButtonConfig?.length }"\n  >\n    <ng-container *ngFor="let buttonDef of abandonButtonConfig">\n      <zac-button [config]="buttonDef"></zac-button>\n      <div class="separator"></div>\n    </ng-container>\n  </div>\n\n  <ng-template #abandonsNames>\n  <div\n    class="control_bar-container_abandon"\n    *ngIf="abandonButtonNames?.length"\n    [ngClass]="{ \'--alone\': 1 === abandonButtonNames.length }"\n  >\n    <ng-container *ngFor="let button of abandonButtonNames">\n      <zac-button\n        *ngIf="isValidButtonName(button)"\n        [name]="button"\n      ></zac-button>\n      <div class="separator"></div>\n    </ng-container>\n  </div>\n  </ng-template>\n</ng-template>\n',encapsulation:core.ViewEncapsulation.None,imports:[common_module_Dx7dWex5.bT,common_module_Dx7dWex5.T3,common_module_Dx7dWex5.YU,button_component.Q,common_module_Dx7dWex5.Sq],changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[control_bar_componentngResource_default()]})],ControlBarComponent)},"./projects/zac-ng-lib/src/lib/form/date/date-validators.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>DateValidators});var _shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/date-util.ts");class DateValidators{constructor(){}static date10(control){return DateValidators.validateDate10(control,_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.C.fr)}static date10Fn(dateFormat=_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.C.fr){return control=>DateValidators.validateDate10(control,dateFormat)}static date10Period(minJJMMAAAA,maxJJMMAAAA,dateFormat){return control=>{const ko={date10:{actual:control.value}},value=control.value;if(!value)return null;if(!dateFormat)return console.error(`dateFormat obligatoire pour le validator date10Period min=${minJJMMAAAA}, max=${maxJJMMAAAA}, control = `,control),null;try{if(_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.isInvalidDate(value))return ko;let actualTime;value instanceof Date?(_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.checkDateControlNonLenient(control,dateFormat),value.setHours(_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.MIDI,0,0,0),actualTime=value.getTime()):actualTime=_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.date10ToDate(value,dateFormat).getTime();const minTime=(minJJMMAAAA&&_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.date10ToDate(minJJMMAAAA,dateFormat).getTime())??null,maxTime=(maxJJMMAAAA&&_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.date10ToDate(maxJJMMAAAA,dateFormat).getTime())??null,minDate=minJJMMAAAA?.replace("today","la date du jour"),maxDate=maxJJMMAAAA?.replace("today","la date du jour");if(actualTime&&minTime&&maxTime){if(!(actualTime>=minTime&&actualTime<=maxTime))return{date10Period:{actual:control.value,required:minDate,required2:maxDate}}}else if(actualTime&&minTime){if(!(actualTime>=minTime))return{date10Min:{actual:control.value,required:minDate}}}else if(actualTime&&maxTime&&!(actualTime<=maxTime))return{date10Max:{actual:control.value,required2:maxDate}}}catch(e){return console.error(e),ko}return null}}static validateDate10(control,format){if(!control.value)return null;const ko={date10:{actual:control.value}};try{if(control.value instanceof Date){if(_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.isInvalidDate(control.value))return ko;_shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.checkDateControlNonLenient(control,format)}else _shared_util_date_util__WEBPACK_IMPORTED_MODULE_0__.r.date10ToDate(control.value,format)}catch(e){return ko}return null}}},"./projects/zac-ng-lib/src/lib/form/date/date3.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>Date3Component});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),focusgroup_accessor_base=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/focusgroup-accessor-base.ts"),date_util=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/date-util.ts"),boolean_property_DaaVhX5A=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs");let ThenFocusDirective=class ThenFocusDirective{elementRef;set elementOrIdOrName(value){this._elementOrIdOrName=value,this.thenElement=this.getThenElement(),this.maxLength=this.elementRef.nativeElement.getAttribute("maxLength")}maxLength=-1;thenElement;get elementOrIdOrName(){return this._elementOrIdOrName}_elementOrIdOrName;constructor(elementRef){this.elementRef=elementRef}onInput(target,event){target.value.length>=this.maxLength&&this.thenElement?.focus()}getThenElement(){return("string"==typeof this._elementOrIdOrName?document.querySelector(`#${this._elementOrIdOrName},[name=${this._elementOrIdOrName}]`):this._elementOrIdOrName)??void 0}static ctorParameters=()=>[{type:core.ElementRef}];static propDecorators={elementOrIdOrName:[{type:core.Input,args:["zacThenFocus"]}],onInput:[{type:core.HostListener,args:["input",["$event.target","$event"]]}]}};ThenFocusDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[maxLength][zacThenFocus]",standalone:!0})],ThenFocusDirective);var common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),date_validators=__webpack_require__("./projects/zac-ng-lib/src/lib/form/date/date-validators.ts");class DateModuleConfig{autoTab=!1;exempleLabels={jour:"21",mois:"06",annee:"2024"}}const DATE_INVALID=new Date("Invalid");let Date3Component=class Date3Component extends focusgroup_accessor_base.I{_elementRef;dateModuleConfig;set autocompleteSsaa(value){this._autocompleteSsaa=void 0!==value&&"true"===String(value)}set preferredValueType(value){if(value===Date||value instanceof Date)this._preferredValueType=Date;else if("string"==typeof value){const v=value?.toLocaleLowerCase();v&&(this._preferredValueType="date"===v?Date:String)}}set autoTab(autoTab){this._autoTab=(0,boolean_property_DaaVhX5A.c)(autoTab),this.initializeIsAutoTabEnabled()}set exempleLabels(exempleLabel){this._exempleLabels=exempleLabel,this.initializeExempleLabels()}set isDateNaissance(value){this._isDateNaissance=(0,boolean_property_DaaVhX5A.c)(value)}set format(value){this._format=value,this.validator=date_validators.A.date10Fn(value)}get format(){return this._format}get isDateNaissance(){return this._isDateNaissance}get autocompleteSsaa(){return this._autocompleteSsaa}get exempleLabels(){return this._exempleLabels}get exempleJJLabelsIDs(){return this.exempleLabels?.jour?this.id+"-exemple-"+this.exempleLabels?.jour:""}get exempleMMLabelsIDs(){return this.exempleLabels?.mois?this.id+"-exemple-"+this.exempleLabels?.mois:""}get exempleSSAALabelsIDs(){return this.exempleLabels?.annee?this.id+"-exemple-"+this.exempleLabels?.annee:""}get innerValueType(){return this.innerValue?"string"==typeof this.innerValue?String:Date:this._preferredValueType}isExempleLabelEnabled=!0;innerValueAsIsoString;innerValueAsFrString;validator=date_validators.A.date10Fn(date_util.C.fr);_format=date_util.C.fr;_autoTab;isAutoTabEnabled=!0;_exempleLabels;_isDateNaissance=!1;_jj;_mm;_ssaa;_autocompleteSsaa=!1;_preferredValueType=String;inputJour;inputMois;inputAnnee;constructor(injector,_elementRef,dateModuleConfig){super(injector,_elementRef),this._elementRef=_elementRef,this.dateModuleConfig=dateModuleConfig,_elementRef.nativeElement.classList.add("date3"),this.dateModuleConfig||(this.dateModuleConfig=new DateModuleConfig),this.initializeIsAutoTabEnabled(),this.initializeExempleLabels()}ngAfterViewInit(){super.ngAfterViewInit(),this.initializeAutocompleteAttributeIfNeeded()}getTargetValue(event){return event.target.value}get ssaa(){return this._ssaa??""}set ssaa(value){this.changeValueIfNeeded(this.ssaa,"_ssaa",value)&&(this.changeValueIfNeeded(this.ssaa,"_ssaa",this.completeYearIfNeeded(value)),this.fromComponentPropertiesChangeToModelProperty())}get mm(){return this._mm??""}set mm(value){this.changeValueIfNeeded(this.mm,"_mm",value)&&(this.changeValueIfNeeded(this.mm,"_mm",this.padLeftForJJAndMM(value)),this.fromComponentPropertiesChangeToModelProperty())}get jj(){return this._jj??""}set jj(value){this.changeValueIfNeeded(this.jj,"_jj",value)&&(this.changeValueIfNeeded(this.jj,"_jj",this.padLeftForJJAndMM(value)),this.fromComponentPropertiesChangeToModelProperty())}validate(control){return this.validator?.(control)??null}whenOutterValueChange(value){value?("string"==typeof value?this.fromDateStringToThis_jj_mm_ssaa_properties(value):value instanceof Date&&!value.toString().includes("Invalid")&&this.fromDateStringToThis_jj_mm_ssaa_properties(new Intl.DateTimeFormat("fr-US").format(value)),this.determineInnerValueAsIsoAndFrString()):this.reset()}whenInnerValueChange(value){super.whenInnerValueChange(value),this.determineInnerValueAsIsoAndFrString()}reset(){super.reset(),this.mm="",this.jj="",this.ssaa=""}focus(){this.inputJour&&this.inputJour.nativeElement.focus()}thenFocus(elt){return this.isAutoTabEnabled?elt:void 0}fromComponentPropertiesChangeToModelProperty(){if(this.innerValue&&"string"==typeof this.innerValue&&this._preferredValueType===String||!this.innerValue&&this.jj&&this.mm&&this.ssaa&&this._preferredValueType===String)""===this.jj&&""===this.mm&&""===this.ssaa?this.writeInnerValue(""):"fr"===this._format?this.writeInnerValue(this.jj+"/"+this.mm+"/"+this.ssaa):this.writeInnerValue(this.ssaa+"-"+this.mm+"-"+this.jj);else if(this.innerValue&&this.innerValue instanceof Date||this._preferredValueType===Date)if(""===this.jj&&""===this.mm&&""===this.ssaa)this.writeInnerValue(null);else{let d;const njj=Number(this.jj),nmm=Number(this.mm),nssaa=Number(this.ssaa);njj>0&&nmm>0&&nssaa>0&&date_util.r.toNonLenientDateOrUndefined(this.jj+"/"+this.mm+"/"+this.ssaa,this._format??date_util.C.fr)?(d=new Date(nssaa,nmm-1,njj),d.setHours(date_util.r.MIDI,0,0,0)):d=DATE_INVALID,this.writeInnerValue(d)}}writeInnerValue(value,fireChangeValue=!0){value===DATE_INVALID?super.writeInnerValue(new Date("Invalid"),fireChangeValue):(value instanceof Date&&(value._inputDateString=this.jj+"/"+this.mm+"/"+this.ssaa),super.writeInnerValue(value,fireChangeValue))}fromDateStringToThis_jj_mm_ssaa_properties(dateString){if(dateString)if("fr"===this._format){const array=dateString.split("/");[this.jj,this.mm,this.ssaa]=array}else{const array=dateString.split("-");[this.ssaa,this.mm,this.jj]=array}}changeValueIfNeeded(oldValue,name,value){return oldValue!==value&&(this[name]=value,!0)}padLeftForJJAndMM(value){return value?value.padStart(2,"0"):value}completeYearIfNeeded(value){return this.autocompleteSsaa&&value?value.padStart(4,"20"):value}initializeIsAutoTabEnabled(){this.isAutoTabEnabled=null!=this._autoTab?this._autoTab:this.dateModuleConfig?.autoTab??!1}initializeExempleLabels(){this.isExempleLabelEnabled=null!==this._exempleLabels,this.isExempleLabelEnabled?(this.getNativeElement().classList.add("--with_exemple"),this.exempleLabels||(this._exempleLabels=this.dateModuleConfig?.exempleLabels)):this.getNativeElement().classList.remove("--with_exemple")}initializeAutocompleteAttributeIfNeeded(){this._isDateNaissance&&(this.setAttributeOnThisAutocomplete("bday-day",this.inputJour),this.setAttributeOnThisAutocomplete("bday-month",this.inputMois),this.setAttributeOnThisAutocomplete("bday-year",this.inputAnnee))}setAttributeOnThisAutocomplete(value,elementRef){elementRef?.nativeElement?.setAttribute("autocomplete",value)}determineInnerValueAsIsoAndFrString(){if(null!=this.innerValue)try{this.innerValueType===Date?(this.innerValueAsIsoString=this.innerValue.toISOString()?.substring(0,10),this.innerValueAsFrString=date_util.r.dateIsoToDate10(this.innerValueAsIsoString)):this.format===date_util.C.iso?(this.innerValueAsIsoString=this.innerValue,this.innerValueAsFrString=date_util.r.dateIsoToDate10(this.innerValue)):(this.innerValueAsFrString=this.innerValue,this.innerValueAsIsoString=date_util.r.date10ToDateIso(this.innerValue))}catch(e){console.error(e),this.innerValueAsIsoString=void 0}}static ctorParameters=()=>[{type:core.Injector},{type:core.ElementRef},{type:DateModuleConfig,decorators:[{type:core.Optional}]}];static propDecorators={autocompleteSsaa:[{type:core.Input}],preferredValueType:[{type:core.Input}],autoTab:[{type:core.Input}],exempleLabels:[{type:core.Input}],isDateNaissance:[{type:core.Input}],format:[{type:core.Input}],inputJour:[{type:core.ViewChild,args:["inputJour",{read:core.ElementRef}]}],inputMois:[{type:core.ViewChild,args:["inputMois",{read:core.ElementRef}]}],inputAnnee:[{type:core.ViewChild,args:["inputAnnee",{read:core.ElementRef}]}]}};Date3Component=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-date3",template:'<ng-container *ngIf="!$isReadonlyState() else caseReadonly">\n  <div class="container-input-jj">\n    <label [attr.for]="id + \'jj\'"> Jour </label>\n    <input\n      [attr.id]="id + \'jj\'"\n      [attr.aria-describedby]="exempleJJLabelsIDs"\n      name="jj"\n      [value]="jj"\n      (change)="jj = getTargetValue($event)"\n      [maxLength]="2"\n      [zacThenFocus]="thenFocus(inputMois)"\n      inputmode="numeric"\n      #inputJour\n    />\n    <p\n      *ngIf="isExempleLabelEnabled"\n      [attr.id]="exempleJJLabelsIDs"\n      class="exemple"\n    >\n      ex. {{ exempleLabels?.jour }}\n    </p>\n  </div>\n  <div class="container-input-mm">\n    <label [attr.for]="id + \'mm\'">Mois</label>\n    <input\n      [attr.id]="id + \'mm\'"\n      [attr.aria-describedby]="exempleMMLabelsIDs"\n      name="mm"\n      [value]="mm"\n      (change)="mm = getTargetValue($event)"\n      [maxLength]="2"\n      [zacThenFocus]="thenFocus(inputAnnee)"\n      inputmode="numeric"\n      #inputMois\n    />\n    <p\n      *ngIf="isExempleLabelEnabled"\n      [attr.id]="exempleMMLabelsIDs"\n      class="exemple"\n    >\n      ex. {{ exempleLabels?.mois }}\n    </p>\n  </div>\n  <div class="container-input-ssaa">\n    <label [attr.for]="id + \'ssaa\'">Année</label>\n    <input\n      [attr.id]="id + \'ssaa\'"\n      [attr.aria-describedby]="exempleSSAALabelsIDs"\n      name="ssaa"\n      [value]="ssaa"\n      (change)="ssaa = getTargetValue($event)"\n      [maxLength]="4"\n      inputmode="numeric"\n      #inputAnnee\n    />\n    <p\n      *ngIf="isExempleLabelEnabled"\n      [attr.id]="exempleSSAALabelsIDs"\n      class="exemple"\n    >\n      ex. {{ exempleLabels?.annee }}\n    </p>\n  </div>\n</ng-container>\n<ng-template #caseReadonly>\n  <input readonly [value]="innerValueAsFrString">\n</ng-template>\n',imports:[ThenFocusDirective,common_module_Dx7dWex5.bT],providers:[{provide:fesm2022_forms.kq,useExisting:Date3Component,multi:!0},{provide:fesm2022_forms.cz,useExisting:Date3Component,multi:!0}],host:{class:"zac-date3"},changeDetection:core.ChangeDetectionStrategy.OnPush})],Date3Component)},"./projects/zac-ng-lib/src/lib/shared/service/focus-tracker/focus-tracker.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>FocusTrackerService});var FocusTrackerService_1,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");class AbstractFocusTrackerService{isActiveElementIn(element){const active=this.getActiveElement(),isBody="BODY"===active?.tagName,isInElement=element.contains(active);return isBody||isInElement}}class FocusTrackerFocusInImpl extends AbstractFocusTrackerService{focusInTargetElement;_previousActiveElement;constructor(){super(),this.createFocusinEventListener()}getActiveElement(){return this.focusInTargetElement??null}createFocusinEventListener(){document.addEventListener("focusin",(event=>{this.focusInTargetElement=event.target})),document.addEventListener("focusout",(event=>{this._previousActiveElement=this.focusInTargetElement,this.focusInTargetElement=void 0}))}getPreviousActiveElement(){return this._previousActiveElement??null}}let FocusTrackerService=class FocusTrackerService extends AbstractFocusTrackerService{static{FocusTrackerService_1=this}static instance=FocusTrackerService_1.createNewInstance();static getInstance(){return FocusTrackerService_1.instance}static isDocumentActiveElementImplemented(){return null!==document.activeElement&&void 0!==document.activeElement}static createNewInstance(){return new FocusTrackerFocusInImpl}getActiveElement(){return FocusTrackerService_1.getInstance().getActiveElement()}getPreviousActiveElement(){return FocusTrackerService_1.getInstance().getPreviousActiveElement()}};FocusTrackerService=FocusTrackerService_1=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],FocusTrackerService)},"./projects/zac-ng-lib/src/lib/shared/util/date-util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var DateFormatNameEnum;__webpack_require__.d(__webpack_exports__,{C:()=>DateFormatNameEnum,r:()=>DateUtil}),function(DateFormatNameEnum){DateFormatNameEnum.fr="fr",DateFormatNameEnum.iso="iso"}(DateFormatNameEnum||(DateFormatNameEnum={}));const DateUtil=new class DateUtilFacade{constructor(){}MIDI=12;isInvalidDate(date){return date&&date instanceof Date&&isNaN(date?.getTime())}isValid(date,dateFormat){try{if(date instanceof Date){if(this.isInvalidDate(date))return!1}else this.date10ToDate(date,dateFormat)}catch(e){return!1}return!0}date10ToDate(date10String,dateFormat){let date;try{return date="today"===date10String?new Date:this.toNonLenientDateOrError(date10String,dateFormat),date.setHours(this.MIDI,0,0,0),date}catch(e){throw new Error(`La date donnée = ${date10String} ne correspond pas au forma attendu JJ/MM/AAAA`)}}dateIsoToDate10(dateIsoString){const array=dateIsoString.split("-");return`${array[2]}/${array[1]}/${array[0]}`}date10ToDateIso(date10String){const array=date10String.split("/");return`${array[2]}-${array[1]}-${array[0]}`}checkDateControlNonLenient(dateControl,dateFormat){const date=dateControl.value;let dateString;"string"==typeof date&&(dateString=date,dateString?.length>7&&this.toNonLenientDateOrError(dateString,dateFormat))}toNonLenientDateOrError(dateString,dateFormat){const datew=this.toNonLenientDateOrUndefined(dateString,dateFormat);if(!datew)throw new Error(`La date donnée = ${dateString} ne correspond pas au format attendu JJ/MM/AAAA`);return datew}toNonLenientDateOrUndefined(dateString,dateFormat){const sep=dateFormat===DateFormatNameEnum.fr?"/":"-",dateArray=dateString.split(sep);let datew;if(dateFormat===DateFormatNameEnum.fr)return datew=new Date(dateArray[2],dateArray[1]-1,dateArray[0],this.MIDI,0,0,0),datew.toLocaleDateString("fr-FR")===dateString?datew:void 0;if(dateFormat===DateFormatNameEnum.iso)return datew=new Date(dateArray[0],dateArray[1]-1,dateArray[2],this.MIDI,0,0,0),datew.toISOString().substring(0,10)===dateString?datew:void 0;throw new Error(`Le format ${dateFormat} n'est pas supporté.`)}}},"./projects/zac-ng-lib/src/lib/shared/widget/focusgroup-accessor-base.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>FocusgroupAccessorBase});var FocusgroupAccessorBase_1,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_value_accessor_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts"),_util_event_queue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/event-queue.ts"),_service_focus_tracker_focus_tracker_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/focus-tracker/focus-tracker.service.ts"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/first.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/timeout.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs");let FocusgroupAccessorBase=class FocusgroupAccessorBase extends _value_accessor_base__WEBPACK_IMPORTED_MODULE_0__.k{static{FocusgroupAccessorBase_1=this}internalFocused=!1;focusOutEmitted=!1;focusTracker;_disabled=!1;set disabled(value){this._disabled=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.c)(value),this.setDisabledState(this._disabled)}get disabled(){return this._disabled??!1}blurValue=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;valueUnchange=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;constructor(injector,elementRef){super(injector,elementRef),this.focusTracker=_service_focus_tracker_focus_tracker_service__WEBPACK_IMPORTED_MODULE_3__.g.getInstance(),this.getNativeElement().classList.add("focusgroup"),this.getNativeElement().focus=this._setFocus.bind(this)}onFocusOut(element,event){var _this=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){element!==_this.getNativeElement()&&(event.stopImmediatePropagation(),event.preventDefault(),yield _this.skipTurnToAllowFocusGainElsewhere(),_this.changeStateAndFireEventsIfThisComponentLosesFocus())}))()}onFocusIn(element,event){var _this2=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){yield _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn(),_this2.focusOutEmitted=!1,_this2.focused=!0}))()}onClick(element,event){this.testValueChangeAndFireValueUnchangeIfNot()}onSpace(element,event){this.testValueChangeAndFireValueUnchangeIfNot()}get focused(){return this.internalFocused}set focused(value){value!==this.internalFocused&&(this.internalFocused=value,this.addOrRemoveCssClassFocused(value).then())}onComponentFocusLost(){}fireEventsOnFocusLost=()=>{this.touch(),this.focusOutEmitted||(this.focusOutEmitted=!0,FocusgroupAccessorBase_1.fireEvent(this.getNativeElement(),"focusout",!0),FocusgroupAccessorBase_1.fireEvent(this.getNativeElement(),"blur",!1),this.blurValue.emit(this.innerValue)),this.onComponentFocusLost()};changeStateAndFireEventsIfThisComponentLosesFocus(){this.focused=!1,("BODY"===document.activeElement?.tagName||this.isThisComponentLosesFocus())&&this.fireEventsOnFocusLost()}testValueChangeAndFireValueUnchangeIfNot(){this.valueChange.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.$)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.w)(100),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.W)((error=>(console.debug("valueUnchange ",this.innerValue),this.valueUnchange.emit(this.innerValue||void 0),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(null))))).subscribe()}addOrRemoveCssClassFocused(value){var _this3=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){yield _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn(),value?_this3.getNativeElement().classList.add("focused"):_this3.getNativeElement().classList.remove("focused")}))()}_setFocus(){this.focus()}isThisComponentLosesFocus(){const activeElement=this.focusTracker.getActiveElement();return activeElement&&!this.getNativeElement().contains(activeElement)||!1}skipTurnToAllowFocusGainElsewhere(){return _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn()}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef}];static propDecorators={disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],valueUnchange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output}],onFocusOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["focusout",["$event.target","$event"]]}],onFocusIn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["focusin",["$event.target","$event"]]}],onClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["click",["$event.target","$event"]]}],onSpace:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["keydown.space",["$event.target","$event"]]}]}};FocusgroupAccessorBase=FocusgroupAccessorBase_1=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Directive)({selector:"FocusgroupAccessorBase",standalone:!1})],FocusgroupAccessorBase)}}]);