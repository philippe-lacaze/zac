"use strict";(self.webpackChunkzac_ng_lib=self.webpackChunkzac_ng_lib||[]).push([[852],{"./.storybook/common/CVA.md":module=>{module.exports='<details>\n<summary>\nÉlément de formulaire de type ControlValueAccessor\n</summary>\n\nCe composant implémente l’interface [ControlValueAccessor](https://angular.io/api/forms/ControlValueAccessor#description) et hérite de l’implémentation de base FocusgroupAccessorBase fournie dans cette librairie, ce qui lui permet :\n\n- D’être utilisé comme n’importe quel autre contrôle natif\n  - En lui adjoignant des directives de validation (**required**, **min**, …)\n  - En le liant à une propriété d’un modèle en utilisant indifféremment les 2 méthodes Angular classiques\n    - Via **[(ngModel)]** de [FormsModule](https://angular.io/api/forms/FormsModule)\n    - Via **[formControlName]** de [ReactiveFormsModule](https://angular.io/api/forms/ReactiveFormsModule)\n  - En pouvant choisir parmi les 3 méthodes de mise à jour du modèle (**ngModelOptions** = `"change"` par défaut, ou `"blur"` ou `"submit"`)\n</details>\n\n<details> \n<summary>Accessibilité</summary>\n**Attention :** à partir de la zac-ng-lib v19, il **faut** utiliser ce composant au sein d’un `zac-form-field` pour que label et message d’erreur soient correctement associés au contrôle pour l’accessibilité.\n</details>\n'},"./.storybook/common/IntroStory.md":module=>{module.exports="<br/>\n## Exemple, API & Usage\n"},"./projects/zac-ng-lib/src/lib/form/date/date10-period.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExempleNominal:()=>ExempleNominal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>date10_period_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),date_validators=__webpack_require__("./projects/zac-ng-lib/src/lib/form/date/date-validators.ts"),date_util=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/date-util.ts");let Date10PeriodDirective=class Date10PeriodDirective{dateMin;dateMax;set max(max){this.dateMax=max}set min(min){this.dateMax=min}format=date_util.C.fr;validatorFn=fesm2022_forms.k0.nullValidator;constructor(){}ngOnChanges(changes){if(changes){const min=changes.dateMin?.currentValue??changes.min?.currentValue,max=changes.dateMax?.currentValue??changes.max?.currentValue,format=changes.format?.currentValue;this.validatorFn=date_validators.A.date10Period(min,max,format)}}validate(control){return this.validatorFn(control)}static ctorParameters=()=>[];static propDecorators={dateMin:[{type:core.Input}],dateMax:[{type:core.Input}],max:[{type:core.Input}],min:[{type:core.Input}],format:[{type:core.Input}]}};Date10PeriodDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[zacDate10Period],input[type=date][min],input[type=date][max],zac-date3[min],zac-date3[max],zac-date[min],zac-date[max]",standalone:!0,providers:[{provide:fesm2022_forms.cz,useExisting:Date10PeriodDirective,multi:!0}]})],Date10PeriodDirective);var control_bar_component=__webpack_require__("./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),form_field_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.ts"),date3_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/date/date3.component.ts"),CVA=__webpack_require__("./.storybook/common/CVA.md"),IntroStory=__webpack_require__("./.storybook/common/IntroStory.md");const date10_period_stories={title:"Formulaire/Date10Period",component:Date10PeriodDirective,tags:["docs"],decorators:[(0,dist.moduleMetadata)({imports:[fesm2022_forms.YN,Date10PeriodDirective,errors_directive.R,control_bar_component.W,form_field_component.K,date3_component.b]})],argTypes:{model:{control:"object",table:{disable:!0}},dateMin:{control:"text"},dateMax:{control:"text"},format:{control:"text"},readonly:{control:"boolean",description:"Mettre true sur <b>zac-form-field</b> pour forcer le champ en readonly."}}},ExempleNominal={name:"Exemple nominal",args:{model:{},dateMin:"01/01/1900",dateMax:"today",format:"fr",readonly:!1},parameters:{docs:{description:{story:`\n${CVA}\n${IntroStory}`},source:{type:"auto",language:"html"}}},render:args=>({props:{...args},template:'\n<form zacErrors>\n  <zac-form-field label="Date de naissance" [readonly]="readonly">\n    <zac-date3\n      id="dateNaissance"\n      name="dateNaissance"\n      zacDate10Period\n      [dateMin]="dateMin"\n      [dateMax]="dateMax"\n      [format]="format"\n      [(ngModel)]="model.date"\n      required\n    />\n  </zac-form-field>\n  <zac-control-bar/>\n</form>\n<p style="margin-top: .5rem; font-size: .875rem; color: #666;">Date saisie : {{ model.date }}</p>\n'})},__namedExportsOrder=["ExempleNominal"];ExempleNominal.parameters={...ExempleNominal.parameters,docs:{...ExempleNominal.parameters?.docs,source:{originalSource:"{\n  name: 'Exemple nominal',\n  args: {\n    model: {},\n    dateMin: '01/01/1900',\n    dateMax: 'today',\n    format: 'fr',\n    readonly: false\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: `\\n${cvaMd}\\n${introStoryMd}`\n      },\n      source: {\n        type: 'auto',\n        language: 'html'\n      }\n    }\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    template: template\n  })\n}",...ExempleNominal.parameters?.docs?.source}}}},"./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>FormFieldComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var form_field_componentngResource=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.scss?ngResource"),form_field_componentngResource_default=__webpack_require__.n(form_field_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),zac_label_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/zac-label/zac-label.component.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),error_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.ts"),form_field=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts"),zac_label_for_input_service=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/zac-label-for-input.service.ts"),platform_browser=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs");let AbstractSanitizerPipe=class AbstractSanitizerPipe{domSanitizer;constructor(domSanitizer){this.domSanitizer=domSanitizer}static ctorParameters=()=>[{type:platform_browser.DomSanitizer}]};AbstractSanitizerPipe=(0,tslib_es6.Cg)([(0,core.Injectable)()],AbstractSanitizerPipe);let SafeHtmlPipe=class SafeHtmlPipe extends AbstractSanitizerPipe{transform(html){return this.domSanitizer.bypassSecurityTrustHtml(html)}};SafeHtmlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeHtml",standalone:!0})],SafeHtmlPipe);let SafeStylePipe=class SafeStylePipe extends AbstractSanitizerPipe{transform(style){return this.domSanitizer.bypassSecurityTrustStyle(style)}};SafeStylePipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeStyle",standalone:!0})],SafeStylePipe);let SafeScriptPipe=class SafeScriptPipe extends AbstractSanitizerPipe{transform(script){return this.domSanitizer.bypassSecurityTrustScript(script)}};SafeScriptPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeScript",standalone:!0})],SafeScriptPipe);let SafeUrlPipe=class SafeUrlPipe extends AbstractSanitizerPipe{transform(url){return this.domSanitizer.bypassSecurityTrustUrl(url)}};SafeUrlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeUrl",standalone:!0})],SafeUrlPipe);let SafeResourceUrlPipe=class SafeResourceUrlPipe extends AbstractSanitizerPipe{transform(resourceUrl){return this.domSanitizer.bypassSecurityTrustResourceUrl(resourceUrl)}};SafeResourceUrlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeResourceUrl",standalone:!0})],SafeResourceUrlPipe);var abstract_form_field_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/abstract-form-field.component.ts");let FormFieldComponent=class FormFieldComponent extends abstract_form_field_component.W{set label(value){this._stringLabel=value}errorPosition="under";set hint(value){this._hint=value}get hint(){return this._hint}hintPosition="under";constructor(elementRef,render,labelForInputService,errorsDirective){super(elementRef,render,labelForInputService,errorsDirective)}static ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:zac_label_for_input_service.$},{type:errors_directive.R,decorators:[{type:core.Optional}]}];static propDecorators={label:[{type:core.Input}],errorPosition:[{type:core.Input}],hint:[{type:core.Input}],hintPosition:[{type:core.Input}]}};FormFieldComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-form-field",template:'<ng-container\n  *ngIf="projectedNgControl && $readOnlyStateApplied() !== undefined"\n>\n  @let isRoleGroup = false;\n  <ng-container *ngIf="!isRoleGroup">\n    \x3c!-- On est ici dans un zac qui ne contient qu\'un seul élément de form html --\x3e\n    \x3c!-- On utilise un zac-label mais seulement si on ne l\'a pas projeté --\x3e\n\n    <ng-container *ngTemplateOutlet="zacLabelTemplate" />\n\n    <div\n      id="{{ ngControlElement?.id }}-hint"\n      class="{{ hintClasses }}"\n      *ngIf="!$readonly() && hint && \'above\' === hintPosition"\n    >\n      {{ hint }}\n    </div>\n\n    <ng-container *ngIf="\'above\' === errorPosition">\n      <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n    </ng-container>\n\n    <ng-container *ngTemplateOutlet="formElementTemplate"></ng-container>\n\n    <div\n      id="{{ ngControlElement?.id }}-hint"\n      class="{{ hintClasses }}"\n      *ngIf="!$readonly() && hint && \'under\' === hintPosition"\n    >\n      {{ hint }}\n    </div>\n\n    <ng-container *ngIf="\'under\' === errorPosition">\n      <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- ce code est une possibilité qui n\'est plus activé mais est gardé pour référence --\x3e\n  <ng-container *ngIf="isRoleGroup" #zacRoleGroupTemplate>\n    \x3c!-- On est ici dans un zac qui contient plusieurs éléments de form html --\x3e\n    \x3c!-- On va wrapper l\'élément de formulaire projeté dans un fieldset legend  --\x3e\n    \x3c!-- uniquement si on a pa projeté aussi un zac-label  --\x3e\n    <fieldset>\n      <legend *ngIf="stringLabel && !projectedLabelComponent" class="label">\n        {{ stringLabel }}\n        <ng-container *ngTemplateOutlet="requiredOrOptionalTemplate"/>\n      </legend>\n      <legend *ngIf="projectedLabelComponent" class="label">\n        <ng-container *ngTemplateOutlet="zacLabelTemplate" />\n      </legend>\n\n      <div\n        id="{{ ngControlElement?.id }}-hint"\n        class="{{ hintClasses }}"\n        *ngIf="!$readonly() && hint && \'above\' === hintPosition"\n      >\n        {{ hint }}\n      </div>\n\n      <ng-container *ngIf="\'above\' === errorPosition">\n        <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n      </ng-container>\n\n      <ng-container *ngTemplateOutlet="formElementTemplate"></ng-container>\n\n      <div\n        id="{{ ngControlElement?.id }}-hint"\n        class="{{ hintClasses }}"\n        *ngIf="!$readonly() && hint && \'under\' === hintPosition"\n      >\n        {{ hint }}\n      </div>\n\n      <ng-container *ngIf="\'under\' === errorPosition">\n        <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n      </ng-container>\n\n      \x3c!--  @deprecated depuis qu\'on gère avec fieldset + legend\n      <ng-container\n        (zacAfterViewInit)="afterRoleGroupTemplateInit()"\n      ></ng-container>\n      --\x3e\n    </fieldset>\n  </ng-container>\n\n  <ng-template #zacLabelTemplate>\n    <ng-container *ngIf="stringLabel && !projectedLabelComponent">\n      <zac-label #generatedZacLabel for="{{ contentControlId }}"\n        >{{ stringLabel }}\n        <ng-container *ngTemplateOutlet="requiredOrOptionalTemplate"/>\n      </zac-label>\n    </ng-container>\n\n    <ng-container *ngIf="projectedLabelComponent">\n      <ng-content select="zac-label" />\n    </ng-container>\n  </ng-template>\n\n  <ng-template #formElementTemplate>\n    \x3c!-- Ici sera projeté le FormControl contenu --\x3e\n    <ng-content select=":not(zac-label):not(zac-error)"></ng-content>\n  </ng-template>\n\n  <ng-template #errorTemplate>\n    <ng-container *ngIf="!$readonly() && errorsDirective">\n      <ng-container *ngIf="projectedErrorComponent">\n        <ng-content select="zac-error" />\n      </ng-container>\n      <ng-container *ngIf="!projectedErrorComponent">\n        <zac-error controlName="{{ projectedNgControl.name }}"></zac-error>\n      </ng-container>\n    </ng-container>\n  </ng-template>\n\n  <ng-template #requiredOrOptionalTemplate>\n    @if (\n      $requiredOrOptionalClause();\n      as roInfo\n      ) {\n      <div class="required-or-optional" [innerHTML]="roInfo | safeHtml"></div>\n    }\n  </ng-template>\n</ng-container>\n',imports:[common_module_Dx7dWex5.bT,zac_label_component.w,common_module_Dx7dWex5.T3,SafeHtmlPipe,(0,core.forwardRef)((()=>error_component.A))],providers:[{provide:form_field.k,useExisting:(0,core.forwardRef)((()=>FormFieldComponent))}],encapsulation:core.ViewEncapsulation.None,changeDetection:core.ChangeDetectionStrategy.OnPush,host:{class:"zac-form-field"},styles:[form_field_componentngResource_default()]})],FormFieldComponent)}}]);