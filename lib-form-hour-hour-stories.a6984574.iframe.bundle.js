(self.webpackChunkzac_ng_lib=self.webpackChunkzac_ng_lib||[]).push([[545],{"./.storybook/common/CVA.md":module=>{"use strict";module.exports='<details>\n<summary>\nÉlément de formulaire de type ControlValueAccessor\n</summary>\n\nCe composant implémente l’interface [ControlValueAccessor](https://angular.io/api/forms/ControlValueAccessor#description) et hérite de l’implémentation de base FocusgroupAccessorBase fournie dans cette librairie, ce qui lui permet :\n\n- D’être utilisé comme n’importe quel autre contrôle natif\n  - En lui adjoignant des directives de validation (**required**, **min**, …)\n  - En le liant à une propriété d’un modèle en utilisant indifféremment les 2 méthodes Angular classiques\n    - Via **[(ngModel)]** de [FormsModule](https://angular.io/api/forms/FormsModule)\n    - Via **[formControlName]** de [ReactiveFormsModule](https://angular.io/api/forms/ReactiveFormsModule)\n  - En pouvant choisir parmi les 3 méthodes de mise à jour du modèle (**ngModelOptions** = `"change"` par défaut, ou `"blur"` ou `"submit"`)\n</details>\n\n<details> \n<summary>Accessibilité</summary>\n**Attention :** à partir de la zac-ng-lib v19, il **faut** utiliser ce composant au sein d’un `zac-form-field` pour que label et message d’erreur soient correctement associés au contrôle pour l’accessibilité.\n</details>\n'},"./.storybook/common/IntroStory.md":module=>{"use strict";module.exports="<br/>\n## Exemple, API & Usage\n"},"./node_modules/rxjs/dist/esm5/internal/operators/timeout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>timeout});var _scheduler_async__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/scheduler/async.js"),_util_isDate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isDate.js"),_util_lift__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js"),_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js"),TimeoutError=(0,_util_createErrorClass__WEBPACK_IMPORTED_MODULE_0__.L)((function(_super){return function TimeoutErrorImpl(info){void 0===info&&(info=null),_super(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=info}}));function timeout(config,schedulerArg){var _a=(0,_util_isDate__WEBPACK_IMPORTED_MODULE_1__.v)(config)?{first:config}:"number"==typeof config?{each:config}:config,first=_a.first,each=_a.each,_b=_a.with,_with=void 0===_b?timeoutErrorFactory:_b,_c=_a.scheduler,scheduler=void 0===_c?null!=schedulerArg?schedulerArg:_scheduler_async__WEBPACK_IMPORTED_MODULE_2__.E:_c,_d=_a.meta,meta=void 0===_d?null:_d;if(null==first&&null==each)throw new TypeError("No timeout provided.");return(0,_util_lift__WEBPACK_IMPORTED_MODULE_3__.N)((function(source,subscriber){var originalSourceSubscription,timerSubscription,lastValue=null,seen=0,startTimer=function(delay){timerSubscription=(0,_util_executeSchedule__WEBPACK_IMPORTED_MODULE_4__.N)(subscriber,scheduler,(function(){try{originalSourceSubscription.unsubscribe(),(0,_observable_innerFrom__WEBPACK_IMPORTED_MODULE_5__.Tg)(_with({meta,lastValue,seen})).subscribe(subscriber)}catch(err){subscriber.error(err)}}),delay)};originalSourceSubscription=source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_6__._)(subscriber,(function(value){null==timerSubscription||timerSubscription.unsubscribe(),seen++,subscriber.next(lastValue=value),each>0&&startTimer(each)}),void 0,void 0,(function(){(null==timerSubscription?void 0:timerSubscription.closed)||null==timerSubscription||timerSubscription.unsubscribe(),lastValue=null}))),!seen&&startTimer(null!=first?"number"==typeof first?first:+first-scheduler.now():each)}))}function timeoutErrorFactory(info){throw new TimeoutError(info)}},"./node_modules/rxjs/dist/esm5/internal/util/isDate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isValidDate(value){return value instanceof Date&&!isNaN(value)}__webpack_require__.d(__webpack_exports__,{v:()=>isValidDate})},"./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ControlBarComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var control_bar_componentngResource=__webpack_require__("./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.scss?ngResource"),control_bar_componentngResource_default=__webpack_require__.n(control_bar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),button_config=__webpack_require__("./projects/zac-ng-lib/src/lib/button/button-config.ts"),fromEvent=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),boolean_property_DaaVhX5A=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),button_component=__webpack_require__("./projects/zac-ng-lib/src/lib/button/button.component.ts"),configuration_zac=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/config/configuration-zac.ts");class ControlBarConfig extends configuration_zac.oc{validationButtonNames;abandonButtonNames;configIntranet={validationButtonNames:["Valider"],abandonButtonNames:["Abandonner"]};configExtranet={validationButtonNames:["Suivant","Precedent"],abandonButtonNames:["Abandonner","ContinuerPlusTard"]}}const CONTROL_BAR_CONFIG_TOKEN=new core.InjectionToken("ZacButtonConfigToken",{providedIn:"platform",factory:()=>CONTROL_BAR_CONFIG_DEFAULT}),CONTROL_BAR_CONFIG_DEFAULT=new configuration_zac.MP(new ControlBarConfig).asThemeSensitiveRoot();let ControlBarComponent=class ControlBarComponent{static ConfigToken=CONTROL_BAR_CONFIG_TOKEN;static validationButtons=["Suivant","Precedent"];static abandonButtons=["Abandonner","ContinuerPlusTard"];allButtonsDef=button_config.ei;config=(0,core.inject)(CONTROL_BAR_CONFIG_TOKEN);_validationButtonNames;_abandonButtonNames;set validationButtonNames(value){let buttonNames;buttonNames="string"==typeof value?this.coerceToArray(value):value,this._validationButtonNames=buttonNames}set abandonButtonNames(value){let buttonNames;buttonNames="string"==typeof value?this.coerceToArray(value):value,this._abandonButtonNames=buttonNames}validationButtonConfig=[];abandonButtonConfig=[];set navigationRole(value){this._navigationRole=(0,boolean_property_DaaVhX5A.c)(null==value||value)}get navigationRole(){return this._navigationRole}_navigationRole=!0;constructor(){this.config.configureComponent(this)}action=(0,fromEvent.R)((0,core.inject)(core.ElementRef).nativeElement,"click").pipe((0,map.T)((event=>{if(event&&event instanceof Event){const target=event?.target;return target?.getAttribute("name")??void 0}})),(0,filter.p)((value=>void 0!==value)));get validationButtonNames(){return this._validationButtonNames??[]}get abandonButtonNames(){return this._abandonButtonNames??[]}isValidButtonName(button){return button in this.allButtonsDef}coerceToArray(value){return value.split(",")}static ctorParameters=()=>[];static propDecorators={validationButtonNames:[{type:core.Input}],abandonButtonNames:[{type:core.Input}],validationButtonConfig:[{type:core.Input}],abandonButtonConfig:[{type:core.Input}],navigationRole:[{type:core.Input}],action:[{type:core.Output}]}};ControlBarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-control-bar",template:'<ng-container *ngIf="navigationRole !== false; else noNavigationRole">\n  <nav class="control_bar" role="navigation">\n    <ng-container [ngTemplateOutlet]="body"></ng-container>\n  </nav>\n</ng-container>\n\n<ng-template #noNavigationRole>\n  <section class="control_bar">\n    <ng-container [ngTemplateOutlet]="body"></ng-container>\n  </section\n  >\n</ng-template>\n\n<ng-template #body>\n  <div\n    class="control_bar-container_validation"\n    *ngIf="validationButtonConfig?.length; else validationNames"\n    [ngClass]="{ \'--alone\': 1 === validationButtonConfig?.length }"\n  >\n    <ng-container *ngFor="let buttonDef of validationButtonConfig">\n      <zac-button [config]="buttonDef"></zac-button>\n    </ng-container>\n  </div>\n  <ng-template #validationNames>\n    <div\n      class="control_bar-container_validation"\n      *ngIf="validationButtonNames?.length"\n      [ngClass]="{ \'--alone\': 1 === validationButtonNames.length }"\n    >\n      <ng-container *ngFor="let button of validationButtonNames">\n        <zac-button\n          *ngIf="isValidButtonName(button)"\n          [name]="button"\n        ></zac-button>\n      </ng-container>\n    </div>\n  </ng-template>\n\n\n  <div\n    class="control_bar-container_abandon"\n    *ngIf="abandonButtonConfig?.length; else abandonsNames"\n    [ngClass]="{ \'--alone\': 1 === abandonButtonConfig?.length }"\n  >\n    <ng-container *ngFor="let buttonDef of abandonButtonConfig">\n      <zac-button [config]="buttonDef"></zac-button>\n      <div class="separator"></div>\n    </ng-container>\n  </div>\n\n  <ng-template #abandonsNames>\n  <div\n    class="control_bar-container_abandon"\n    *ngIf="abandonButtonNames?.length"\n    [ngClass]="{ \'--alone\': 1 === abandonButtonNames.length }"\n  >\n    <ng-container *ngFor="let button of abandonButtonNames">\n      <zac-button\n        *ngIf="isValidButtonName(button)"\n        [name]="button"\n      ></zac-button>\n      <div class="separator"></div>\n    </ng-container>\n  </div>\n  </ng-template>\n</ng-template>\n',encapsulation:core.ViewEncapsulation.None,imports:[common_module_Dx7dWex5.bT,common_module_Dx7dWex5.T3,common_module_Dx7dWex5.YU,button_component.Q,common_module_Dx7dWex5.Sq],changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[control_bar_componentngResource_default()]})],ControlBarComponent)},"./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>FormFieldComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var form_field_componentngResource=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.scss?ngResource"),form_field_componentngResource_default=__webpack_require__.n(form_field_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),zac_label_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/zac-label/zac-label.component.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs"),error_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/error/error.component.ts"),form_field=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.ts"),zac_label_for_input_service=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/zac-label-for-input.service.ts"),platform_browser=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs");let AbstractSanitizerPipe=class AbstractSanitizerPipe{domSanitizer;constructor(domSanitizer){this.domSanitizer=domSanitizer}static ctorParameters=()=>[{type:platform_browser.DomSanitizer}]};AbstractSanitizerPipe=(0,tslib_es6.Cg)([(0,core.Injectable)()],AbstractSanitizerPipe);let SafeHtmlPipe=class SafeHtmlPipe extends AbstractSanitizerPipe{transform(html){return this.domSanitizer.bypassSecurityTrustHtml(html)}};SafeHtmlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeHtml",standalone:!0})],SafeHtmlPipe);let SafeStylePipe=class SafeStylePipe extends AbstractSanitizerPipe{transform(style){return this.domSanitizer.bypassSecurityTrustStyle(style)}};SafeStylePipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeStyle",standalone:!0})],SafeStylePipe);let SafeScriptPipe=class SafeScriptPipe extends AbstractSanitizerPipe{transform(script){return this.domSanitizer.bypassSecurityTrustScript(script)}};SafeScriptPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeScript",standalone:!0})],SafeScriptPipe);let SafeUrlPipe=class SafeUrlPipe extends AbstractSanitizerPipe{transform(url){return this.domSanitizer.bypassSecurityTrustUrl(url)}};SafeUrlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeUrl",standalone:!0})],SafeUrlPipe);let SafeResourceUrlPipe=class SafeResourceUrlPipe extends AbstractSanitizerPipe{transform(resourceUrl){return this.domSanitizer.bypassSecurityTrustResourceUrl(resourceUrl)}};SafeResourceUrlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"safeResourceUrl",standalone:!0})],SafeResourceUrlPipe);var abstract_form_field_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/abstract-form-field.component.ts");let FormFieldComponent=class FormFieldComponent extends abstract_form_field_component.W{set label(value){this._stringLabel=value}errorPosition="under";set hint(value){this._hint=value}get hint(){return this._hint}hintPosition="under";constructor(elementRef,render,labelForInputService,errorsDirective){super(elementRef,render,labelForInputService,errorsDirective)}static ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:zac_label_for_input_service.$},{type:errors_directive.R,decorators:[{type:core.Optional}]}];static propDecorators={label:[{type:core.Input}],errorPosition:[{type:core.Input}],hint:[{type:core.Input}],hintPosition:[{type:core.Input}]}};FormFieldComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-form-field",template:'<ng-container\n  *ngIf="projectedNgControl && $readOnlyStateApplied() !== undefined"\n>\n  @let isRoleGroup = false;\n  <ng-container *ngIf="!isRoleGroup">\n    \x3c!-- On est ici dans un zac qui ne contient qu\'un seul élément de form html --\x3e\n    \x3c!-- On utilise un zac-label mais seulement si on ne l\'a pas projeté --\x3e\n\n    <ng-container *ngTemplateOutlet="zacLabelTemplate" />\n\n    <div\n      id="{{ ngControlElement?.id }}-hint"\n      class="{{ hintClasses }}"\n      *ngIf="!$readonly() && hint && \'above\' === hintPosition"\n    >\n      {{ hint }}\n    </div>\n\n    <ng-container *ngIf="\'above\' === errorPosition">\n      <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n    </ng-container>\n\n    <ng-container *ngTemplateOutlet="formElementTemplate"></ng-container>\n\n    <div\n      id="{{ ngControlElement?.id }}-hint"\n      class="{{ hintClasses }}"\n      *ngIf="!$readonly() && hint && \'under\' === hintPosition"\n    >\n      {{ hint }}\n    </div>\n\n    <ng-container *ngIf="\'under\' === errorPosition">\n      <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- ce code est une possibilité qui n\'est plus activé mais est gardé pour référence --\x3e\n  <ng-container *ngIf="isRoleGroup" #zacRoleGroupTemplate>\n    \x3c!-- On est ici dans un zac qui contient plusieurs éléments de form html --\x3e\n    \x3c!-- On va wrapper l\'élément de formulaire projeté dans un fieldset legend  --\x3e\n    \x3c!-- uniquement si on a pa projeté aussi un zac-label  --\x3e\n    <fieldset>\n      <legend *ngIf="stringLabel && !projectedLabelComponent" class="label">\n        {{ stringLabel }}\n        <ng-container *ngTemplateOutlet="requiredOrOptionalTemplate"/>\n      </legend>\n      <legend *ngIf="projectedLabelComponent" class="label">\n        <ng-container *ngTemplateOutlet="zacLabelTemplate" />\n      </legend>\n\n      <div\n        id="{{ ngControlElement?.id }}-hint"\n        class="{{ hintClasses }}"\n        *ngIf="!$readonly() && hint && \'above\' === hintPosition"\n      >\n        {{ hint }}\n      </div>\n\n      <ng-container *ngIf="\'above\' === errorPosition">\n        <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n      </ng-container>\n\n      <ng-container *ngTemplateOutlet="formElementTemplate"></ng-container>\n\n      <div\n        id="{{ ngControlElement?.id }}-hint"\n        class="{{ hintClasses }}"\n        *ngIf="!$readonly() && hint && \'under\' === hintPosition"\n      >\n        {{ hint }}\n      </div>\n\n      <ng-container *ngIf="\'under\' === errorPosition">\n        <ng-container *ngTemplateOutlet="errorTemplate"></ng-container>\n      </ng-container>\n\n      \x3c!--  @deprecated depuis qu\'on gère avec fieldset + legend\n      <ng-container\n        (zacAfterViewInit)="afterRoleGroupTemplateInit()"\n      ></ng-container>\n      --\x3e\n    </fieldset>\n  </ng-container>\n\n  <ng-template #zacLabelTemplate>\n    <ng-container *ngIf="stringLabel && !projectedLabelComponent">\n      <zac-label #generatedZacLabel for="{{ contentControlId }}"\n        >{{ stringLabel }}\n        <ng-container *ngTemplateOutlet="requiredOrOptionalTemplate"/>\n      </zac-label>\n    </ng-container>\n\n    <ng-container *ngIf="projectedLabelComponent">\n      <ng-content select="zac-label" />\n    </ng-container>\n  </ng-template>\n\n  <ng-template #formElementTemplate>\n    \x3c!-- Ici sera projeté le FormControl contenu --\x3e\n    <ng-content select=":not(zac-label):not(zac-error)"></ng-content>\n  </ng-template>\n\n  <ng-template #errorTemplate>\n    <ng-container *ngIf="!$readonly() && errorsDirective">\n      <ng-container *ngIf="projectedErrorComponent">\n        <ng-content select="zac-error" />\n      </ng-container>\n      <ng-container *ngIf="!projectedErrorComponent">\n        <zac-error controlName="{{ projectedNgControl.name }}"></zac-error>\n      </ng-container>\n    </ng-container>\n  </ng-template>\n\n  <ng-template #requiredOrOptionalTemplate>\n    @if (\n      $requiredOrOptionalClause();\n      as roInfo\n      ) {\n      <div class="required-or-optional" [innerHTML]="roInfo | safeHtml"></div>\n    }\n  </ng-template>\n</ng-container>\n',imports:[common_module_Dx7dWex5.bT,zac_label_component.w,common_module_Dx7dWex5.T3,SafeHtmlPipe,(0,core.forwardRef)((()=>error_component.A))],providers:[{provide:form_field.k,useExisting:(0,core.forwardRef)((()=>FormFieldComponent))}],encapsulation:core.ViewEncapsulation.None,changeDetection:core.ChangeDetectionStrategy.OnPush,host:{class:"zac-form-field"},styles:[form_field_componentngResource_default()]})],FormFieldComponent)},"./projects/zac-ng-lib/src/lib/form/hour/hour.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExempleNominal:()=>ExempleNominal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>hour_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),focusgroup_accessor_base=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/focusgroup-accessor-base.ts"),common_module_Dx7dWex5=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-Dx7dWex5.mjs");const DATE=new Date(1970,0,1),TIME_FORMAT=new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric"});class HourValidators{static hour5(control){if(!control.value)return null;const ko={hour5:{actual:control.value}};try{const dateArray=control.value.split(":");if(2!==dateArray.length)return ko;{const time=new Date(DATE);if(time.setHours(dateArray[0],dateArray[1]),TIME_FORMAT.format(time)!==control.value)return ko}}catch(e){return ko}return null}}var HourComponent_1;const configToken=new core.InjectionToken("ZacButtonConfigToken",{providedIn:"platform",factory:()=>({exempleLabels:{hour:18,minute:30}})});let HourComponent=class HourComponent extends focusgroup_accessor_base.I{static{HourComponent_1=this}_elementRef;static ConfigToken=configToken;exempleLabels=(0,core.input)(void 0);config=(0,core.inject)(HourComponent_1.ConfigToken);$withExempleLabels=(0,core.computed)((()=>{const r=void 0!==this.exempleLabels()?this.exempleLabels():this.config.exempleLabels;return r?this.elementRef.nativeElement.classList.add("--with_exemple"):this.elementRef.nativeElement.classList.remove("--with_exemple"),r}));$exempleHHLabelID=(0,core.computed)((()=>this.$withExempleLabels()?this.id+"-exemple-hour":null));$exempleMMLabelID=(0,core.computed)((()=>this.$withExempleLabels()?this.id+"-exemple-minute":null));_hh;_mm;validator=HourValidators.hour5;hhElement;constructor(injector,_elementRef){super(injector,_elementRef),this._elementRef=_elementRef,_elementRef.nativeElement.classList.add("hour")}get mm(){return this._mm??""}set mm(value){this.changeValueIfNeeded(this.mm,"_mm",value)&&(this.changeValueIfNeeded(this.mm,"_mm",this.padLeftForHHAndMM(value)),this.fromComponentPropertiesChangeToModelProperty())}get hh(){return this._hh??""}set hh(value){this.changeValueIfNeeded(this.hh,"_hh",value)&&(this.changeValueIfNeeded(this.hh,"_hh",this.padLeftForHHAndMM(value)),this.fromComponentPropertiesChangeToModelProperty())}getTargetValue(event){return event.target.value}whenOutterValueChange(value){this.fromHourStringToThis_hh_mm_properties(value)}focus(){this.hhElement&&this.hhElement.nativeElement.focus()}validate(control){return this.validator(control)}fromComponentPropertiesChangeToModelProperty(){(this.innerValue||!this.innerValue&&this.hh&&this.mm)&&(""===this.hh&&""===this.mm?this.writeInnerValue(""):this.writeInnerValue(this.hh+":"+this.mm))}fromHourStringToThis_hh_mm_properties(hourString=""){[this.hh,this.mm]=hourString.split(":")}changeValueIfNeeded(oldValue,name,value){return oldValue!==value&&(this[name]=value,console.debug(this.constructor.name+"changeValueIfNeeded property="+name+" old="+oldValue+" innerValue="+value),!0)}padLeftForHHAndMM(value){return value?value.padStart(2,"0"):value}static ctorParameters=()=>[{type:core.Injector},{type:core.ElementRef}];static propDecorators={exempleLabels:[{type:core.Input,args:[{isSignal:!0,alias:"exempleLabels",required:!1,transform:void 0}]}],hhElement:[{type:core.ViewChild,args:["hhInput",{read:core.ElementRef}]}]}};HourComponent=HourComponent_1=(0,tslib_es6.Cg)([(0,core.Component)({selector:"zac-hour",template:'<ng-container *ngIf="!$isReadonlyState(); else caseReadonly">\n  <div class="container-input-hh">\n    <label [attr.for]="id+\'hh\'">heure</label>\n    <input [attr.id]="id+\'hh\'" #hhInput name="hh"\n           [value]="hh" (change)="hh = getTargetValue($event)"\n           [maxLength]="2"\n           inputmode="numeric"\n           [attr.aria-describedby]="$exempleHHLabelID()"\n    >\n\n    <p\n      *ngIf="$withExempleLabels() as exempleLabels"\n      [attr.id]="$exempleHHLabelID()"\n      class="exemple"\n      [attr.aria-label]="\'exemple \' + exempleLabels!.hour"\n    >\n      ex. {{ exempleLabels!.hour }}\n    </p>\n  </div>\n  <span aria-hidden="true" class="zac-hour-separator">:</span>\n  <div class="container-input-mm">\n    <label [attr.for]="id+\'mm\'">minute</label>\n    <input [attr.id]="id+\'mm\'" name="mm"\n           [value]="mm" (change)="mm = getTargetValue($event)"\n           [maxLength]="2"\n           inputmode="numeric"\n           [attr.aria-describedby]="$exempleMMLabelID()"\n    >\n\n    <p\n      *ngIf="$withExempleLabels() as exempleLabels"\n      [attr.id]="$exempleMMLabelID()"\n      class="exemple"\n      [attr.aria-label]="\'exemple \' + exempleLabels.minute"\n    >\n      ex. {{ exempleLabels.minute }}\n    </p>\n  </div>\n</ng-container>\n<ng-template #caseReadonly>\n  <input readonly [value]="innerValue">\n</ng-template>\n',providers:[{provide:fesm2022_forms.kq,useExisting:HourComponent,multi:!0},{provide:fesm2022_forms.cz,useExisting:HourComponent,multi:!0}],standalone:!0,imports:[common_module_Dx7dWex5.bT],encapsulation:core.ViewEncapsulation.None,changeDetection:core.ChangeDetectionStrategy.OnPush,host:{class:"zac-hour hour"}})],HourComponent);var form_field_component=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-field/form-field.component.ts"),control_bar_component=__webpack_require__("./projects/zac-ng-lib/src/lib/button/control-bar/control-bar.component.ts"),errors_directive=__webpack_require__("./projects/zac-ng-lib/src/lib/form/form-error/errors/errors.directive.ts"),CVA=__webpack_require__("./.storybook/common/CVA.md"),IntroStory=__webpack_require__("./.storybook/common/IntroStory.md");const hour_stories={title:"Formulaire/Hour",component:HourComponent,tags:["docs"],decorators:[(0,dist.moduleMetadata)({imports:[fesm2022_forms.YN,fesm2022_forms.X1,HourComponent,form_field_component.K,control_bar_component.W,errors_directive.R]})],argTypes:{model:{control:"object",table:{disable:!0}},exempleLabels:{control:"object"},readonly:{control:"boolean",description:"Mettre true sur <b>zac-form-field</b> pour forcer le champ en readonly."},disabled:{control:"boolean"}}},ExempleNominal={name:"Exemple nominal",args:{model:{},exempleLabels:{hour:8,minute:30},readonly:!1,disabled:!1},parameters:{docs:{description:{story:`\n${CVA}\n${IntroStory}`},source:{type:"auto",language:"html"}}},render:args=>({props:{...args},moduleMetadata:{imports:[fesm2022_forms.YN,HourComponent]},template:'\n<form zacErrors>\n  <zac-form-field label="Heure de naissance" [readonly]="readonly">\n    <zac-hour\n      id="heure"\n      name="heure"\n      [(ngModel)]="model.heure"\n      [exempleLabels]="exempleLabels"\n      [disabled]="disabled"\n      required\n    ></zac-hour>\n  </zac-form-field>\n  <zac-control-bar/>\n</form>\n<p style="margin-top: .5rem; font-size: .875rem; color: #666;">Valeur : {{ model.heure }}</p>\n'})},__namedExportsOrder=["ExempleNominal"];ExempleNominal.parameters={...ExempleNominal.parameters,docs:{...ExempleNominal.parameters?.docs,source:{originalSource:"{\n  name: 'Exemple nominal',\n  args: {\n    model: {},\n    exempleLabels: {\n      hour: 8,\n      minute: 30\n    },\n    readonly: false,\n    disabled: false\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: `\\n${cvaMd}\\n${introStoryMd}`\n      },\n      source: {\n        type: 'auto',\n        language: 'html'\n      }\n    }\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    moduleMetadata: {\n      imports: [FormsModule, HourComponent]\n    },\n    template: template\n  })\n}",...ExempleNominal.parameters?.docs?.source}}}},"./projects/zac-ng-lib/src/lib/shared/service/focus-tracker/focus-tracker.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>FocusTrackerService});var FocusTrackerService_1,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");class AbstractFocusTrackerService{isActiveElementIn(element){const active=this.getActiveElement(),isBody="BODY"===active?.tagName,isInElement=element.contains(active);return isBody||isInElement}}class FocusTrackerFocusInImpl extends AbstractFocusTrackerService{focusInTargetElement;_previousActiveElement;constructor(){super(),this.createFocusinEventListener()}getActiveElement(){return this.focusInTargetElement??null}createFocusinEventListener(){document.addEventListener("focusin",(event=>{this.focusInTargetElement=event.target})),document.addEventListener("focusout",(event=>{this._previousActiveElement=this.focusInTargetElement,this.focusInTargetElement=void 0}))}getPreviousActiveElement(){return this._previousActiveElement??null}}let FocusTrackerService=class FocusTrackerService extends AbstractFocusTrackerService{static{FocusTrackerService_1=this}static instance=FocusTrackerService_1.createNewInstance();static getInstance(){return FocusTrackerService_1.instance}static isDocumentActiveElementImplemented(){return null!==document.activeElement&&void 0!==document.activeElement}static createNewInstance(){return new FocusTrackerFocusInImpl}getActiveElement(){return FocusTrackerService_1.getInstance().getActiveElement()}getPreviousActiveElement(){return FocusTrackerService_1.getInstance().getPreviousActiveElement()}};FocusTrackerService=FocusTrackerService_1=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],FocusTrackerService)},"./projects/zac-ng-lib/src/lib/shared/widget/focusgroup-accessor-base.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>FocusgroupAccessorBase});var FocusgroupAccessorBase_1,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_value_accessor_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/widget/value-accessor-base.ts"),_util_event_queue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/util/event-queue.ts"),_service_focus_tracker_focus_tracker_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./projects/zac-ng-lib/src/lib/shared/service/focus-tracker/focus-tracker.service.ts"),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/first.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/timeout.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/boolean-property-DaaVhX5A.mjs");let FocusgroupAccessorBase=class FocusgroupAccessorBase extends _value_accessor_base__WEBPACK_IMPORTED_MODULE_0__.k{static{FocusgroupAccessorBase_1=this}internalFocused=!1;focusOutEmitted=!1;focusTracker;_disabled=!1;set disabled(value){this._disabled=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_1__.c)(value),this.setDisabledState(this._disabled)}get disabled(){return this._disabled??!1}blurValue=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;valueUnchange=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;constructor(injector,elementRef){super(injector,elementRef),this.focusTracker=_service_focus_tracker_focus_tracker_service__WEBPACK_IMPORTED_MODULE_3__.g.getInstance(),this.getNativeElement().classList.add("focusgroup"),this.getNativeElement().focus=this._setFocus.bind(this)}onFocusOut(element,event){var _this=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){element!==_this.getNativeElement()&&(event.stopImmediatePropagation(),event.preventDefault(),yield _this.skipTurnToAllowFocusGainElsewhere(),_this.changeStateAndFireEventsIfThisComponentLosesFocus())}))()}onFocusIn(element,event){var _this2=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){yield _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn(),_this2.focusOutEmitted=!1,_this2.focused=!0}))()}onClick(element,event){this.testValueChangeAndFireValueUnchangeIfNot()}onSpace(element,event){this.testValueChangeAndFireValueUnchangeIfNot()}get focused(){return this.internalFocused}set focused(value){value!==this.internalFocused&&(this.internalFocused=value,this.addOrRemoveCssClassFocused(value).then())}onComponentFocusLost(){}fireEventsOnFocusLost=()=>{this.touch(),this.focusOutEmitted||(this.focusOutEmitted=!0,FocusgroupAccessorBase_1.fireEvent(this.getNativeElement(),"focusout",!0),FocusgroupAccessorBase_1.fireEvent(this.getNativeElement(),"blur",!1),this.blurValue.emit(this.innerValue)),this.onComponentFocusLost()};changeStateAndFireEventsIfThisComponentLosesFocus(){this.focused=!1,("BODY"===document.activeElement?.tagName||this.isThisComponentLosesFocus())&&this.fireEventsOnFocusLost()}testValueChangeAndFireValueUnchangeIfNot(){this.valueChange.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.$)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.w)(100),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.W)((error=>(console.debug("valueUnchange ",this.innerValue),this.valueUnchange.emit(this.innerValue||void 0),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(null))))).subscribe()}addOrRemoveCssClassFocused(value){var _this3=this;return(0,D_gitrepo_zac_ng_lib_19_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.A)((function*(){yield _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn(),value?_this3.getNativeElement().classList.add("focused"):_this3.getNativeElement().classList.remove("focused")}))()}_setFocus(){this.focus()}isThisComponentLosesFocus(){const activeElement=this.focusTracker.getActiveElement();return activeElement&&!this.getNativeElement().contains(activeElement)||!1}skipTurnToAllowFocusGainElsewhere(){return _util_event_queue__WEBPACK_IMPORTED_MODULE_5__.C.skipTurn()}static ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injector},{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.ElementRef}];static propDecorators={disabled:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Input}],valueUnchange:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.Output}],onFocusOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["focusout",["$event.target","$event"]]}],onFocusIn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["focusin",["$event.target","$event"]]}],onClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["click",["$event.target","$event"]]}],onSpace:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_2__.HostListener,args:["keydown.space",["$event.target","$event"]]}]}};FocusgroupAccessorBase=FocusgroupAccessorBase_1=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Directive)({selector:"FocusgroupAccessorBase",standalone:!1})],FocusgroupAccessorBase)}}]);