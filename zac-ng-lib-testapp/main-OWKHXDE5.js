import{$ as te,$a as to,$b as rt,$c as hm,A as yn,Aa as fs,Ab as zs,Ac as rm,B as Xl,Ba as ga,Bb as As,Bc as am,C as Yl,Ca as gs,Cb as Fs,Cc as lm,D as Wi,Da as hs,Db as Rs,Dc as Un,E as Ei,Ea as Es,Eb as qs,Ec as sm,F as qt,Fa as _s,Fb as On,Fc as mm,G as $l,Ga as Cs,Gb as Ln,Gc as Ht,H as es,Ha as Ss,Hb as so,Hc as we,I as Vt,Ia as Ji,Ib as mo,Ic as ht,J as vt,Ja as Ki,Jb as Vs,Jc as cm,K as ts,Ka as zn,Kb as Os,Kc as Dt,L as Dn,La as Xi,Lb as co,Lc as Qe,M as Ot,Ma as Ne,Mb as Ls,Mc as um,N as ns,Na as it,Nb as Bs,Nc as pm,O as is,Oa as fe,Ob as ks,Oc as _a,P as wn,Pa as An,Pb as Gs,Pc as Ci,Q as q,Qa as Yi,Qb as ha,Qc as at,R as Ee,Ra as $i,Rb as Ea,Rc as nn,S as w,Sa as k,Sb as uo,Sc as Si,T as z,Ta as eo,Tb as po,Tc as dm,U as le,Ua as st,Ub as js,Uc as bo,V as O,Va as _i,Vb as Ws,Vc as vo,W as me,Wa as ue,Wb as Gt,Wc as xo,X as Hi,Xa as bs,Xb as Hs,Xc as fm,Y as V,Ya as Ge,Yb as Us,Yc as gm,Z as R,Za as mt,Zb as Zs,Zc as ct,_ as Lt,_a as L,_b as Qs,_c as Ut,a as Li,aa as Bt,ab as vs,ac as Js,ad as Em,b as Ol,ba as os,bb as Fn,bc as ce,bd as _m,c as Bi,ca as _e,cb as xs,cc as Ks,cd as Cm,d as U,da as Mn,db as ys,dc as Xs,e as he,ea as In,eb as Ds,ec as Bn,f as Ll,fa as Nn,fb as ws,fc as jt,g as Bl,ga as Ui,gb as Rn,gc as Ys,h as kl,ha as Zi,hb as qn,hc as Wt,i as Gl,ia as H,ib as Ms,ic as $s,j as xn,ja as Tn,jb as no,jc as em,k as At,ka as Pn,kb as io,kc as tm,l as jl,la as Qi,lb as yt,lc as kn,m as Wl,ma as kt,mb as Is,mc as Gn,n as Hl,na as P,nb as qe,nc as jn,o as Ul,oa as ne,ob as ot,oc as Wn,p as ki,pa as xt,pb as oo,pc as Hn,q as Zl,qa as fa,qb as Oe,qc as fo,r as Ft,ra as rs,rb as Ns,rc as go,s as Gi,sa as as,sb as Ts,sc as ho,t as Ql,ta as ls,tb as oe,tc as Eo,u as ji,ua as ss,ub as Vn,uc as _o,v as Re,va as ms,vb as ro,vc as nm,w as da,wa as cs,wb as ao,wc as im,x as Rt,xa as us,xb as lo,xc as Co,y as Jl,ya as ps,yb as Le,yc as So,z as Kl,za as ds,zb as Ps,zc as om}from"./chunk-XARKB63V.js";import{a as A,b as Zt,c as Sm}from"./chunk-62VNOMAI.js";import{$b as Ie,$c as ql,Aa as fn,Ab as bl,B as ml,Ba as ke,Bb as x,C as zi,Ca as _t,D as Ai,Db as h,Ea as Se,Eb as g,Ec as vn,Fc as Il,G as pi,Gc as St,Hb as Ct,Hc as W,J as cl,K as un,Ka as El,Kb as Y,La as Nt,Lb as $,Lc as zt,M as ma,Mb as ee,Mc as ge,Nb as tn,Nc as N,Ob as _n,Pb as M,Pc as Oi,Qb as e,Ra as m,Rb as De,Rc as Nl,Sa as _l,Sb as D,Sc as Tl,T as ca,Ta as ua,Tb as Xe,Tc as Pl,U as ul,Ub as vl,Uc as zl,V as $e,Va as y,Vb as S,W as et,Wb as b,Wc as Al,Xa as Cl,Xb as v,Ya as en,Yb as qi,Yc as bt,Z as se,Za as ft,Zb as xl,Zc as Fl,_ as pn,_b as Vi,_c as Rl,a as mn,aa as $t,ab as E,ac as G,ad as Vl,bb as gn,bc as be,c as Yt,ca as Be,cb as di,cc as nt,da as B,dc as Cn,eb as tt,ec as pa,f as de,fb as _,fc as gi,g as cn,ga as pl,gc as yl,hc as K,i as ol,ic as X,jc as Dl,k as rl,ka as Fi,kc as Sn,l as al,la as dl,lb as Ze,m as ll,ma as fl,mb as u,n as Et,na as d,nc as wl,oa as f,ob as fi,oc as Fe,pa as gl,pb as Sl,qa as hl,qc as bn,r as sl,ra as dn,rc as Pt,sb as Ae,t as We,ta as It,tb as hn,tc as gt,ub as En,uc as Ml,vb as n,wb as t,xa as Ue,xb as p,xc as hi,ya as Ri,yb as Q,zb as J}from"./chunk-U63Q73KB.js";import{a as dt,c as ye,f as Ce}from"./chunk-ISTSDNHA.js";var bm={production:!1};var Rc=(l,r)=>r[0];function qc(l,r){if(l&1&&(n(0,"li")(1,"a",2),e(2),t()()),l&2){let i=r.$implicit,o=g(2);m(),Ct("routerLink",i[1]),Ze("data-menu",o.menuGeneral),m(),De(i[0])}}function Vc(l,r){if(l&1&&(n(0,"ul",1),hn(1,qc,3,3,"li",null,Rc),t()),l&2){let i=g();m(),En(i.submenu[i.menuGeneral])}}var Zn=class l{constructor(r){this.router=r}choiceList=[["demarrage","D\xE9marrage"],["a11y","Accessibilit\xE9"],["errors","Gestion des erreurs"],["form","Contr\xF4le & formulaire"],["navigation","Navigation, Page & Th\xE8me"],["composant","Autres composants"],["service","Autres services"],["form++","Reactive forms \xE9tendues"],["generation","G\xE9n\xE9ration de formulaire"]];submenu={demarrage:[["Installation","/installation"],["Configuration","/configuration"]],a11y:[["G\xE9n\xE9ralit\xE9 sur l'accessibilit\xE9","/a11y"],["Accessibilit\xE9 des changements de page","/a11y-page-transition"],["Labelliser","/demo-labelliser"],["Autofocus","/demo-autofocus"],["FormField","/demo-form-field"]],errors:[["Gestion des erreurs de formulaires (composant)","/demo-error"],["Gestion des erreurs de formulaires (directive)","/demo-display-error-directive"],["Gestion des erreurs http","/demo-technical-error"]],form:[["FormField","/demo-form-field"],["SingleChoice","/demo-single-choice"],["BooleanChoice","/demo-boolean-choice"],["MultiChoice","/demo-multi-choice"],["Autocomplete","/demo-autocomplete"],["Select","/demo-select"],["API Gouv","/demo-api-gouv"],["Date","/demo-date"],["Date3","/demo-date3"],["NirValidators","/demo-nir-validators"],["NirDirective","/demo-nir-directive"],["Formatage nir/siret","/demo-formatter"],["Number","/demo-number"],["Textarea avec compteur","/demo-textarea"],["Formulaire \xE0 onglets","/demo-form-tab"]],navigation:[["Th\xE8me & ic\xF4nes","/demo-theme-icon"],["Engagement sur l'honneur","/demo-engagement-honneur"],["Modale","/demo-modal"],["Step bar","/demo-step-bar"],["Navigation","/demo-navigation"],["Onglets","/demo-tab"],["Formulaire \xE0 onglets","/demo-form-tab"]],composant:[["Boutons","/demo-button"],["Control Bar","/demo-control-bar"],["Accord\xE9on","/demo-accordion"],["Know More","/demo-know-more"],["Card","/demo-card"],["Stepper horizontal","/demo-horizontal-stepper"],["Stepper vertical","/demo-vertical-stepper"],["Tableau","/demo-table"],["Tableau avec DataSource http api spring Page","/demo-data-source"],["Autofocus","/demo-autofocus"],["Notification banner","/demo-notification-banner"]],service:[["Store g\xE9n\xE9rique","/demo-store"],["File Loader","/demo-file-loader"],["API interceptor (NSA)","/demo-api-interceptor"],["Accord du genre & nombre","/demo-accord"]],"form++":[["Reactive Form Extended (aide)","/demo-xreactive-form"]],generation:[["IHM de G\xE9n\xE9ration de formulaire","/ui-generator"],["Composant de g\xE9n\xE9ration de formulaire","/demo-form-generator"],["G\xE9n\xE9ration par machine \xE0 \xE9tat","/demo-state-machine"]]};initPage=!1;menuGeneral;document=B(hi);cdr=B(Fe);ngOnInit(){this.router.events.pipe(Ai(r=>r instanceof Li),We(r=>r),et(r=>{console.log("page ",r.url),this.initPage=!0}),un(10),et(r=>{for(let i in this.submenu)if(this.submenu[i].findIndex(o=>o[1]===r.url)>=0){this.menuGeneral=i;break}this.cdr.detectChanges()})).subscribe()}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-menu"]],decls:2,vars:3,consts:[["id","menuGeneral","name","menuGeneral","autoConnect","false",1,"choice_button","--alignement_horizontal",3,"ngModelChange","choiceList","ngModel"],["id","sousMenu"],[3,"routerLink"]],template:function(i,o){i&1&&(n(0,"zac-single-choice",0),v("ngModelChange",function(s){return b(o.menuGeneral,s)||(o.menuGeneral=s),s}),t(),_(1,Vc,3,0,"ul",1)),i&2&&(u("choiceList",o.choiceList),S("ngModel",o.menuGeneral),m(),Ae(o.menuGeneral?1:-1))},dependencies:[Le,P,w,V,he],styles:[`app-menu{display:flex;flex-direction:column}app-menu ul{margin:0 0 1rem;border-radius:var(--dt-card-border-radius, 4px);background-color:#d3d3d3}app-menu ul li{display:inline-block;vertical-align:middle;margin:.5em}app-menu ul li a+span{display:none}app-menu .choice_button ul li{margin-right:0;margin-bottom:0;margin-top:0;padding-right:.5rem}app-menu .choice_button ul li input[type=radio]+label,app-menu .choice_button ul li input[type=radio]:checked+label{font-size:smaller;margin-right:.25rem;padding-right:.5rem}
`],encapsulation:2})};function Oc(l,r){if(l&1){let i=x();n(0,"div",1)(1,"select",2),v("ngModelChange",function(a){d(i);let s=g();return b(s.value,a)||(s.value=a),f(a)}),h("ngModelChange",function(a){d(i);let s=g();return f(s.onChange(a))}),n(2,"option",3),e(3,"Extranet"),t(),n(4,"option",3),e(5,"Intranet"),t(),n(6,"option",3),e(7,"th\xE8me brut (interne pour test auto)"),t()()()}if(l&2){let i=g();m(),S("ngModel",i.value),m(),u("value",i.extranet),m(2),u("value",i.intranet),m(2),u("value",i.neutral)}}var Qn=class l{constructor(r,i){this.themeService=r;this.styleService=i;this.styleService.injectIntranetFont()}intranet="intranet";extranet="extranet";dsfr="dsfr";neutral="neutral";value;unsub$=new de;ngOnInit(){this.value=this.themeService.theme,this.themeService.$themeChange.pipe($e(this.unsub$)).subscribe(r=>{this.value=r})}ngOnDestroy(){this.unsub$.next()}onChange(r){return Ce(this,null,function*(){this.styleService.changeLocation(r).then(()=>this.styleService.changeDS(r))})}static \u0275fac=function(i){return new(i||l)(y(Dn),y(Ne))};static \u0275cmp=E({type:l,selectors:[["app-select-style"]],decls:1,vars:1,consts:[["class","input_select",4,"ngIf"],[1,"input_select"],["id","select-theme",3,"ngModelChange","ngModel"],[3,"value"]],template:function(i,o){i&1&&_(0,Oc,8,4,"div",0),i&2&&u("ngIf",o.value)},dependencies:[N,W,P,In,Nn,Mn,w,V],styles:[`.input_select select{line-height:1rem}
`],encapsulation:2})};var yo=class l{constructor(){}injectFont(){console.log("gcmext inject google font"),this.createLinkElement("preconnect","https://fonts.gstatic.com"),this.createLinkElement("stylesheet","https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap"),this.createLinkElement("stylesheet","https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap")}createLinkElement(r,i){let o=document.createElement("link");return o.setAttribute("href",i),o.setAttribute("rel",r),document.head.appendChild(o),o}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function Bc(l,r){l&1&&(n(0,"section",3),p(1,"img",4),n(2,"h1",5),e(3," Bienvenue sur la d\xE9mo de la librairie zac-ng-lib"),t()())}function kc(l,r){l&1&&(n(0,"nav",6)(1,"div",7)(2,"label",8),e(3,"Theme :"),t(),p(4,"app-select-style"),t(),p(5,"app-menu"),t())}var Do=class l{constructor(r,i,o,a){this.selectStyle=r;this.integrationFont=i;this.router=o;this.route=a;this.router.events.pipe(Ai(s=>s instanceof Li),et(()=>{let s=this.route.firstChild;for(;s?.firstChild;)s=s.firstChild;let c=s?.snapshot.data;console.log("Route data:",c),this.$showDemoHeader.set(c?.showDemoHeader!=!1)})).subscribe()}$showDemoHeader=Se(!0);title="zac-ng-lib";ngOnInit(){this.integrationFont.injectFont()}getStyle(){return this.selectStyle.url}getDeepestChild(r){for(;r.firstChild;)r=r.firstChild;return r}static \u0275fac=function(i){return new(i||l)(y(Ne),y(yo),y(U),y(Ol))};static \u0275cmp=E({type:l,selectors:[["app-root"]],decls:6,vars:2,consts:[[1,"main-container"],["class","demo-section main-title",4,"ngIf"],["id","nav",4,"ngIf"],[1,"demo-section","main-title"],["width","50","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==",1,"angular-icon"],[1,"demo-title-section"],["id","nav"],[1,"select-wrapper"],["for","select-theme"]],template:function(i,o){i&1&&(p(0,"zac-modal"),n(1,"main",0)(2,"header"),_(3,Bc,4,0,"section",1)(4,kc,6,0,"nav",2),t(),p(5,"router-outlet"),t()),i&2&&(m(3),u("ngIf",o.$showDemoHeader()),m(),u("ngIf",o.$showDemoHeader()))},dependencies:[Qn,Zn,Bi,Hs,W],styles:[`.angular-icon{margin:0 1em;vertical-align:top;display:inline-block}.demo-title-section{display:inline-block}.demo-section.main-title{display:flex;align-items:center}.demo-section.main-title h1{margin-bottom:0}.select-wrapper{display:flex;flex-direction:row;align-items:baseline;margin:10px}.select-wrapper label{margin-right:1rem}
`],encapsulation:2})};var wo=class l{constructor(r){this.cdr=r}get nom(){return this._nom&&(this.cdr.detach(),console.log("get nom ",this._nom),this.counter++,console.log("get nom counter",this.counter),setTimeout(()=>this.cdr.reattach())),this._nom}set nom(r){console.log("set nom ",r),this._nom=r}counter=0;_nom;onChange(r){this.nom=r.target&&r.target.value}static \u0275fac=function(i){return new(i||l)(y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-accueil"]],decls:6,vars:0,consts:[[1,"accueil"]],template:function(i,o){i&1&&(n(0,"h1"),e(1,"Bonjour,"),t(),n(2,"h2"),e(3,"Choisissez votre page de d\xE9mo :"),t(),e(4,`.
`),p(5,"app-menu",0))},dependencies:[Zn],styles:[`.accueil ul li{display:list-item;vertical-align:middle;margin:.5em;font-size:large}.accueil ul li a{display:inline-block;min-width:10em}.accueil ul li a+span{display:inline}
`],encapsulation:2})};var Mo=class l{static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-installation"]],decls:85,vars:0,consts:[["xmlns","http://www.w3.org/1999/html"],["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],[2,"text-decoration","underline"],["href","https://angular.io/guide/versions","target","_blank"],[1,"code"],["target","_blank","href","https://design-system.glpages.agora.msanet/zac-scss-orion/?path=/docs/installation-installation-commune--documentation"],["target","_blank","href","https://design-system.glpages.agora.msanet/zac-charte-extranet/?path=/docs/installation-installation-angular--documentation"]],template:function(i,o){i&1&&(n(0,"main",0)(1,"h1",1),e(2," Installation de l'\xE9cosyst\xE8me zac (angular 18+) "),t(),n(3,"div")(4,"section",2)(5,"p")(6,"b"),e(7,"ZAC"),t(),e(8," est un "),n(9,"em",3),e(10,"\xE9cosyst\xE8me"),t(),e(11," de librairies qui, \xE0 l'oppos\xE9 du Design System Angular Material, d\xE9couple la forme (le th\xE8me) du fonds (les composants). "),t(),n(12,"ul")(13,"li"),e(14," zac-ng-lib est la librairie de composants angular "),n(15,"b"),e(16,"a"),t(),e(17,"-th\xE9matique, ind\xE9pendante d'un th\xE8me "),t(),n(18,"li"),e(19," zac-charte-extranet et @zac/orion-scss sont les librairies css portant les th\xE8mes iMSA, ind\xE9pendante de tout framework web "),t()(),p(20,"br"),n(21,"article")(22,"h2"),e(23,"Pr\xE9 requis"),t(),n(24,"p"),e(25,"Installation de l'environnement de build (nodejs)"),t(),n(26,"p"),e(27," Attention a bien respecter la "),n(28,"a",4),e(29,"matrice de compatibilit\xE9 angular/node"),t()(),n(30,"p"),e(31," Attention a bien configurer npm de fa\xE7on a acc\xE9der a artefactory, par exemple avec le contenu du fichier .npmrc suivant dans le projet "),t(),n(32,"pre",5)(33,"code"),e(34,`
registry=http://artefact.ul.agora.msanet/artifactory/api/npm/msa-npm-prod-virtual
sass_binary_site=http://artefact.ul.agora.msanet/artifactory/nodesass-generic-remote/
        `),t()()(),n(35,"article")(36,"h2"),e(37,"Cr\xE9ation du projet angular"),t(),n(38,"p"),e(39,"Sous un shell de commande :"),t(),n(40,"pre",5)(41,"code"),e(42,`
npm install -g @angular/cli
ng n mon-application-angular
npm install @angular/cdk`),t(),e(43,`
        `),t(),n(44,"p"),e(45,"Attention a bien installer le cdk"),t()(),n(46,"article")(47,"h2"),e(48,"Installation de zac-ng-lib et de ses d\xE9pendances"),t(),n(49,"p"),e(50,"Dans le fichier package.json :"),t(),n(51,"pre",5),e(52,"        "),n(53,"code"),e(54,`
package.json {
          .../...
          "@fortawesome/angular-fontawesome": "0.10.2",
          "@fortawesome/fontawesome-svg-core": "6.5.0",
          "@fortawesome/pro-light-svg-icons": "6.5.0",
          "@fortawesome/pro-regular-svg-icons": "6.5.0",
          "zac-charte-sass": "[version]",
          "zac-ng-lib": "[version]",
          .../...
}`),t(),e(55,`
        `),t(),n(56,"p"),e(57,"Jouer ensuite "),n(58,"code"),e(59,"npm i"),t()()(),n(60,"article")(61,"h3"),e(62,"Installation des librairies de css"),t(),n(63,"p"),e(64," Plus de pr\xE9cisions sur l'installation, les versions et l'usage des librairies th\xE9matique (css) par Design System : "),t(),n(65,"ul")(66,"li")(67,"a",6),e(68,"Intranet"),t()(),n(69,"li")(70,"a",7),e(71,"Extranet"),t()()()(),n(72,"article")(73,"h3"),e(74,"Importation du th\xE8me (ou DesignSystem) au niveau angular"),t(),n(75,"p"),e(76,`Les ic\xF4nes utilis\xE9es par les DS sont les seules "d\xE9corations" qui ne soient pas port\xE9es par les css : pour des raisons historiques il s'agit d'ic\xF4nes fontawesome import\xE9es individuellement et statiquement sous forme de composant angular, ce qui permet d'en minimiser le payload.`),t(),n(77,"p"),e(78,"Les composants angular \xE9tant ath\xE9matique par essence il est n\xE9cessaire de pr\xE9ciser le th\xE8me a utiliser dans l'application, en important "),n(79,"code"),e(80,"ZacThemeModule.forIntranet()"),t(),e(81," ou "),n(82,"code"),e(83,"ZacThemeModule.forExtranet()"),t()(),e(84," au niveau du composant ou Ngmodule racine de votre application. "),t()()()())},dependencies:[N,lm,no,fe],encapsulation:2})};var Io=class l{refresh(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-accord"]],decls:67,vars:5,consts:[["text","ngModel"],["nombre","ngModel"],["genre","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoAccordComponent.html#template"],["label","Texte : string"],["id","text","name","text","ngModel","Vo#n{tre|s|} #ng{gar\xE7on|fille|enfant|gar\xE7ons|filles|enfants} #n{est|sont|} vraiment tr\xE8s #ng{beau|belle|beau|beaux|belles|beaux}",3,"change"],["label","Nombre : number"],["id","nombre","name","nombre","ngModel","1",3,"change"],["label","Genre : 'H'|'M'|'male' | 'F'|'female'  | ''"],["id","genre","name","genre","ngModel","H",3,"change"]],template:function(i,o){if(i&1){let a=x();n(0,"main")(1,"h1",3),e(2,"D\xE9mo d'usage du pipe/service d'accord grammatical"),t(),n(3,"div",4)(4,"section",5)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",6)(8,"p"),e(9,"La transformation du texte saisi ci-dessus, avec les param\xE8tres Genre et Nombre donn\xE9s :"),t(),n(10,"p")(11,"q")(12,"b")(13,"i"),e(14),K(15,"accord"),t()()()()()(),p(16,"br"),n(17,"section",5)(18,"h2"),e(19,"Pr\xE9sentation"),t(),n(20,"section")(21,"p"),e(22,"Le pipe "),n(23,"code"),e(24,"accord"),t(),e(25," et le service "),n(26,"code"),e(27,"AccordService"),t(),e(28," permettent de transformer une cha\xEEne donn\xE9e, comportant des placeholders avec un format sp\xE9cifique, selon les param\xE8tres Nombre et/ou Genre. "),t(),n(29,"p"),e(30,"Les param\xE8tres Genre et Nombre peuvent se passer de 2 fa\xE7ons"),t(),n(31,"ul")(32,"li"),e(33,"Soit directement dans le pipe, par exemple : "),n(34,"code"),e(35,"textAAccorder|accord:F:2"),t()(),n(36,"li"),e(37,"Soit en providant une impl\xE9mentation sp\xE9cifique de ContexteAccordService dans la hi\xE9rarchie d'injecteur"),t()(),n(38,"p")(39,"b"),e(40,"Remarque : "),t(),e(41,"Les principes structurants extranet pr\xE9cisent qu'il est pr\xE9f\xE9rable de rester neutre qd on genre, cette possibilit\xE9 est pour d'autres contexte (PNDS...)"),t(),p(42,"br"),n(43,"h2"),e(44,"Usage"),t(),n(45,"zac-form-field",7)(46,"zac-textarea",8,0),h("change",function(){return d(a),f(o.refresh())}),t()(),n(48,"p"),e(49,"Le texte doit ob\xE9ir au format suivant"),t(),n(50,"ul")(51,"li"),e(52,"si seul le Genre est n\xE9cessaire : `#g{texteMasculin|texteFeminin|texteInd\xE9fini}`"),t(),n(53,"li"),e(54,"si seul le Nombre est n\xE9cessaire: `#n{texteSingulier|textePluriel|}` (Attention dernier | obligatoire)"),t(),n(55,"li"),e(56,"si Genre et Nombre n\xE9cessaires : `#ng{texteMasculinSingulier|texteFemininSingulier|texteInd\xE9finiSingulier |texteMasculinPluriel|texteFemininPluriel|texteIndefiniPluriel}`"),t()(),n(57,"zac-form-field",9)(58,"input",10,1),h("change",function(){return d(a),f(o.refresh())}),t()(),n(60,"p"),e(61,"Le nombre"),t(),n(62,"zac-form-field",11)(63,"input",12,2),h("change",function(){return d(a),f(o.refresh())}),t()(),n(65,"p"),e(66,"Le genre"),t()()()()()}if(i&2){let a=M(47),s=M(59),c=M(64);m(14),De(Dl(15,1,a.value,s.value,c.value))}},dependencies:[N,P,q,w,V,A,dm,L,Ht],styles:["#text[_ngcontent-%COMP%]{width:80%}q[_ngcontent-%COMP%]{font-size:x-large}"]})};function jc(l,r){l&1&&(n(0,"span")(1,"b"),e(2,"C'est un fameux trois-m\xE2ts..."),t()())}function Wc(l,r){l&1&&(n(0,"div")(1,"p"),e(2,"C'est un fameux trois-m\xE2ts, fin comme un oiseau"),t(),n(3,"p"),e(4,"(Hissez haut! Santiano!)"),t(),n(5,"p"),e(6,"Dix-huit n\u0153uds, quatre cents tonneaux"),t(),n(7,"p"),e(8,"Je suis fier d'y \xEAtre matelot"),t()())}function Hc(l,r){l&1&&(n(0,"span"),e(1,"Tiens bon la vague..."),n(2,"i"),e(3,"Refrain"),t()())}function Uc(l,r){l&1&&(n(0,"div")(1,"p"),e(2,"Tiens bon la vague et tiens bon le vent"),t(),n(3,"p"),e(4,"Hissez haut! Santiano!"),t(),n(5,"p"),e(6,"Si Dieu veut, toujours droit devant"),t(),n(7,"p"),e(8,"(Nous irons jusqu'\xE0 San Francisco)"),t()())}function Zc(l,r){l&1&&(n(0,"span"),e(1,"Je pars pour de longs mois..."),t())}function Qc(l,r){l&1&&(n(0,"div")(1,"p"),e(2,"Je pars pour de longs mois en laissant Margot"),t(),n(3,"p"),e(4,"(Hissez haut! Santiano!)"),t(),n(5,"p"),e(6,"D'y penser, j'avais le c\u0153ur gros"),t(),n(7,"p"),e(8,"(En doublant les feux de Saint Malo)"),t()())}function Jc(l,r){l&1&&(n(0,"span"),e(1,"Exemple avec champs de formulaire 1 (gestion des erreurs)"),t())}function Kc(l,r){if(l&1){let i=x();n(0,"div")(1,"zac-form-field",19)(2,"input",20),v("ngModelChange",function(a){d(i);let s=g();return b(s.champ1,a)||(s.champ1=a),f(a)}),t()()()}if(l&2){let i=g();m(2),S("ngModel",i.champ1)}}function Xc(l,r){l&1&&(n(0,"span"),e(1,"Exemple avec champs de formulaire 2 (gestion des erreurs)"),t())}function Yc(l,r){if(l&1){let i=x();n(0,"div")(1,"zac-form-field",21)(2,"input",22),v("ngModelChange",function(a){d(i);let s=g();return b(s.champ2,a)||(s.champ2=a),f(a)}),t()()()}if(l&2){let i=g();m(2),S("ngModel",i.champ2)}}var Jn=class l{champ1;champ2;onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-accordeon"]],decls:89,vars:3,consts:[["style","ngModel"],["activeItemIndex","ngModel"],["multi","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoAccordionComponent.html#template"],["zacErrors","",3,"ngSubmit"],["openOnFormError","true",3,"iconStyle","activeItemIndex","multi"],[4,"zacHeader"],[4,"zacContent"],["type","submit"],["label","Style : 'chevron' | 'sign'"],["id","style","name","style","ngModel","sign"],["label","activeItemIndex : number"],["id","activeItemIndex","name","activeItemIndex","ngModel",""],["label","multi : boolean"],["id","multi","name","multi","ngModel","false"],[1,"title-subsection"],["label","Champ 1"],["required","","name","champ1",3,"ngModelChange","ngModel"],["label","Champ 2"],["required","","name","champ2",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let a=x();n(0,"main")(1,"h1",3),e(2,"D\xE9mo d'usage du composant Accordion"),t(),n(3,"div",4)(4,"section",5)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",6)(8,"form",7),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-accordion",8)(10,"zacAccordionItem"),_(11,jc,3,0,"span",9)(12,Wc,9,0,"div",10),t(),n(13,"zacAccordionItem"),_(14,Hc,4,0,"span",9)(15,Uc,9,0,"div",10),t(),n(16,"zacAccordionItem"),_(17,Zc,2,0,"span",9)(18,Qc,9,0,"div",10),t(),n(19,"zacAccordionItem"),_(20,Jc,2,0,"span",9)(21,Kc,3,1,"div",10),t(),n(22,"zacAccordionItem"),_(23,Xc,2,0,"span",9)(24,Yc,3,1,"div",10),t()(),n(25,"button",11),e(26,"Envoyer"),t()()()(),p(27,"br"),n(28,"section",5)(29,"h2"),e(30,"Usage"),t(),n(31,"section")(32,"zac-form-field",12),p(33,"input",13,0),n(35,"p"),e(36," Le choix du style s'effectue via le param\xE8tre "),n(37,"code"),e(38,"style"),t(),e(39," du composant. "),t()(),n(40,"zac-form-field",14),p(41,"input",15,1),n(43,"p"),e(44,"D\xE9termine, si renseign\xE9, quel item ouvrir d\xE8s affichage"),t()(),n(45,"zac-form-field",16),p(46,"input",17,2),n(48,"p"),e(49," true pour ouvrir plusieurs \xE9l\xE9ments en m\xEAme temps, faux par d\xE9faut "),t()(),n(50,"p"),e(51,"Autres param\xE8tres :"),t(),n(52,"ul")(53,"li")(54,"b"),e(55,"autoscroll :"),t(),e(56," true (d\xE9faut) permet de scroller vers l'item \xE0 l'ouverture "),t(),n(57,"li")(58,"b"),e(59,"openIcon :"),t(),e(60," permet de passer un ic\xF4ne Fontawesome natif pour l'ic\xF4ne d'ouverture "),t(),n(61,"li")(62,"b"),e(63,"closeIcon :"),t(),e(64," permet de passer un ic\xF4ne Fontawesome natif pour l'ic\xF4ne de fermeture "),t(),n(65,"li")(66,"b"),e(67,"openOnFormError :"),t(),e(68," permet d'ouvrir l'accordeon si un champ de formulaire au sein du composantest en erreur, false par defaut. "),p(69,"br"),e(70,"N\xE9cessite que le composant soit imbriqu\xE9 dans un form avec un zacErrors. "),t()(),p(71,"p"),n(72,"div")(73,"zac-label",18),e(74,"Code :"),t(),n(75,"code")(76,"pre"),e(77,`                <zac-accordion iconStyle="chevron">
                  <zacAccordionItem>
                    <span *zacHeader><b>C'est un fameux trois-m\xE2ts...</b></span>
                    <div *zacContent>
                      <p>C'est un fameux trois-m\xE2ts, fin comme un oiseau</p>
              `),t()()(),n(78,"p"),e(79," Les sections sont pass\xE9es dans le body au sein de plusieurs "),n(80,"code"),e(81,"zacAccordionItem"),t(),e(82," contenant du contenu d\xE9fini avec un "),n(83,"code"),e(84,"<span *zacHeader>"),t(),e(85," et un "),n(86,"code"),e(87,"<div *zacContent>"),t(),e(88,": "),t()()()()()}if(i&2){let a=M(34),s=M(42),c=M(47);m(9),u("iconStyle",a.value)("activeItemIndex",s.value)("multi",c.value)}},dependencies:[N,P,R,q,w,z,H,V,O,A,L,Zs,Us,Ft,Ql,ue,k],styles:[`code{color:#8b0000;margin:1px;padding:1px}code pre{color:#d3d3d3;background-color:#2d2d2d;border:none}
`],encapsulation:2,changeDetection:0})};var on=class on{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new on);id=void 0;constructor(r){r&&Object.assign(this,r)}prenom=void 0;nom=void 0;nomJeuneFille=void 0;email=void 0;telephone=void 0;nombreEnfant=void 0;nir=void 0;sexe=void 0;dateDate=void 0;coordonneesConnues=!1;adresse=void 0;commune=void 0;taille=void 0;isRegimeAlsaceMoselle=void 0;famille;_naissance={};get naissance(){return this._naissance||(this._naissance={}),this._naissance}set naissance(r){this._naissance=r}toString(){return`${this.nom??"inconnu"} ${this.prenom??""}`}};ye([we({label:"Pr\xE9nom"})],on.prototype,"prenom",2),ye([we({label:"Nom",validators:["required"]})],on.prototype,"nom",2),ye([we({label:"Nom de jeune fille"})],on.prototype,"nomJeuneFille",2),ye([we({label:"Coordonn\xE9es connues",nature:1})],on.prototype,"coordonneesConnues",2);var ie=on,bi=class l{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new l);nomNaissance=void 0;dateNaissance=void 0;heureNaissance=void 0;departementNaissance=void 0;communeNaissance=void 0;codePostalNaissance=void 0};var $c=()=>["1","Un"],eu=()=>["2","Deux"],tu=()=>["3","trois"],nu=(l,r,i)=>[l,r,i],Kn=class l{personne;personneSaisie=new Ue;bidon;ngForm;constructor(){}ngOnInit(){this.personne||(this.personne=new ie)}onSubmit(){this.ngForm?.valid&&this.personneSaisie.emit(this.personne)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-saisie-personne"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},inputs:{personne:"personne"},outputs:{personneSaisie:"personneSaisie"},decls:14,vars:11,consts:[[1,"title-subsection"],["zacErrors","",3,"ngSubmit"],["label","Pr\xE9nom"],["type","text","id","prenom","name","prenom","zacAutofocus","","required","",3,"ngModelChange","ngModel"],["label","bidon"],["name","bidon","required","",3,"ngModelChange","ngModel","choiceList"],["label","Nom"],["id","nom","name","nom",3,"ngModelChange","ngModel"],["type","submit",1,"button","--button_primary"]],template:function(i,o){i&1&&(n(0,"h2",0),e(1,"Formulaire de saisie d'une personne"),t(),n(2,"section")(3,"p"),e(4,"Merci de bien vouloir renseigner toutes les informations utiles :"),t(),n(5,"form",1),h("ngSubmit",function(){return o.onSubmit()}),n(6,"zac-form-field",2)(7,"input",3),v("ngModelChange",function(s){return b(o.personne.prenom,s)||(o.personne.prenom=s),s}),t()(),n(8,"zac-form-field",4)(9,"zac-select",5),v("ngModelChange",function(s){return b(o.bidon,s)||(o.bidon=s),s}),t()(),n(10,"zac-form-field",6)(11,"input",7),v("ngModelChange",function(s){return b(o.personne.nom,s)||(o.personne.nom=s),s}),t()(),n(12,"button",8),e(13,"Valider"),t()()()),i&2&&(m(7),S("ngModel",o.personne.prenom),m(2),S("ngModel",o.bidon),u("choiceList",Cn(7,nu,G(4,$c),G(5,eu),G(6,tu))),m(2),S("ngModel",o.personne.nom))},dependencies:[P,R,q,w,z,H,V,O,L,ot,k,fe],encapsulation:2})};var ae=class l{static \u0275fac=function(i){return new(i||l)};static \u0275mod=gn({type:l});static \u0275inj=pn({imports:[N,P,Qn,A,Kn]})};function iu(l,r){if(l&1){let i=x();n(0,"article")(1,"zac-form-field",13)(2,"input",14),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.nom,a)||(s.personne.nom=a),f(a)}),t()(),n(3,"zac-form-field",15)(4,"input",16),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.prenom,a)||(s.personne.prenom=a),f(a)}),t()()()}if(l&2){let i=g();m(2),S("ngModel",i.personne.nom),m(2),S("ngModel",i.personne.prenom)}}var rn=class l extends At{dataType=ie;url="/api2/personne";constructor(r){super(r)}getThrowingError(){return this.get("throwError")}static \u0275fac=function(i){return new(i||l)(Be(bt))};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})},No=class l{constructor(r,i,o){this.personneService=r;this.messageHolder=i;this.cdr=o}personne=new ie;personneSub;ngOnInit(){this.messageHolder.startRedirectingLog()}ngOnDestroy(){this.personneService.clearCache(),this.unsubscribeOnPersonneServiceGetIfSubscribed(),this.personne=void 0,this.messageHolder.stopRedirectingLog()}onClickRead(){this.getPersonne()}onClickClear(){this.personne=new ie,this.personneService.clearCache(),this.messageHolder.message=[],console.log("PersonneService.clearCache")}onClickWrite(){console.log("PersonneService.write of ",this.personne),this.personneService.write(this.personne).subscribe()}onClickError(){console.log("PersonneService.getThrowingError of ",this.personne),this.personneService.getThrowingError().subscribe()}onSubmit(){console.log("PersonneService.postAndWrite of ",this.personne),this.personneService.postAndWrite(this.personne).subscribe()}getPersonne(){this.unsubscribeOnPersonneServiceGetIfSubscribed(),this.subscribeOnPersonneServiceGetIfNot()}subscribeOnPersonneServiceGetIfNot(){this.personneSub||(this.personneSub=this.personneService.read().subscribe(r=>{this.personne=r,this.cdr.markForCheck()}))}unsubscribeOnPersonneServiceGetIfSubscribed(){this.personneSub&&(this.personneSub.unsubscribe(),this.personneSub=void 0)}static \u0275fac=function(i){return new(i||l)(y(rn),y(Zt),y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-demo-store"]],features:[Ie([{provide:Zt,useValue:new Zt(["ApiInterceptorService","ConfigLoaderService","PersonneService","AbstractHttpStore"])}])],decls:148,vars:2,consts:[[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoStoreComponent.html#source"],[3,"ngSubmit"],[4,"ngIf"],[1,"crud"],["type","button",1,"button","--button_primary","tooltip",3,"click"],[1,"tooltip-text","--top"],["type","button",1,"button","--button_tertiary","--button_ghost","--button_color_danger","tooltip",3,"click"],["type","button",1,"button","--button_secondary","tooltip",3,"click"],["type","submit",1,"button","--button_tertiary","tooltip"],["target","_blank","href","https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/async_function"],["label","Nom"],["id","nom","name","nom",3,"ngModelChange","ngModel"],["label","Prenom"],["id","prenom","name","prenom",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2,"D\xE9mo d'usage de AbstractHttpStore"),t(),n(3,"div",1)(4,"section",2)(5,"h2"),e(6,"D\xE9mo"),t(),n(7,"app-source",3),p(8,"br"),n(9,"p"),e(10),t(),p(11,"app-console-panel"),n(12,"form",4),h("ngSubmit",function(){return o.onSubmit()}),_(13,iu,5,2,"article",5),n(14,"nav",6)(15,"button",7),h("click",function(){return o.onClickRead()}),e(16," store.read() "),n(17,"span",8),e(18,"r\xE9cup\xE8re la valeur \xE9mise par la derni\xE8re requ\xEAte"),t()(),n(19,"button",9),h("click",function(){return o.onClickClear()}),e(20," store.clear() "),n(21,"span",8),e(22,"supprime le cache local de la valeur"),t()(),n(23,"button",10),h("click",function(){return o.onClickWrite()}),e(24," store.write() "),n(25,"span",8),e(26,"maj le cache local de la valeur"),t()(),n(27,"button",11),e(28," store.postAndWrite() "),n(29,"span",8),e(30,"poste la valeur et maj le cache local"),t()(),n(31,"button",7),h("click",function(){return o.onClickError()}),e(32," store.getThrowingError() "),n(33,"span",8),e(34,"lance une requ\xEAte qui provoque une erreur (cf Status)"),t()()()()()(),n(35,"section",2)(36,"h2"),e(37,"Intention"),t(),n(38,"p"),e(39,"L'acc\xE8s au backend via httpClient retourne un flux r\xE9actif froid, ce qui signifie que chaque souscription relance un acc\xE8s HTTP."),t(),n(40,"p"),e(41,"Ce service g\xE9n\xE9rique factorise dans la m\xE9thode "),n(42,"code")(43,"b"),e(44,"listen"),t()(),e(45," la mise en cache local de la r\xE9ponse (de type g\xE9n\xE9rique T) a une requ\xEAte Http au sein d'un flux r\xE9actif chaud & partag\xE9, \xE9mis par un BehaviorSubject, r\xE9 \xE9mettant ("),n(46,"b"),e(47,"une copie de"),t(),e(48,") la r\xE9ponse initiale jusqu'a l'appel a la m\xE9thode clearCache qui provoquera un nouvel acc\xE8s lors de la souscription suivante. "),t(),n(49,"p")(50,"b"),e(51,"Attention : "),t(),e(52,"Toutes les m\xE9thodes retournent un flux froid mono event, comme celles de HttpClient, "),n(53,"b"),e(54,"\xE0 l'exception donc de "),n(55,"code"),e(56,"listen()"),t()(),e(57," qui retourne un flux chaud, non termin\xE9, il est donc important de s'assurer que toute souscription \xE0 "),n(58,"code"),e(59,"listen"),t(),e(60," est ferm\xE9e lorsqu'un composant est destroyed."),t(),n(61,"p"),e(62,"Ce service offre donc les m\xE9thodes suivantes "),t(),n(63,"ul")(64,"li"),e(65,"La m\xE9thode "),n(66,"code")(67,"b"),e(68,"read"),t()(),e(69," permet de r\xE9cup\xE9rer la derni\xE8re valeur de T, \xE9ventuellement en provoquant la requ\xEAte HTTP pour r\xE9cup\xE9rer cette valeur et la cacher en local si elle n'existe pas encore en local, sous forme de flux froid mono, comme "),n(70,"code"),e(71,"HttpClient.get"),t(),e(72,". "),t(),n(73,"li"),e(74,"La m\xE9thode "),n(75,"code")(76,"b"),e(77,"get"),t()(),e(78," fait juste un "),n(79,"code"),e(80,"HttpClient.get"),t(),e(81," en ignorant compl\xE8tement le m\xE9canisme de store et de cache. "),t(),n(82,"li"),e(83,"La m\xE9thode "),n(84,"code")(85,"b"),e(86,"listen"),t()(),e(87," fait donc la m\xEAme chose que la m\xE9thode "),n(88,"code"),e(89,"read"),t(),e(90," ci-dessus mais sous forme de "),n(91,"b"),e(92,"flux chaud multi event"),t(),e(93," en \xE9mettant tjs la derni\xE8re valeur r\xE9cup\xE9r\xE9e (BehaviorSubject). "),t(),n(94,"li"),e(95,"La m\xE9thode "),n(96,"code")(97,"b"),e(98,"getPromise"),t()(),e(99," fait la m\xEAme chose que la m\xE9thode "),n(100,"code"),e(101,"read"),t(),e(102," ci-dessus mais retourne une "),n(103,"code"),e(104,"Promise"),t(),e(105," ce qui permet la syntaxe "),n(106,"b")(107,"a",12),e(108," async/await"),t()(),e(109,". "),t(),n(110,"li"),e(111,"La m\xE9thode "),n(112,"code")(113,"b"),e(114," clearCache"),t()(),e(115," permet de supprimer la valeur locale ce qui provoquera la requ\xEAte http de r\xE9cup\xE9ration de celle-ci lors du prochaine read. "),t(),n(116,"li"),e(117,"La m\xE9thode "),n(118,"code")(119,"b"),e(120,"write"),t()(),e(121," permet de donner une nouvelle valeur locale, sans la poster au serveur, sous forme de flux froid mono."),t(),n(122,"li"),e(123,"La m\xE9thode "),n(124,"code")(125,"b"),e(126,"posteAndWrite"),t()(),e(127," permet de poster la valeur et d'en faire la nelle valeur locale, sous forme de flux froid mono."),t(),n(128,"li"),e(129,"La m\xE9thode "),n(130,"code")(131,"b"),e(132,"resolve"),t()(),e(133," permet de faire d'une sous-classe de cette super classe un resolver"),t()(),p(134,"br"),n(135,"p")(136,"b"),e(137,"A noter que "),t(),e(138," la m\xE9thode "),n(139,"code"),e(140,"protected buildUrl(method: RequestMethodEnum, params: any)"),t(),e(141," permet de customiser si besoin la construction de l'url finale. Par d\xE9faut pour GET on appelle la fonction utilitaire "),n(142,"code"),e(143,"buildUrlWithParams"),t(),e(144," : si params est une suite de param\xE8tres, alors ils seront ajout\xE9s \xE0 l'url en les s\xE9parant par '/', "),n(145,"b"),e(146,"OU exclusif"),t(),e(147," alors c'est un objet dont chaque couple de cl\xE9/valeur sera ajout\xE9 sous forme de query parameter (?key1=value1&key2=value"),t()()()()),i&2&&(m(10),D("Status : ",o.personneService.$status(),""),m(3),u("ngIf",o.personne))},dependencies:[N,W,P,R,q,w,z,V,O,A,Sm,L],styles:[".crud[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}"]})};var Te=class l{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-explication-control-value-accessor"]],decls:49,vars:0,consts:[["href","https://angular.io/api/forms/ControlValueAccessor#description"],["href","https://angular.io/api/forms/FormsModule"],["href","https://angular.io/api/forms/ReactiveFormsModule"]],template:function(i,o){i&1&&(p(0,"br"),n(1,"p")(2,"b"),e(3,"Attention : "),t(),e(4,"Ce composant impl\xE9mente l'interface "),n(5,"a",0),e(6,"ControlValueAccessor"),t(),e(7,` et h\xE9rite de l'impl\xE9mentation de base FocusgroupAccessorBase fournie dans cette librairie ce qui lui permet :
`),t(),n(8,"ul")(9,"li"),e(10,"D'\xEAtre utilis\xE9 comme n'importe quel autre contr\xF4le natif"),t(),n(11,"li"),e(12," En lui adjoignant des directives de validation ("),n(13,"b"),e(14,"required"),t(),e(15,", "),n(16,"b"),e(17,"min"),t(),e(18,", ...) "),t(),n(19,"li"),e(20," En le liant a une propri\xE9t\xE9 d'un mod\xE8le en utilisant indiff\xE9rement les 2 m\xE9thodes angular classiques "),t(),n(21,"ul")(22,"li"),e(23," En utilisant "),n(24,"b"),e(25,"[(ngModel)]"),t(),e(26," de "),n(27,"a",1),e(28,"FormsModule"),t()(),n(29,"li"),e(30," En utilisant "),n(31,"b"),e(32,"[formControlName]"),t(),e(33," de "),n(34,"a",2),e(35,"ReactiveFormsModule"),t()()(),n(36,"li"),e(37," En pouvant choisir parmi les 3 m\xE9thodes de maj du mod\xE8le ("),n(38,"b"),e(39,"ngModelOptions"),t(),e(40," = 'change' par d\xE9faut, ou 'blur' ou 'submit') "),t()(),n(41,"p")(42,"b"),e(43,"Accessibilit\xE9, attention : "),t(),e(44,"A partir de la v19, seule l'utilisation d'un tel composant au sein d'un "),n(45,"code"),e(46,"zac-form-field"),t(),e(47,` garanti la bonne accessibilit\xE9.
`),t(),p(48,"br"))},styles:["ul[_ngcontent-%COMP%]{margin-left:1em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style-type:disc;list-style-position:inside}a[_ngcontent-%COMP%]{text-decoration-line:underline}"]})};function ou(l,r){if(l&1&&(n(0,"zac-error-message",20),e(1),t()),l&2){let i=g(2);m(),De(i.errorMessage)}}function ru(l,r){if(l&1&&(n(0,"p"),e(1),t()),l&2){let i=r.ngIf;m(),D("Erreur http : ",i==null?null:i.statusText,"")}}function au(l,r){if(l&1){let i=x();n(0,"form",9),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),qi(1),_(2,ou,2,1,"zac-error-message",10),n(3,"zac-form-field",11)(4,"zac-autocomplete",12),v("ngModelChange",function(a){d(i);let s=Vi(1);return b(s.naissance.departementNaissance,a)||(s.naissance.departementNaissance=a),f(a)}),h("onError",function(a){d(i);let s=g();return f(s.onAutocompleteError(a))}),t()(),n(5,"p"),e(6),t(),n(7,"zac-form-field",13)(8,"zac-autocomplete",14),v("ngModelChange",function(a){d(i);let s=Vi(1);return b(s.commune,a)||(s.commune=a),f(a)}),h("onError",function(a){d(i);let s=g();return f(s.onAutocompleteError(a))}),t()(),n(9,"p"),e(10),t(),n(11,"zac-form-field",15)(12,"zac-autocomplete",16),v("ngModelChange",function(a){d(i);let s=g();return b(s.codePostalEtCodeCommuneInsee,a)||(s.codePostalEtCodeCommuneInsee=a),f(a)}),h("choiceChange",function(a){d(i);let s=g();return f(s.onCpCommuneChange(a))})("onError",function(a){d(i);let s=g();return f(s.onAutocompleteError(a))}),t()(),n(13,"p"),e(14),t(),n(15,"zac-form-field",17)(16,"zac-autocomplete",18),v("ngModelChange",function(a){d(i);let s=Vi(1);return b(s.adresse,a)||(s.adresse=a),f(a)}),h("choiceChange",function(a){d(i);let s=g();return f(s.onChoiceChange(a))})("onError",function(a){d(i);let s=g();return f(s.onAutocompleteError(a))}),t()(),_(17,ru,2,1,"p",19),K(18,"async"),n(19,"p"),e(20),t(),n(21,"nav"),p(22,"zac-control-bar"),t()()}if(l&2){let i=g(),o=M(45);u("zacReadonly",o.value),m();let a=xl(i.$personne());m(),u("ngIf",i.errorMessage),m(2),u("freeEntry",!1)("minInputSize",1)("listSize",10)("sourceService",i.departementApiGouvSource),S("ngModel",a.naissance.departementNaissance),m(2),D("Valeur de la propri\xE9t\xE9 li\xE9e: ",a.naissance.departementNaissance,""),m(2),u("freeEntry",!1)("minInputSize",1)("listSize",10)("sourceService",i.communeApiGouvSource),S("ngModel",a.commune),m(2),D("Valeur de la propri\xE9t\xE9 li\xE9e (n\xB0 commune): ",a.commune,""),m(2),u("freeEntry",!1)("minInputSize",1)("listSize",10)("sourceService",i.codePostalCommuneApiGouvSource),S("ngModel",i.codePostalEtCodeCommuneInsee),m(2),Xe("Valeur de la propri\xE9t\xE9 li\xE9e (n\xB0 code postal, code commune insee): ",i.codePostalEtCodeCommuneInsee," , ",i.codePostalEtCodeCommuneInsee==null?null:i.codePostalEtCodeCommuneInsee.codeCommuneInsee,""),m(2),u("freeEntry",!0)("minInputSize",4)("listSize",10)("sourceService",i.adresseApiGouvSource),S("ngModel",a.adresse),m(),u("ngIf",X(18,29,i.adresseApiGouvSource.error)),m(3),D("Valeur de la propri\xE9t\xE9 li\xE9e: ",a.adresse,"")}}var Po=class l{constructor(r,i,o,a,s,c){this.router=r;this.personneService=i;this.departementApiGouvSource=o;this.communeApiGouvSource=a;this.adresseApiGouvSource=s;this.codePostalCommuneApiGouvSource=c}$personne=Se(void 0);ngForm;codePostalEtCodeCommuneInsee;errorMessage;ngOnInit(){return Ce(this,null,function*(){let r=yield this.personneService.getPromise();this.codePostalEtCodeCommuneInsee=r.naissance.codePostalNaissance?new Ul(r.naissance.codePostalNaissance,r.naissance.communeNaissance):void 0,this.$personne.set(r)})}onSubmit(){this.ngForm?.form.valid&&this.$personne()&&(this.$personne().naissance.codePostalNaissance=this.codePostalEtCodeCommuneInsee?.codePostal,this.$personne().naissance.communeNaissance=this.codePostalEtCodeCommuneInsee?.codeCommuneInsee,this.personneService.postAndWrite(this.$personne()).subscribe(r=>{this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-api-gouv",{replaceUrl:!0}))}))}onChoiceChange(r){console.log("Adresse choisie",r.choice)}onCpCommuneChange(r){console.log("CPCommune choisie",r.choice)}onAutocompleteError(r){return Ce(this,null,function*(){yield this.afficheMessageErreurQuelquesSecondes(r)})}afficheMessageErreurQuelquesSecondes(r){return Ce(this,null,function*(){this.errorMessage=r,yield Re.waitMilliseconds(5e3),this.errorMessage=void 0})}static \u0275fac=function(i){return new(i||l)(y(U),y(rn),y(Hl),y(Wl),y(jl),y(ki))};static \u0275cmp=E({type:l,selectors:[["app-demo-api-gouv"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},features:[Ie([{provide:Zt,useValue:new Zt(["ApiInterceptorService","ConfigLoaderService","PersonneService","AbstractHttpStore"])}])],decls:46,vars:1,consts:[["readOnly","ngModel"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoApiGouvComponent.html#template"],["zacErrors","",3,"zacReadonly","ngSubmit",4,"ngIf"],["href","https://design.msa.fr/3202b1bf4/p/04cd05-autocomplete/b/6135ea","target","_blank"],["href","https://api.gouv.fr/"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["zacErrors","",3,"ngSubmit","zacReadonly"],["class","ng-error",4,"ngIf"],["label","D\xE9partement"],["name","departement","spinner","true","required","",3,"ngModelChange","onError","freeEntry","minInputSize","listSize","sourceService","ngModel"],["label","Commune (par nom commune ou code postal)"],["name","commune","spinner","true","required","",3,"ngModelChange","onError","freeEntry","minInputSize","listSize","sourceService","ngModel"],["label","Code postal et Commune (par nom commune ou code postal)"],["name","cpCommune","spinner","true","required","",3,"ngModelChange","choiceChange","onError","freeEntry","minInputSize","listSize","sourceService","ngModel"],["label","Adresse"],["name","adresse","spinner","true","required","",3,"ngModelChange","choiceChange","onError","freeEntry","minInputSize","listSize","sourceService","ngModel"],[4,"ngIf"],[1,"ng-error"]],template:function(i,o){if(i&1&&(n(0,"h1"),e(1,"D\xE9mo Autocomplete avec API GOUV"),t(),n(2,"div",1)(3,"section",2)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",3),_(7,au,23,31,"form",4),t()(),p(8,"br"),n(9,"section",2)(10,"h2"),e(11,"Explications"),t(),n(12,"section")(13,"p"),e(14,"Cet \xE9cran d\xE9montre le fonctionnement du composant d'autocompl\xE9tion "),n(15,"a",5),e(16,"zac-autocomplete tel que d\xE9crit par le Design System"),t(),e(17," proposant un choix unique parmi une liste de valeurs peupl\xE9e en faisant appel "),n(18,"b")(19,"a",6),e(20,"aux API publiques du gouvernement"),t()(),e(21," telle les bases "),n(22,"b"),e(23,"d\xE9partements, communes et adresses"),t(),e(24,"."),t(),p(25,"br"),n(26,"h2"),e(27,"Services disponibles"),t(),n(28,"p"),e(29,"Le param\xE9trage de chaque composant se fait de la m\xEAme mani\xE8re que sur le composant zacAutocomplete classique \xE0 l'exception de la source qui est omise et remplac\xE9e par le param\xE8tre "),n(30,"b"),e(31,"sourceService"),t(),e(32," \xE0 valoriser avec un des services pr\xE9-configur\xE9s possible : "),n(33,"code"),e(34,"ApiAdresseDaoService, ApiCommuneDaoService et ApiDepartementDaoService"),t(),e(35,"."),t(),p(36,"app-explication-control-value-accessor"),t(),n(37,"h2"),e(38,"Autres param\xE8tres"),t(),n(39,"zac-form-field",7)(40,"p"),e(41," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(42,"b"),e(43,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(44,"zac-boolean-choice",8,0),t()()()),i&2){let a;m(7),u("ngIf",o.$personne()&&((a=o.$personne())==null?null:a.naissance))}},dependencies:[N,W,zt,P,R,w,z,H,V,O,ae,Te,A,L,am,k,yt,ce,oe,mt],styles:[".demo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .demo-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .demo-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]   .demo-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:.25rem}"],changeDetection:0})};var zo=[["01","Ain"],["02","Aisne"],["03","Allier"],["04","Alpes-de-Haute-Provence"],["05","Hautes-Alpes"],["06","Alpes-Maritimes"],["07","Ard\xE8che"],["08","Ardennes"],["09","Ari\xE8ge"],["10","Aube"],["11","Aude"],["12","Aveyron"],["13","Bouches-du-Rh\xF4ne"],["14","Calvados"],["15","Cantal"],["16","Charente"],["17","Charente-Maritime"],["18","Cher"],["19","Corr\xE8ze"],["2A","Corse-du-Sud"],["2B","Haute-Corse"],["21","C\xF4te-d'Or"],["22","C\xF4tes d'Armor"],["23","Creuse"],["24","Dordogne"],["25","Doubs"],["26","Dr\xF4me"],["27","Eure"],["28","Eure-et-Loir"],["29","Finist\xE8re"],["30","Gard"],["31","Haute-Garonne"],["32","Gers"],["33","Gironde"],["34","H\xE9rault"],["35","Ille-et-Vilaine"],["36","Indre"],["37","Indre-et-Loire"],["38","Is\xE8re"],["39","Jura"],["40","Landes"],["41","Loir-et-Cher"],["42","Loire"],["43","Haute-Loire"],["44","Loire-Atlantique"],["45","Loiret"],["46","Lot"],["47","Lot-et-Garonne"],["48","Loz\xE8re"],["49","Maine-et-Loire"],["50","Manche"],["51","Marne"],["52","Haute-Marne"],["53","Mayenne"],["54","Meurthe-et-Moselle"],["55","Meuse"],["56","Morbihan"],["57","Moselle"],["58","Ni\xE8vre"],["59","Nord"],["60","Oise"],["61","Orne"],["62","Pas-de-Calais"],["63","Puy-de-D\xF4me"],["64","Pyr\xE9n\xE9es-Atlantiques"],["65","Hautes-Pyr\xE9n\xE9es"],["66","Pyr\xE9n\xE9es-Orientales"],["67","Bas-Rhin"],["68","Haut-Rhin"],["69","Rh\xF4ne"],["70","Haute-Sa\xF4ne"],["71","Sa\xF4ne-et-Loire"],["72","Sarthe"],["73","Savoie"],["74","Haute-Savoie"],["75","Paris"],["76","Seine-Maritime"],["77","Seine-et-Marne"],["78","Yvelines"],["79","Deux-S\xE8vres"],["80","Somme"],["81","Tarn"],["82","Tarn-et-Garonne"],["83","Var"],["84","Vaucluse"],["85","Vend\xE9e"],["86","Vienne"],["87","Haute-Vienne"],["88","Vosges"],["89","Yonne"],["90","Territoire Belfort"],["91","Essonne"],["92","Hauts-de-Seine"],["93","Seine-St-Denis"],["94","Val-de-Marne"],["95","Val-D'Oise"],["971","Guadeloupe"],["972","Martinique"],["973","Guyane"],["974","La R\xE9union"],["976","Mayotte"],["666","Celui-la est tr\xE9s tr\xE9s tr\xE9s long a dessein putain cong"]];var Qt=class l{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-explication-choice"]],decls:24,vars:0,template:function(i,o){i&1&&(p(0,"br"),n(1,"p")(2,"b"),e(3,"Attention :\xA0"),t(),e(4,"Les composants de choix fonctionnent tous selon le m\xEAme mod\xE8le : on pr\xE9cise la liste de choix par le biais du param\xE8tre "),n(5,"code"),e(6,"choiceList"),t(),e(7," de type array de couple "),n(8,"code"),e(9,"[CODE,LIBELLE][]"),t(),e(10," ou alors un objet ou enum "),n(11,"code"),e(12,"{CODE: LIBELLE}"),t(),e(13,`.
`),t(),n(14,"p"),e(15," Ensuite le composant affiche \xE0 l'utilisateur une liste de "),n(16,"code"),e(17,"LIBELLE"),t(),e(18," mais "),n(19,"strong"),e(20,"la valeur du mod\xE8le li\xE9/r\xE9cup\xE9r\xE9 est seulement le "),n(21,"code"),e(22,"CODE"),t()(),e(23,`, pas le LIBELLE
`),t())},encapsulation:2})};var Xn=class l{data;constructor(){}read(){return Et(this.data??new ie)}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function lu(l,r){if(l&1){let i=x();Q(0),e(1," Donn\xE9es de l' "),n(2,"button",32),h("action",function(){d(i);let a=g(3);return f(a.onActionFromBottom())}),e(3," API D\xE9partement. "),t(),J()}}function su(l,r){if(l&1&&p(0,"fa-icon",34),l&2){let i=g(5);u("icon",i.faPerson)}}function mu(l,r){if(l&1&&p(0,"fa-icon",34),l&2){let i=g(5);u("icon",i.faPersonDress)}}function cu(l,r){if(l&1&&(Q(0),_(1,su,1,1,"fa-icon",33)(2,mu,1,1,"fa-icon",33),n(3,"strong"),e(4),t(),n(5,"span"),e(6),t(),n(7,"em"),e(8),t(),J()),l&2){let i=r.ngIf;m(),u("ngIf",(i==null?null:i.sexe)==="M"),m(),u("ngIf",(i==null?null:i.sexe)==="F"),m(2),D("\xA0",i.nom,""),m(2),D("\xA0",i.prenom,""),m(2),D("\xA0- (",i.nir,")")}}function uu(l,r){if(l&1&&(Q(0),_(1,cu,9,5,"ng-container",30),J()),l&2){let i=r.$implicit;m(),u("ngIf",i[1])}}function pu(l,r){if(l&1){let i=x();Q(0),n(1,"zac-form-field",35)(2,"input",36),v("ngModelChange",function(a){d(i);let s=g(3);return b(s.personne.nir,a)||(s.personne.nir=a),f(a)}),t()(),n(3,"zac-form-field",37)(4,"input",38),v("ngModelChange",function(a){d(i);let s=g(3);return b(s.personne.prenom,a)||(s.personne.prenom=a),f(a)}),t()(),J()}if(l&2){let i=g(3);m(2),S("ngModel",i.personne.nir),m(2),S("ngModel",i.personne.prenom)}}function du(l,r){if(l&1&&(n(0,"p",39),e(1),t()),l&2){let i=g(3);m(),De(i.errorMessage)}}function fu(l,r){if(l&1){let i=x();n(0,"form",22),h("ngSubmit",function(){d(i);let a=g(2);return f(a.onSubmit())}),n(1,"zac-form-field",23)(2,"p"),e(3),t(),n(4,"p")(5,"em"),e(6,"Bottom customis\xE9s par *zacBottom"),t()(),n(7,"zac-autocomplete",24),v("ngModelChange",function(a){d(i);let s=g(2);return b(s.datas.naissance.departementNaissance,a)||(s.datas.naissance.departementNaissance=a),f(a)}),h("onError",function(a){d(i);let s=g(2);return f(s.onAutocompleteDepartementNaissanceError(a))}),_(8,lu,4,0,"ng-container",25),t()(),n(9,"zac-button",26),h("click",function(){d(i);let a=g(2);return f(a.reset())}),t(),p(10,"br")(11,"br")(12,"hr"),n(13,"zac-form-field",27)(14,"p"),e(15,"tapez un 'l' ou un 'e' pour obtenir une liste"),t(),n(16,"p")(17,"em"),e(18,"Options customis\xE9es par *zacContent"),t()(),n(19,"zac-autocomplete",28,4),v("ngModelChange",function(a){d(i);let s=g(2);return b(s.datas.nir,a)||(s.datas.nir=a),f(a)}),h("choiceChange",function(a){d(i);let s=g(2);return f(s.onChoiceChange(a))})("onError",function(a){d(i);let s=g(2);return f(s.onAutocompletePersonneError(a))}),_(21,uu,2,1,"ng-container",29),t()(),n(22,"zac-button",26),h("click",function(){d(i);let a=M(20);return f(a.clearState())}),t(),p(23,"br")(24,"br"),n(25,"p"),e(26),t(),_(27,pu,5,2,"ng-container",30)(28,du,2,1,"p",31),n(29,"nav"),p(30,"zac-control-bar"),t()()}if(l&2){let i=g(2),o=M(31),a=M(38),s=M(45),c=M(78);m(),u("readonly",c.value),m(2),D(" Valeur de la propri\xE9t\xE9 li\xE9e= ",i.datas.naissance.departementNaissance," "),m(4),u("freeEntry",o.value)("minInputSize",a.value)("listSize",s.value)("choiceList",i.choices),S("ngModel",i.datas.naissance.departementNaissance),m(6),u("readonly",c.value),m(6),u("freeEntry",o.value)("minInputSize",a.value)("listSize",s.value)("$choiceListSource",i.sourceAutocompletePersonneByNom.bind(i))("$fromPropertyChoiceListSource",i.sourceAutocompletePersonneByNir.bind(i)),S("ngModel",i.datas.nir),m(7),D("Valeur de la propri\xE9t\xE9 li\xE9e= ",i.datas.nir,""),m(),u("ngIf",i.personne),m(),u("ngIf",i.errorMessage)}}function gu(l,r){if(l&1&&(n(0,"section",8)(1,"h2"),e(2,"Exemple"),t(),n(3,"app-source",20),_(4,fu,31,17,"form",21),t()()),l&2){let i=g();m(4),u("ngIf",i.datas&&i.datas.naissance)}}var Yn=class l{constructor(r,i,o){this.referentielDao=r;this.router=i;this.dataService=o}choices=zo;personne;autreChampAvant;datas;faPerson=ss;faPersonDress=ps;errorMessage;ngForm;ngOnInit(){this.initializeForm()}initializeForm(){this.dataService.read().subscribe(r=>this.datas=r)}sourceAutocompletePersonneByNom(r){return this.referentielDao.autocompleteByNom(r)}sourceAutocompletePersonneByNir(r){return this.referentielDao.autocompleteByNir(r)}onChoiceChange(r){console.log("DemoAutocompleteComponent choiceChange=",r),r.isFree||(this.personne=r.choice[1])}onSubmit(){this.datas&&this.ngForm?.valid&&(this.dataService.data=this.datas,this.router.navigateByUrl("autocomplete-suite"))}onAutocompleteDepartementNaissanceError(r){this.errorMessage=r}onActionFromBottom(){console.log("onActionFromBottom")}context(){console.log("context ",this)}onAutocompletePersonneError(r){this.errorMessage=r,console.log("Autocomplete Error ",r)}reset(){this.datas?.naissance&&(this.datas.naissance.departementNaissance=void 0)}static \u0275fac=function(i){return new(i||l)(y(vi),y(U),y(Xn))};static \u0275cmp=E({type:l,selectors:[["app-demo-autocomplete"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:79,vars:1,consts:[["freeEntry","ngModel"],["minInputSize","ngModel"],["listSize","ngModel"],["readOnly","ngModel"],["autocomplete",""],[1,"demo-title-section"],[1,"demo-section_reverse"],["class","demo-section",4,"ngIf"],[1,"demo-section"],["href","https://design.msa.fr/3202b1bf4/p/04cd05-autocomplete/b/6135ea","target","_blank"],[1,"form_field_wrapper"],["for","freeEntry"],["id","freeEntry","name","freeEntry","ngModel","false"],["for","minInputSize"],["id","minInputSize","name","minInputSize","ngModel","1"],["for","listSize"],["id","listSize","name","listSize","ngModel","5"],["target","_blank","href","https://developer.mozilla.org/fr/docs/Web/HTML/Attributes/autocomplete>"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["src","components/DemoAutocompleteComponent.html#template"],["zacErrors","",3,"ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit"],["label","D\xE9partement",3,"readonly"],["name","choice","required","",3,"ngModelChange","onError","freeEntry","minInputSize","listSize","choiceList","ngModel"],[4,"zacBottom"],["name","Secondary","label","Reset",3,"click"],["label","Choisir un individu, par le nom (mais li\xE9 a une propri\xE9t\xE9 nir)",3,"readonly"],["name","Nom","spinner","true","required","",3,"ngModelChange","choiceChange","onError","freeEntry","minInputSize","listSize","$choiceListSource","$fromPropertyChoiceListSource","ngModel"],[4,"zacContent"],[4,"ngIf"],["class","ng-error",4,"ngIf"],["zacActionable","",1,"button","--button_ghost","--button_tertiary",3,"action"],[3,"icon",4,"ngIf"],[3,"icon"],["label","NIR"],["name","nir",3,"ngModelChange","ngModel"],["label","Prenom"],["name","prenom","required","",3,"ngModelChange","ngModel"],[1,"ng-error"]],template:function(i,o){i&1&&(n(0,"h1",5),e(1,"D\xE9mo du composant Autocomplete"),t(),n(2,"div",6),_(3,gu,5,1,"section",7),p(4,"br"),n(5,"section",8)(6,"h2"),e(7,"Explications"),t(),n(8,"section")(9,"p"),e(10," Cet \xE9cran d\xE9montre le fonctionnement du composant d'autocompl\xE9tion "),n(11,"a",9),e(12,"zac-autocomplete tel que d\xE9crit par le Design System"),t(),e(13," proposant un choix unique parmi une liste de valeurs pass\xE9es en param\xE8tre "),n(14,"code"),e(15,"choiceList"),t(),e(16," sous la forme "),n(17,"code"),e(18,"[[code1, libelle1], [code2, libelle2]... ]"),t()(),p(19,"app-explication-choice")(20,"app-explication-control-value-accessor"),t(),p(21,"br"),n(22,"h2"),e(23,"Param\xE8tres d'entr\xE9e (en plus de choiceList)"),t(),n(24,"p"),e(25,"Les param\xE8tres suivants permettent de faire varier le comportement :"),t(),n(26,"section")(27,"div",10)(28,"zac-label",11),e(29,"freeEntry : true | false"),t(),p(30,"input",12,0),n(32,"p"),e(33,"True autorise la saisie libre d'une nouvelle valeur"),t()(),n(34,"div",10)(35,"zac-label",13),e(36,"minInputSize : number"),t(),p(37,"input",14,1),n(39,"p"),e(40,"Nombre de caract\xE8res mini avant de pouvoir ouvrir la liste"),t()(),n(41,"div",10)(42,"zac-label",15),e(43,"listSize : number"),t(),p(44,"input",16,2),n(46,"p"),e(47,"Taille de la liste ouverte (avant ascenseur)"),t()()(),n(48,"p"),e(49," Le param\xE8tre facultatif "),n(50,"code")(51,"b"),e(52,"filter: (list: string[][], entry: string) => string[][]"),t()(),e(53," permet en outre de fournir une m\xE9thode de filtre custom en remplacement de celle par d\xE9faut. "),t(),n(54,"p"),e(55," Le param\xE8tre facultafif "),n(56,"code"),e(57,"autocomplete"),t(),e(58," permet de donner une valeur \xE0 "),n(59,"a",17),e(60,"l'attribut html autocomplete"),t(),e(61," de l'input si n\xE9cessaire. "),t(),n(62,"p"),e(63," Par ailleurs plut\xF4t que de n'afficher que le libelle brut d'une option sous forme de "),n(64,"code"),e(65,"String"),t(),e(66," simple il est possible de customiser exactement le rendu de chaque option en projetant du contenu dans le corps de l'autocomplete, pourvu qu'il soit identifi\xE9 par la directive structurelle "),n(67,"code"),e(68,"zacContent"),t(),e(69,", cf exemple dans le code. "),t(),n(70,"h2"),e(71,"Autres param\xE8tres"),t(),n(72,"zac-form-field",18)(73,"p"),e(74," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(75,"b"),e(76,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(77,"zac-boolean-choice",19,3),t()()()),i&2&&(m(3),u("ngIf",o.datas))},dependencies:[N,W,P,R,q,w,z,H,V,O,ne,vt,Vt,k,yt,ce,L,ue,Qt,Te,A,yn,ji,Oe,Ft,oe],styles:[".--float-right[_ngcontent-%COMP%]{float:right}"],changeDetection:0})},vi=class l extends At{dataType=Array;elementType=ie;url="/api/referentielPersonne";constructor(r){super(r)}autocompleteByNom(r){return console.log("demo autocompleteByNom ",r),this.get({nom:r}).pipe(We(i=>(console.log(" => demo autocompleteByNom ",i),i.map(o=>[o.nir??"",o]))))}autocompleteByNir(r){return console.log("demo autocompleteByNir ",r),this.get({nir:r}).pipe(We(i=>(console.log(" => demo autocompleteByNir ",i),i.map(o=>[o.nir??"",o]))),We(i=>r))}static \u0275fac=function(i){return new(i||l)(Be(bt))};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function _u(l,r){if(l&1){let i=x();n(0,"form",15),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(1,"zac-form-field",16)(2,"p"),e(3),t(),p(4,"zac-autocomplete",17),t(),n(5,"zac-form-field",18)(6,"zac-autocomplete",19),h("choiceChange",function(a){d(i);let s=g();return f(s.onChoiceChange(a))}),t()(),n(7,"p"),e(8),t(),n(9,"nav"),p(10,"zac-control-bar"),t()()}if(l&2){let i=g(),o=M(34),a=M(41),s=M(48);u("formGroup",i.formGroup),m(3),D("Valeur de la propri\xE9t\xE9 li\xE9e= ",i.datas.naissance.departementNaissance,""),m(),u("freeEntry",o.value)("minInputSize",a.value)("listSize",s.value)("choiceList",i.choices),m(2),u("freeEntry",o.value)("minInputSize",a.value)("listSize",s.value)("$choiceListSource",i.sourceAutocompletePersonneByNom.bind(i))("$fromPropertyChoiceListSource",i.sourceAutocompletePersonneByNir.bind(i)),m(2),D("Valeur de la propri\xE9t\xE9 li\xE9e= ",i.datas.nir,"")}}var Ao=class l extends Yn{constructor(i,o,a,s){super(i,o,a);this.fb=s;this.formGroup=this.fb.group({departement:new me(""),nir:new me("")})}formGroup;ngOnInit(){this.dataService.read().subscribe(i=>{this.datas=i,this.datas&&this.formGroup?.patchValue({departement:this.datas.naissance?.departementNaissance,nir:this.datas.nir})})}onSubmit(){if(this.formGroup?.valid){if(this.datas){let i=this.formGroup?.getRawValue();this.dataService.data?.naissance&&(this.dataService.data.naissance.departementNaissance=i.departement,this.dataService.data.nir=i.nir),this.router.navigateByUrl("autocomplete-suite")}}else console.warn("formgroup invalid",this.formGroup)}static \u0275fac=function(o){return new(o||l)(y(vi),y(U),y(Xn),y(kt))};static \u0275cmp=E({type:l,selectors:[["app-autocomplete-suite"]],features:[tt],decls:57,vars:1,consts:[["freeEntry","ngModel"],["minInputSize","ngModel"],["listSize","ngModel"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoAutocompleteComponent.html#template"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["href","https://design.msa.fr/3202b1bf4/p/04cd05-autocomplete/b/6135ea","target","_blank"],[1,"form_field_wrapper"],["for","freeEntry"],["id","freeEntry","name","freeEntry","ngModel","false"],["for","minInputSize"],["id","minInputSize","name","minInputSize","ngModel","1"],["for","listSize"],["id","listSize","name","listSize","ngModel","5"],["zacErrors","",3,"ngSubmit","formGroup"],["label","D\xE9partement"],["name","departement","formControlName","departement",3,"freeEntry","minInputSize","listSize","choiceList"],["label","Nom"],["name","nir","formControlName","nir","required","",3,"choiceChange","freeEntry","minInputSize","listSize","$choiceListSource","$fromPropertyChoiceListSource"]],template:function(o,a){o&1&&(n(0,"h1"),e(1,"D\xE9mo du composant Autocomplete (suite reactive form)"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5),_(7,_u,11,12,"form",6),t()(),p(8,"br"),n(9,"section",4)(10,"h2"),e(11,"Explications"),t(),n(12,"section")(13,"p"),e(14,"Cet \xE9cran d\xE9montre le fonctionnement du composant "),n(15,"a",7),e(16,"zac-autocomplete tel que d\xE9crit par le Design System"),t(),e(17," proposant un choix unique parmi une liste de valeurs pass\xE9es en param\xE8tre "),n(18,"code"),e(19,"choiceList"),t(),e(20," sous la forme "),n(21,"code"),e(22,"[[code1, libelle1], [code2, libelle2]... ]"),t()(),p(23,"app-explication-control-value-accessor"),t(),p(24,"br"),n(25,"h2"),e(26,"Param\xE8tres d'entr\xE9e (en plus de choiceList)"),t(),n(27,"p"),e(28,"Les param\xE8tres suivants permettent de faire varier le comportement :"),t(),n(29,"section")(30,"div",8)(31,"zac-label",9),e(32,"freeEntry : true | false"),t(),p(33,"input",10,0),n(35,"p"),e(36,"True autorise la saisie libre d'une nouvelle valeur"),t()(),n(37,"div",8)(38,"zac-label",11),e(39,"minInputSize : number"),t(),p(40,"input",12,1),n(42,"p"),e(43,"Nombre de caract\xE8res mini avant de pouvoir ouvrir la liste"),t()(),n(44,"div",8)(45,"zac-label",13),e(46,"listSize : number"),t(),p(47,"input",14,2),n(49,"p"),e(50,"Taille de la liste ouverte (avant ascenseur)"),t()()(),n(51,"p"),e(52,"Le param\xE8tre facultatif "),n(53,"code")(54,"b"),e(55,"filter: (list: string[][], entry: string) => string[][]"),t()(),e(56," permet en outre de fournir une m\xE9thode de filtre custom en remplacement de celle par d\xE9faut."),t()()()),o&2&&(m(7),u("ngIf",a.formGroup&&a.datas&&a.datas.naissance))},dependencies:[N,W,P,R,q,w,z,H,V,ne,te,_e,Fn,k,Xs,ce,Xi,vt,L,A,Is,yt,Te,ue],encapsulation:2})};var Cu=["titre"];function Su(l,r){if(l&1){let i=x();n(0,"section",4)(1,"h2"),e(2,"Exemple"),t(),n(3,"app-source",5)(4,"form",6),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(5,"zac-form-field",7)(6,"input",8),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.nom,a)||(s.personne.nom=a),f(a)}),t()(),n(7,"zac-form-field",9)(8,"input",10),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.prenom,a)||(s.personne.prenom=a),f(a)}),t()(),p(9,"br"),n(10,"div")(11,"zac-button",11),h("action",function(){d(i);let a=g();return f(a.onRemetFocusAction())}),t()(),n(12,"nav"),p(13,"zac-control-bar"),t()()()()}if(l&2){let i=g();m(6),S("ngModel",i.personne.nom),m(2),S("ngModel",i.personne.prenom),m(3),u("name","Valider")("label","Remet le focus sur le titre programmatiquement")}}var Fo=class l{constructor(r){this.personneService=r}personne;autofocusDirective;ngOnInit(){this.personneService.get().subscribe(r=>this.personne=r)}onSubmit(){}onRemetFocusAction(){this.autofocusDirective?.setFocus()}static \u0275fac=function(i){return new(i||l)(y(rn))};static \u0275cmp=E({type:l,selectors:[["app-demo-autofocus"]],viewQuery:function(i,o){if(i&1&&Y(Cu,5,fe),i&2){let a;$(a=ee())&&(o.autofocusDirective=a.first)}},hostAttrs:[1,"demo-autofocus"],decls:32,vars:1,consts:[["titre",""],["zacAutofocus",""],[1,"demo-section_reverse"],["class","demo-section",4,"ngIf"],[1,"demo-section"],["src","components/DemoAutofocusComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","nom"],["name","nom","required","",3,"ngModelChange","ngModel"],["label","prenom"],["name","prenom","required","",3,"ngModelChange","ngModel"],[3,"action","name","label"]],template:function(i,o){i&1&&(n(0,"h1",1,0),e(2,"D\xE9mo du composant Autofocus"),t(),n(3,"div",2),_(4,Su,14,4,"section",3),p(5,"br"),n(6,"section",4)(7,"h2"),e(8,"Explications"),t(),n(9,"section")(10,"p"),e(11," Dans son utilisation basique, pos\xE9 sur un composant, cette directive permet simplement de mettre le focus sur le composant cible, quel qu'il soit, "),n(12,"b"),e(13,"lors de la phase d'initialisation (ngOnInit)"),t(),e(14,". "),t(),n(15,"p"),e(16," Ce composant peut donc convenir pour "),n(17,"b"),e(18,"forcer le focus sur un \xE9l\xE9ment quelconque de la page"),t(),e(19," , comme sur cet exemple, afin que son contenu soit verbalis\xE9 de fa\xE7on perceptible (accessibilit\xE9) lors de l'affichage de cette page. "),t(),n(20,"p"),e(21," Il peut aussi \xEAtre remis programmatiquement via la m\xE9thode "),n(22,"code"),e(23,"Autofocus.setFocus()"),t(),e(24,', cf onglet "code source". '),t(),n(25,"b")(26,"i"),e(27,"Remarque :"),t()(),e(28," A chaque fois qu'on tente de mettre le focus sur un \xE9l\xE9ment qui n'est pas un \xE9l\xE9ment de formulaire on force le "),n(29,"code"),e(30,"tabindex=-1"),t(),e(31," s'il ne l'a pas d\xE9j\xE0 \xE9t\xE9. "),t()()()),i&2&&(m(4),u("ngIf",o.personne))},dependencies:[N,W,P,R,q,w,z,H,V,O,ae,A,fe,L,Oe,ce,k],styles:[`.demo-autofocus :focus{outline:5px darkblue dashed!important;position:relative}.demo-autofocus :focus:before{content:"J'ai le focus, ouais..."!important;position:absolute!important;font-size:1rem;font-weight:100!important;padding:4px;display:inline-block;left:90%;top:-2rem;z-index:100;outline:none;width:max-content;border-radius:1rem;border:1px solid grey;background-color:#0c5593;color:#fff}
`],encapsulation:2})};var Ro=class l{counter=0;constructor(){}isUserInCondition(r){return Et(r).pipe(et(i=>console.log("Acces habilitation no=",this.counter++)))}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function xu(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est HABILITE par la valeur de ngIfH1=",i.conditionUn," ")}}function yu(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est INTERDITE par la valeur de ngIfH1=",i.conditionUn," et ne change jamais m\xEAme si on met true ")}}function Du(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est HABILITE par la valeur de ngIfH1=",i.conditionDeux," ")}}function wu(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est INTERDITE par la valeur de ngIfH1=",i.conditionDeux," et ne change jamais m\xEAme si on met false ")}}function Mu(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est HABILITE par la valeur de ngIfH1Fixed=",i.conditionTrois," ")}}function Iu(l,r){if(l&1&&(n(0,"section"),e(1),t()),l&2){let i=g();m(),D(" Cette section est INTERDITE par la valeur de ngIfH1Fixed=",i.conditionTrois," ")}}var qo=class l{constructor(r){this.habiService=r}ngOnInit(){}isHabilite(){return this.habiService.isUserInCondition(!0)}onMouseMove(){return Ce(this,null,function*(){})}_conditionUn=!1;_conditionDeux=!0;_conditionTrois=!0;get conditionUn(){return this._conditionUn}set conditionUn(r){this._conditionUn=this.isTruelyTrue(r)}get conditionDeux(){return this._conditionDeux}set conditionDeux(r){this._conditionDeux=this.isTruelyTrue(r)}get conditionTrois(){return this._conditionTrois}set conditionTrois(r){this._conditionTrois=this.isTruelyTrue(r)}isTruelyTrue(r){return r===!0||r==="true"}static \u0275fac=function(i){return new(i||l)(y(Ro))};static \u0275cmp=E({type:l,selectors:[["app-demo-binding"]],decls:34,vars:12,consts:[[1,"demo-title-section"],[1,"demo-section"],[3,"mousemove"],[1,"form_field_wrapper"],["for","cond1"],["id","cond1","name","cond1",3,"ngModelChange","ngModel"],[4,"ngIfH1"],["for","cond2"],["id","cond2","name","cond2",3,"ngModelChange","ngModel"],["for","cond3"],["id","cond3","name","cond3",3,"ngModelChange","ngModel"],[4,"ngIfH1Fixed"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2,"D\xE9mo sur le binding"),t(),n(3,"section",1)(4,"h2"),e(5,"Usage du service"),t(),n(6,"section",2),h("mousemove",function(){return o.onMouseMove()}),n(7,"p"),e(8,"On affiche ci-dessous la valeur de l'appel a notre service d'habilitation"),t(),n(9,"p"),e(10),K(11,"async"),t(),e(12," Chaque fois que la souris va bouger au sein de cette section, un \xE9v\xE8nement est \xE9cout\xE9, ce qui d\xE9clenche la phase de d\xE9tection des changements et l'appel a isHabilit\xE9(), et donc \xE0 l'appel du service d'habilitation, trac\xE9 dans la console.log (F12) "),t(),p(13,"br"),n(14,"h2"),e(15,"Usage de la directive *ngIfH1"),t(),n(16,"div",3)(17,"zac-label",4),e(18,"La valeur de la condition d\xE9termine la valeur du retour de ngIfH1"),t(),n(19,"input",5),v("ngModelChange",function(s){return b(o.conditionUn,s)||(o.conditionUn=s),s}),t()(),_(20,xu,2,1,"section",6)(21,yu,2,1,"section",6),n(22,"div",3)(23,"zac-label",7),e(24,"La valeur de la condition d\xE9termine la valeur du retour de ngIfH1"),t(),n(25,"input",8),v("ngModelChange",function(s){return b(o.conditionDeux,s)||(o.conditionDeux=s),s}),t()(),_(26,Du,2,1,"section",6)(27,wu,2,1,"section",6),n(28,"div",3)(29,"zac-label",9),e(30,"La valeur de la condition d\xE9termine la valeur du retour de ngIfH1Fixed"),t(),n(31,"input",10),v("ngModelChange",function(s){return b(o.conditionTrois,s)||(o.conditionTrois=s),s}),t()(),_(32,Mu,2,1,"section",11)(33,Iu,2,1,"section",11),t()()),i&2&&(m(10),D("this.isHabilite() => this.habilitationService.isUserInCondition() = ",X(11,10,o.isHabilite()),""),m(9),S("ngModel",o.conditionUn),m(),u("ngIfH1",o.conditionUn),m(),u("ngIfH1",!o.conditionUn),m(4),S("ngModel",o.conditionDeux),m(),u("ngIfH1",o.conditionDeux),m(),u("ngIfH1",!o.conditionDeux),m(4),S("ngModel",o.conditionTrois),m(),u("ngIfH1Fixed",o.conditionTrois),m(),u("ngIfH1Fixed",!o.conditionTrois))},dependencies:[N,zt,P,q,w,V,to,ue],encapsulation:2,changeDetection:0})};function Nu(l,r){if(l&1){let i=x();n(0,"zac-form-field",14)(1,"input",15),v("ngModelChange",function(a){d(i);let s=g();return b(s.pourquoi,a)||(s.pourquoi=a),f(a)}),t()()}if(l&2){let i=g();m(),S("ngModel",i.pourquoi)}}var Tu={heureux:void 0},Vo=class l{constructor(r){this.router=r}personne=Tu;ngForm;pourquoi;onSubmit(){this.ngForm?.valid&&this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-boolean-choice"))}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-boolean-choice"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:32,vars:4,consts:[["ngForm","ngForm"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["zacAutofocus",""],["src","components/DemoBooleanChoiceComponent.html#template"],["zacErrors","",3,"ngSubmit","zacReadonly"],["label","Etes vous heureux ?",1,"choice_button","--alignement_horizontal"],["id","heureux","name","heureux","required","",3,"ngModelChange","ngModel"],["label","Mais pourquoi ?",4,"ngIf"],["type","submit",1,"button","--button_primary"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["label","Mais pourquoi ?"],["id","pourquoi","name","pourquoi","required","",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",2),e(1,` D\xE9mo du composant zac-boolean-choice (ControlValueAccessor)
`),t(),n(2,"div",3)(3,"section",4)(4,"h2",5),e(5,"Exemple"),t(),n(6,"app-source",6)(7,"form",7,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",8)(10,"zac-boolean-choice",9),v("ngModelChange",function(c){return d(a),b(o.personne.heureux,c)||(o.personne.heureux=c),f(c)}),t()(),_(11,Nu,2,1,"zac-form-field",10),n(12,"button",11),e(13,"Valider"),t()(),n(14,"p"),e(15),t()()(),n(16,"section",4)(17,"h2"),e(18,"Explications"),t(),n(19,"p"),e(20," Cet \xE9cran d\xE9montre le fonctionnement du composant zac-boolean-choice proposant un choix oui/non pouvant \xEAtre li\xE9 a une propri\xE9t\xE9 de type boolean "),t(),p(21,"app-explication-control-value-accessor")(22,"br"),n(23,"h2"),e(24,"Param\xE8tres :"),t(),n(25,"zac-form-field",12)(26,"p"),e(27," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(28,"b"),e(29,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(30,"zac-boolean-choice",13,1),t()()()}if(i&2){let a=M(31);m(7),u("zacReadonly",a.value),m(3),S("ngModel",o.personne.heureux),m(),u("ngIf",o.personne.heureux===!1),m(4),D("R\xE9ponse donn\xE9e : ",o.personne.heureux,"")}},dependencies:[N,W,P,R,q,w,z,H,V,O,k,ae,Te,A,L,fe,oe,mt],encapsulation:2,changeDetection:0})};function Pu(l,r){if(l&1&&(n(0,"option"),e(1),t()),l&2){let i=r.$implicit;m(),De(i)}}function zu(l,r){if(l&1){let i=x();n(0,"zac-button",23),h("action",function(a){d(i);let s=g();return f(s.onAction(a))}),t()}if(l&2){let i=g();u("name",i.buttonName)}}function Au(l,r){if(l&1){let i=x();n(0,"zac-button",24),h("action",function(a){d(i);let s=g();return f(s.onAction(a))}),t()}if(l&2){let i=g(),o=M(27),a=M(32);u("name",i.buttonName)("label",o.value)("title",a.value)("ariaLabel",a.value)}}function Fu(l,r){if(l&1){let i=x();n(0,"zac-button",25),h("action",function(a){d(i);let s=g();return f(s.onAction(a))}),t()}if(l&2){let i=g();u("config",i.config)}}var Oo=class l{faLockOpen=hs;buttonName="Primary";allButtonsDefs=oo;buttonNames=Object.keys(this.allButtonsDefs);config={label:"Coucou",classes:"--button_tertiary",iconName:"exclamationTriangle",iconPosition:"left"};constructor(){}onChange(r){}onAction(r){window.alert(`Button ${r}`)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-button"]],decls:75,vars:17,consts:[["label","ngModel"],["ariaLabel","ngModel"],["ariaRole","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],["src","components/DemoButtonComponent.html#template"],[1,"form_field_wrapper"],["for","buttonName"],[1,"input_select"],["id","buttonName","name","buttonName",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"name","action",4,"ngIf"],["for","label"],["id","label","name","label","ngModel","Mon Label est mieux"],["for","ariaLabel"],["id","ariaLabel","name","ariaLabel","ngModel","Le label est vraiment mieux"],["for","ariaRole"],["id","ariaRole","name","ariaRole","ngModel","link"],["ariaRole","link",3,"name","label","title","ariaLabel","action",4,"ngIf"],["actionValue","Custom","ariaRole","link",3,"config","action",4,"ngIf"],["label","Reserver","actionValue","Custom",3,"action","icon"],[3,"action","name","disabled"],[1,"demo-section"],[3,"action","name"],["ariaRole","link",3,"action","name","label","title","ariaLabel"],["actionValue","Custom","ariaRole","link",3,"action","config"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",3),e(1,"D\xE9mo d'usage du composant zac-button"),t(),n(2,"div",4)(3,"section")(4,"h2"),e(5,"D\xE9mo"),t(),n(6,"app-source",5)(7,"article")(8,"h3"),e(9,"Bouton nomm\xE9 parmi une liste pr\xE9d\xE9finie"),t(),n(10,"div",6)(11,"zac-label",7),e(12,"param\xE8tre 'name',"),t(),n(13,"span"),e(14),K(15,"json"),t(),n(16,"div",8)(17,"select",9),v("ngModelChange",function(c){return d(a),b(o.buttonName,c)||(o.buttonName=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onChange(c))}),_(18,Pu,2,1,"option",10),t()()(),_(19,zu,1,1,"zac-button",11),t(),n(20,"article")(21,"h3"),e(22," Bouton nomm\xE9 avec un label, un title et un aria-label red\xE9fini (en plus du 'name') "),t(),n(23,"div",6)(24,"zac-label",12),e(25,"param\xE8tre 'label' :"),t(),p(26,"input",13,0),t(),n(28,"div",6)(29,"zac-label",14),e(30,"Attribut 'ariaLabel' :"),t(),p(31,"input",15,1),t(),n(33,"div",6)(34,"zac-label",16),e(35,"Attribut 'ariaRole' :"),t(),p(36,"input",17,2),t(),_(38,Au,1,4,"zac-button",18),t(),n(39,"article")(40,"h3"),e(41," Bouton configur\xE9 par un objet de type 'ButtonConfig'. "),t(),n(42,"p"),e(43),K(44,"json"),t(),_(45,Fu,1,1,"zac-button",19),n(46,"p"),e(47),K(48,"json"),t()(),n(49,"article")(50,"h3"),e(51," Bouton dont l'instance d'ic\xF4ne est directement pass\xE9e par l'application (customisation hors DS) "),t(),n(52,"zac-button",20),h("action",function(c){return d(a),f(o.onAction(c))}),t(),n(53,"p"),e(54,"Limites :"),t(),n(55,"ul")(56,"li"),e(57,"zac-ng-lib n'a aucune connaissance de cette impl\xE9mentation et en est compl\xE8tement ind\xE9pendant."),t(),n(58,"li"),e(59,"Fonctionne actuellement avec les IconDefinition de la lib par d\xE9faut @fortawesome."),t(),n(60,"li"),e(61,"zac-ng-lib ne garantit pas le maintient de ce fonctionnement pour une autre lib ou si la lib par d\xE9faut n'est plus @fortawesome "),t(),n(62,"li"),e(63,"Aucune variabilit\xE9 en fonction du th\xE8me"),t()()(),n(64,"article")(65,"h3"),e(66,"Bouton disabled"),t(),n(67,"zac-button",21),h("action",function(c){return d(a),f(o.onAction(c))}),t()()()(),n(68,"section",22)(69,"h2"),e(70,"Intention"),t(),n(71,"p"),e(72," Il s'agit essentiellement ici d'un composant utilitaire permettant de d\xE9clarer simplement des boutons standards '\xE0 la charte' sans avoir \xE0 pr\xE9ciser les bonnes classes de css et d'ic\xF4nes, soit parmi une liste de boutons pr\xE9d\xE9finie, soit en donnant en param\xE8tres ses caract\xE9ristiques d\xE9taill\xE9es. "),t(),n(73,"p"),e(74,"Dans le premier cas (bouton standard du DS) l'apparence va s'adapter au Design System utilis\xE9 : couleurs et ic\xF4nes vont ainsi changer en fonction du DS."),t()()()}i&2&&(m(14),D("parmis les valeurs suivantes : ",X(15,11,o.buttonNames)," "),m(3),S("ngModel",o.buttonName),m(),u("ngForOf",o.buttonNames),m(),u("ngIf",o.buttonName),m(19),u("ngIf",o.buttonName),m(5),D("param\xE8tre 'config' = ",X(44,13,o.config),""),m(2),u("ngIf",o.buttonName),m(2),D(" Il est aussi possible de rajouter des configs pr\xE9d\xE9finies a 'ALL_BUTTON_DEFINITION' = ",X(48,15,o.allButtonsDefs)," "),m(5),u("icon",o.faLockOpen),m(15),u("name",o.buttonName)("disabled",!0))},dependencies:[N,St,W,ge,P,In,Nn,q,Mn,w,V,A,ue,Oe],styles:[`article h3{text-decoration:underline}article+article{margin-top:2rem}article .form_field_wrapper{margin-top:1rem}
`],encapsulation:2,changeDetection:0})};var Lo=class l{onClick(){window.alert("Vous avez cliqu\xE9")}onAction(){window.alert("Vous avez actionn\xE9")}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-card"]],decls:68,vars:4,consts:[["actionnable","ngModel"],[1,"main-container"],[1,"demo-title-section"],[1,"demo-section_reverse"],["src","components/DemoCardComponent.html#template"],["zacCard","",1,"--flex_row","--flex_main_axis_space_between",3,"action","actionnable"],[1,"mois"],[3,"iconName"],[1,"info"],["zacCard","","role","link",1,"--flex_row","--flex_main_axis_space_between",3,"action"],[1,"demo-section"],[1,"form_field_wrapper"],["for","actionnable"],[1,"label-hint"],["id","actionnable","name","actionnable","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"main",1)(1,"h1",2),e(2,"D\xE9mo d'usage de la directive zacCard"),t(),n(3,"div",3)(4,"section")(5,"h2"),e(6,"D\xE9mo"),t(),n(7,"app-source",4)(8,"p"),e(9,"Une carte avec le param\xE8tre "),n(10,"b"),e(11,"actionnable"),t()(),n(12,"article",5),h("action",function(){return d(a),f(o.onAction())}),n(13,"div",6),p(14,"zac-icon",7),n(15,"span"),e(16,"D\xE9cembre 2020"),t()(),n(17,"span",8),e(18,"Dossier en cours d'\xE9tude"),t()(),n(19,"p"),e(20,"Une carte sans le param\xE8tre "),n(21,"b"),e(22,"actionnable"),t()(),n(23,"article",9),h("action",function(){return d(a),f(o.onAction())}),n(24,"div",6),p(25,"zac-icon",7),n(26,"span"),e(27,"D\xE9cembre 2020"),t()(),n(28,"span",8),e(29,"320 \u20AC"),t()(),n(30,"p"),e(31,"Une carte avec un "),n(32,"code"),e(33,'role="link"'),t()(),n(34,"article",9),h("action",function(){return d(a),f(o.onAction())}),n(35,"div",6),p(36,"zac-icon",7),n(37,"span"),e(38,"enregistrer mon document"),t()()()()(),n(39,"section",10)(40,"h2"),e(41,"Usage"),t(),n(42,"p"),e(43," Une Card est un \xE9l\xE9ment qui est par native cliquable dans son ensemble. "),t(),n(44,"p"),e(45," Il existe n\xE9anmoins une directive "),n(46,"code")(47,"b"),e(48,"zacCard"),t()(),e(49," qui sert essentiellement a positionner automatiquement la classe '.card' et un role=button par d\xE9faut et tabindex=0 qui rend la Card focusable, et cliquable par d\xE9faut. On peut toutefois utiliser le param\xE8tre de directive "),n(50,"code")(51,"b"),e(52,"actionnable"),t(),e(53,"='false'"),t(),e(54," pour d\xE9sactiver le clic. "),t(),n(55,"p"),e(56," Un \xE9v\xE8nement "),n(57,"code"),e(58,"action"),t(),e(59," est tir\xE9 d\xE8s lors que la Card est actionn\xE9, \xE0 la souris (click) ou au clavier (Enter & Spacebar) "),t(),p(60,"br"),n(61,"div",11)(62,"zac-label",12),e(63,"Actionnable : true | false"),t(),n(64,"p",13),e(65," Si actionnable, le composant devient focusable au clavier. "),t(),p(66,"input",14,0),t()()()()}if(i&2){let a=M(67);m(12),u("actionnable",a.value),m(2),u("iconName","exclamationTriangle"),m(11),u("iconName","save"),m(11),u("iconName","save")}},dependencies:[N,P,q,w,V,Bn,ue,A,zn],styles:[`.zac-icon{color:var(--dt-color-danger);margin-right:1rem}
`],encapsulation:2,changeDetection:0})};var Ru=()=>["/configuration"],Jt=class l{constructor(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-explication-config"]],decls:13,vars:2,consts:[[3,"routerLink"]],template:function(i,o){i&1&&(p(0,"br"),n(1,"p")(2,"b"),e(3,"Configuration overridable :"),t(),e(4," Ce composant (de type "),n(5,"code"),e(6,"ConfigurableZacComponent"),t(),e(7,", c.a.d. composant angular avec une propri\xE9t\xE9 statique ConfigToken) poss\xE8de une configuration par d\xE9faut overridable par les applications au niveau NgModule ou Component via la function "),n(8,"code"),e(9,"configureZac(componentType: ComponentWithConfigToken, configDatas: Partial<CONFIG>)"),t(),e(10,". Cf "),n(11,"a",0),e(12,"Configuration."),t()()),i&2&&(m(11),u("routerLink",G(1,Ru)))},dependencies:[he],encapsulation:2})};var ba=()=>({updateOn:"blur"}),Bo=class l{set validationButtons(r){typeof r=="string"?this._validationButtons=this.coerceToArray(r):this._validationButtons=r}set abandonButtons(r){typeof r=="string"?this._abandonButtons=this.coerceToArray(r):this._abandonButtons=r}get validationButtons(){return this._validationButtons}get abandonButtons(){return this._abandonButtons}buttonNames=Object.keys(oo);_validationButtons=["Suivant","Precedent"];_abandonButtons=["ContinuerPlusTard","Abandonner"];navigationRole=void 0;constructor(r){console.debug("DemoControlBarComponent config=",r)}onSubmit(r){alert("Form submitted on "+JSON.stringify(r))}onButton(r){alert("Button clicked ="+r)}coerceToArray(r){if(!(!r||r===""))return r.split(",")}static \u0275fac=function(i){return new(i||l)(y(ce.ConfigToken))};static \u0275cmp=E({type:l,selectors:[["app-demo-control-bar"]],features:[Ie([])],decls:74,vars:16,consts:[[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoControlBarComponent.html#template"],[3,"ngSubmit"],[1,"form_field_wrapper"],["for","validationButtonNames"],["id","validationButtonNames","name","validationButtonNames",3,"ngModelChange","ngModel","ngModelOptions"],["for","abandonButtonNames"],["id","abandonButtonNames","name","abandonButtonNames",3,"ngModelChange","ngModel","ngModelOptions"],["for","navigationRole"],["id","navigationRole","name","navigationRole",3,"ngModelChange","ngModel","ngModelOptions"],[3,"action","validationButtonNames","abandonButtonNames","navigationRole"],[3,"action","navigationRole"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2,"D\xE9mo d'usage du composants zac-control-bar"),t(),n(3,"div",1)(4,"section",2)(5,"h2"),e(6,"D\xE9mo"),t(),n(7,"app-source",3)(8,"article")(9,"h3"),e(10,"Barre de contr\xF4le"),t(),n(11,"form",4),h("ngSubmit",function(s){return o.onSubmit(s)}),n(12,"p"),e(13),K(14,"json"),t(),n(15,"p"),e(16,"La liste des d\xE9finitions peut \xEAtre augment\xE9e programmatiquement en ajoutant des entr\xE9es a 'ALL_BUTTON_DEFINITIONS'."),t(),n(17,"div",5)(18,"zac-label",6),e(19,"param\xE8tre 'validationButtonNames':ButtonName[]"),t(),n(20,"input",7),v("ngModelChange",function(s){return b(o.validationButtons,s)||(o.validationButtons=s),s}),t()(),n(21,"div",5)(22,"zac-label",8),e(23,"param\xE8tre 'abandonButtonNames' : ButtonName[]"),t(),n(24,"input",9),v("ngModelChange",function(s){return b(o.abandonButtons,s)||(o.abandonButtons=s),s}),t()(),n(25,"div",5)(26,"zac-label",10),e(27,"param\xE8tre 'navigationRole' : boolean"),t(),n(28,"input",11),v("ngModelChange",function(s){return b(o.navigationRole,s)||(o.navigationRole=s),s}),t(),n(29,"p"),e(30,"Permet de pr\xE9ciser si la barre doit porter le r\xF4le de navigation, par d\xE9faut c'est le cas"),t()(),n(31,"h2"),e(32,"Control bar avec passage des param\xE8tres validationButtonNames et abandonButtonNames"),t(),n(33,"zac-control-bar",12),h("action",function(s){return o.onButton(s)}),t(),n(34,"h2"),e(35,"Control bar "),n(36,"b"),e(37,"sans"),t(),e(38," passage des param\xE8tres validationButtonConfig et abandonButtonConfig - valeurs par d\xE9faut selon le th\xE8me ou la conf d'override"),t(),n(39,"zac-control-bar",13),h("action",function(s){return o.onButton(s)}),t()()()()(),n(40,"section",2)(41,"h2"),e(42,"Intention"),t(),n(43,"p"),e(44,"Il s'agit essentiellement d'un composant utilitaire permettant de d\xE9clarer simplement une control bar \xE0 'la charte' sans avoir \xE0 coder la bonne structure html & css (assez complexe car g\xE9rant le responsive et le nombre de boutons."),t(),n(45,"p"),e(46,"A noter que ce composant \xE9met l'\xE9v\xE8nement "),n(47,"code")(48,"b"),e(49,"button"),t()(),e(50," porteur du "),n(51,"code")(52,"b"),e(53,"name"),t()(),e(54," du bouton d\xE9clench\xE9."),t(),n(55,"p"),e(56,"A noter qu'il est aussi possible de passer directement des arrays de "),n(57,"code"),e(58,"ButtonConfig"),t(),e(59," via les param\xE8tres "),n(60,"code"),e(61,"validationButtonConfig"),t(),e(62," et "),n(63,"code"),e(64,"abandonButtonConfig"),t()(),p(65,"app-explication-config"),n(66,"p"),e(67,"Comme on le voit ci-dessous cela permet d'overrider la configuration par d\xE9faut des noms de boutons."),t(),n(68,"pre"),e(69,`
@Component({
  selector : 'app-demo-control-bar',
      ...
  imports: [
          ControlBarComponent,
          ...
          ],
  providers: [
    /**
     * Overriding de niveau Component de la conf par d\xE9faut zac.
     */
    configure(ControlBarComponent, {
        validationButtonNames: ['Primary'],
        abandonButtonNames: ['ContinuerPlusTard']
    })
  ]
      `),t(),n(70,"p")(71,"b"),e(72,"NB :"),t(),e(73," si vous enlevez ci-dessous la valeur de chaque param\xE8tre, alors le composant utilisera sa configuration surcharg\xE9e au niveau component comme dans le code ci-dessus. "),t()()()()),i&2&&(m(13),D("Les noms des boutons sont a prendre parmis les valeurs suivantes : ",X(14,11,o.buttonNames),""),m(7),S("ngModel",o.validationButtons),u("ngModelOptions",G(13,ba)),m(4),S("ngModel",o.abandonButtons),u("ngModelOptions",G(14,ba)),m(4),S("ngModel",o.navigationRole),u("ngModelOptions",G(15,ba)),m(5),u("validationButtonNames",o.validationButtons)("abandonButtonNames",o.abandonButtons)("navigationRole",o.navigationRole),m(6),u("navigationRole",o.navigationRole))},dependencies:[N,ge,P,R,q,w,z,V,O,ue,ae,A,Jt,ce],encapsulation:2,changeDetection:0})};var wm={},ko=class l{constructor(r){this.router=r}ngForm;date;ngOnInit(){this.date=wm}onSubmit(){this.ngForm.valid&&(this.date&&(wm=this.date),this.router.navigateByUrl("demo-error").then(()=>{this.router.navigateByUrl("demo-date")}))}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-date"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:57,vars:9,consts:[["ngForm","ngForm"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoDateComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Type Date (min='01/01/1900' max='today')",3,"readonly"],["id","date","name","date","zacAutofocus","","min","01/01/1900","max","today","format","fr","isDateNaissance","true",3,"ngModelChange","ngModel"],["label","Type string format fr (min='01/01/1900' max='today')",3,"readonly"],["id","dateFr","name","dateFr","preferredValueType","string","min","01/01/1900","max","today","format","fr",3,"ngModelChange","ngModel"],["label","Type string format iso (min='1900-01-01' max='today')",3,"readonly"],["id","dateIso","name","dateIso","preferredValueType","string","min","1900-01-01","max","today","format","iso",3,"ngModelChange","ngModel"],["type","submit",1,"button","--button_primary"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",2),e(1,"D\xE9mo du composant zac-date"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5)(7,"form",6,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",7)(10,"zac-date",8),v("ngModelChange",function(c){return d(a),b(o.date.date,c)||(o.date.date=c),f(c)}),t()(),n(11,"zac-form-field",9)(12,"zac-date",10),v("ngModelChange",function(c){return d(a),b(o.date.dateFr,c)||(o.date.dateFr=c),f(c)}),t()(),n(13,"zac-form-field",11)(14,"zac-date",12),v("ngModelChange",function(c){return d(a),b(o.date.dateIso,c)||(o.date.dateIso=c),f(c)}),t()(),n(15,"button",13),e(16,"Valider"),t()(),n(17,"p"),e(18),t(),n(19,"p"),e(20),t(),n(21,"p"),e(22),t()()(),n(23,"section",4)(24,"h2"),e(25,"Explications"),t(),n(26,"p"),e(27,"Ce composant permet de saisir une date dans un seul champ et/ou de la s\xE9lectionner via un date picker, et de la lier a une propri\xE9t\xE9 de type Date ou de type string, avec pour ce dernier le choix entre le format 'fr' ('JJ/MM/AAAA') ou 'iso' ('yyyy-mm-dd')."),t(),p(28,"app-explication-control-value-accessor"),n(29,"p"),e(30,"L'impl\xE9mentation de ce composant est bas\xE9e sur un "),n(31,"code"),e(32,"input type='date'"),t(),e(33," natif, ce qui limite ses possibilit\xE9s \xE0 ce qui est faisable pour chaque navigateur."),t(),p(34,"br"),n(35,"p"),e(36,"Ce composant accepte les m\xEAmes param\xE8tres que zac-date3"),t(),n(37,"ul")(38,"li"),e(39,"preferredValueType pour choisir entre 'Date' et 'string'"),t(),n(40,"li"),e(41,"format pour choisir entre 'fr' et 'iso' si preferredValueType='string'"),t(),n(42,"li"),e(43,"min et max pour fixer des bornes, exprim\xE9es par une string selon le format ('today' accept\xE9)"),t(),n(44,"li"),e(45,"isDateNaissance pour indiquer si la date est une date de naissance"),t()(),p(46,"br"),n(47,"section",4)(48,"h2"),e(49,"Param\xE8tres"),t(),n(50,"zac-form-field",14)(51,"p"),e(52," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(53,"b"),e(54,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(55,"zac-boolean-choice",15,1),t()()()()}if(i&2){let a=M(56);m(9),u("readonly",a.value),m(),S("ngModel",o.date.date),m(),u("readonly",a.value),m(),S("ngModel",o.date.dateFr),m(),u("readonly",a.value),m(),S("ngModel",o.date.dateIso),m(4),D(" Valeur de date : ",o.date.date," "),m(2),D(" Valeur de dateFr : ",o.date.dateFr," "),m(2),D(" Valeur de dateIso : ",o.date.dateIso," ")}},dependencies:[P,R,w,z,V,O,k,fe,ao,ae,Te,A,L,oe,ro],encapsulation:2,changeDetection:0})};var qu=()=>({updateOn:"blur"}),Vu=()=>({jour:"02",mois:"12",annee:"1998"});function Ou(l,r){if(l&1){let i=x();n(0,"form",9,1),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(2,"zac-form-field",10)(3,"input",11),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.nom,a)||(s.personne.nom=a),f(a)}),t()(),n(4,"zac-form-field",12)(5,"zac-label",13),e(6," Date, sans auto tabulation et avec exemples standard : "),n(7,"zac-button",14),h("action",function(){d(i);let a=g();return f(a.resetDateNaissance())}),t()(),n(8,"zac-date3",15),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.naissance.dateNaissance,a)||(s.personne.naissance.dateNaissance=a),f(a)}),t()(),n(9,"zac-form-field",16)(10,"zac-date3",17),v("ngModelChange",function(a){d(i);let s=g();return b(s.dateIso,a)||(s.dateIso=a),f(a)}),t()(),n(11,"zac-form-field",18)(12,"zac-date3",19),v("ngModelChange",function(a){d(i);let s=g();return b(s.dateContrainte,a)||(s.dateContrainte=a),f(a)}),t(),n(13,"p",20),e(14,' Attention, signalement de "d\xE9placement du curseur automatique" \xE0 la charge du code m\xE9tier '),t()(),n(15,"zac-form-field",21)(16,"zac-hour",22),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.naissance.heureNaissance,a)||(s.personne.naissance.heureNaissance=a),f(a)}),t()(),n(17,"zac-form-field",12)(18,"zac-label",23),e(19,"Date li\xE9 a une propri\xE9t\xE9 de type Date contrainte entre 01/01/1900 et la date du jour, sans labels d'exemple "),t(),n(20,"zac-date3",24),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.dateDate,a)||(s.personne.dateDate=a),f(a)}),t()(),n(21,"button",25),e(22,"Valider"),t()()}if(l&2){let i=g(),o=M(86);u("ngFormOptions",G(17,qu)),m(2),u("readonly",o.value),m(),S("ngModel",i.personne.nom),m(),u("readonly",o.value),m(4),S("ngModel",i.personne.naissance.dateNaissance),m(),u("readonly",o.value),m(),S("ngModel",i.dateIso),m(),u("readonly",o.value),m(),S("ngModel",i.dateContrainte),u("autoTab",!0)("exempleLabels",G(18,Vu)),Ze("aria-describedby","attention"),m(3),u("readonly",o.value),m(),S("ngModel",i.personne.naissance.heureNaissance),m(),u("readonly",o.value),m(3),S("ngModel",i.personne.dateDate),u("exempleLabels",null)}}var Lu={naissance:{dateNaissance:"01/01/1970",heureNaissance:"13:57"}},Mm,Im,Go=class l{constructor(r){this.router=r}personne;ngForm;dateContrainte;dateIso;ngOnInit(){this.personne=Lu,this.dateContrainte=Mm,this.dateIso=Im}onSubmit(){this.ngForm.valid&&(Mm=this.dateContrainte,Im=this.dateIso,this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-date3")))}resetDateNaissance(){this.personne.naissance.dateNaissance=void 0}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-date3"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},features:[Ie([])],decls:87,vars:6,consts:[["readOnly","ngModel"],["ngForm","ngForm"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoDate3Component.html#template"],["zacErrors","",3,"ngFormOptions","ngSubmit",4,"ngIf"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["zacErrors","",3,"ngSubmit","ngFormOptions"],["label","Nom :",3,"readonly"],["id","nom","name","nom","required","",3,"ngModelChange","ngModel"],[3,"readonly"],["id","l-date","for","date"],["title","reset","name","Tertiary","label","","zacIcon","trash",3,"action"],["id","date","name","date","required","","isDateNaissance","true",3,"ngModelChange","ngModel"],["label","Date au format interne iso",3,"readonly"],["name","dateIso","zacDate10","","format","iso",3,"ngModelChange","ngModel"],["label",`Date contrainte entre '01/01/1900' et date du jour ('today'), avec
            auto-tabulation, et des exemples customis\xE9s:`,3,"readonly"],["id","date2","name","date2","required","","min","01/01/1900","max","today","format","fr",3,"ngModelChange","ngModel","autoTab","exempleLabels"],["id","attention"],["label","Heure :",3,"readonly"],["id","heure","name","heure","zacHour5","","required","",3,"ngModelChange","ngModel"],["id","l-dateD","for","dateD"],["id","dateD","name","dateD","preferredValueType","Date","required","","zacDate10Period","","dateMin","01/01/1900","dateMax","today","format","fr",3,"ngModelChange","ngModel","exempleLabels"],["type","submit",1,"button","--button_primary"]],template:function(i,o){i&1&&(n(0,"h1",2),e(1,` D\xE9mo des composant zac-date3 et zac-hour (ControlValueAccessor)
`),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5),_(7,Ou,23,19,"form",6),n(8,"p"),e(9),t(),n(10,"p"),e(11),t(),n(12,"p"),e(13),t(),n(14,"p"),e(15),t(),n(16,"p"),e(17),t()()(),n(18,"section",4)(19,"h2"),e(20,"Explications"),t(),n(21,"p"),e(22," Cet \xE9cran d\xE9montre le fonctionnement des composant zac-date3 et zac-hour permettant de saisir une date sous forme de 3 champs jour, mois, ann\xE9e et une heure sous forme de 2 champs pour les heures et minutes. "),t(),p(23,"app-explication-control-value-accessor"),n(24,"b"),e(25,"Attention :"),t(),e(26," Ces composants ne font intrins\xE8quement aucun contr\xF4le des valeurs saisie, ce n'est pas leur r\xF4le et ce n'est pas la philosophie des ControlValueAccessor : c'est le r\xF4le des contraintes de validation pos\xE9e au niveau de son utilisation dans le template, comme dans l'exemple ci-dessous ou on utilise une directive de validation date10 ou hour5. "),p(27,"br"),e(28," Cependant les composant compl\xE8te les champs avec un z\xE9ro devant (jj et mm / hh et mm). "),n(29,"p")(30,"b"),e(31,"Tabulation automatique"),t()(),n(32,"p"),e(33," Le composant peut tabuler automatiquement vers le champ suivant lorsque l'utilisateur saisi 2 caract\xE8res pour le jour et le mois, pour peu de mettre "),n(34,"code"),e(35,"autoTab=true"),t(),e(36," sur le composant ou globalement "),n(37,"code"),e(38,"ZacDateModule.forConfig({{autoTab: true})"),t(),e(39,". Attention il est laiss\xE9 \xE0 la charge du code applicatif de pr\xE9venir l'utilisateur de ce comportement s'il le souhaite. Par d\xE9faut ce comportement est d\xE9sactiv\xE9. "),t(),n(40,"p")(41,"b"),e(42,"Valeur d'exemple"),t()(),n(43,"p"),e(44," Par d\xE9faut le composant affichera automatiquement en dessous des labels Jour, Mois et Ann\xE9e des exemples standard de valeur. Ce comportement par d\xE9faut peut \xEAtre d\xE9sactiv\xE9 en mettant "),n(45,"code"),e(46,"exempleLabels=null"),t(),e(47," ou on peut aussi donner d'autres labels d'exemple via un objet d\xE9finissant les propri\xE9t\xE9s jour, mois et ann\xE9e, sur le composant ou globalement "),n(48,"code"),e(49,"ZacDateModule.forConfig({{exempleLabels: ...})"),t(),e(50,". "),t(),n(51,"p")(52,"b"),e(53,"Type de la valeur"),t()(),n(54,"p"),e(55," Par ailleurs le composant Date3Component permet un binding sur une propri\xE9t\xE9 de type String selon la propri\xE9t\xE9 format 'fr' ('JJ/MM/AAAA') ou format 'iso' ('yyyy-mm-dd') "),n(56,"b"),e(57,"ou"),t(),e(58," de type Date. "),p(59,"br"),e(60," Le bon type est d\xE9duit runtime du type de la valeur interne, cependant la propri\xE9t\xE9 "),n(61,"code"),e(62,"preferredValue = 'Date'|'String'"),t(),e(63," permet de pr\xE9ciser quel type utiliser au cas ou la valeur interne initiale est non d\xE9finie. "),t(),n(64,"p")(65,"b"),e(66,"Date de naissance"),t()(),n(67,"p"),e(68," Si vous mettez le param\xE8tre "),n(69,"code"),e(70,"isDateNaissance=true"),t(),e(71,", l'attribut html autocomplete sera positionn\xE9 a bday-[day|month|year] afin de favoriser la suggestion de valeur par le navigateur. "),t(),n(72,"p")(73,"b"),e(74,"Attention"),t(),e(75,` \xE0 la validit\xE9 des propri\xE9t\xE9s li\xE9es : De fa\xE7on \xE0 conserver la s\xE9mantique des valeurs null ou undefined comme \xE9tant "non renseign\xE9", si l'utilisateur entre une valeur incorrecte c'est bien celle-ci qui sera valoris\xE9e dans la propri\xE9t\xE9 m\xE9tier. Il est donc important avant toute manipulation m\xE9tier d'une date recup\xE9r\xE9e avant validation, sur un (valueChange) par example, de tester la validit\xE9 de cette instance avec la fonction `),n(76,"code"),e(77,"DateUtil.isInvalidDate(date: string|Date)"),t()(),n(78,"h2"),e(79,"Autres param\xE8tres"),t(),n(80,"zac-form-field",7)(81,"p"),e(82," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(83,"b"),e(84,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(85,"zac-boolean-choice",8,0),t()()()),i&2&&(m(7),u("ngIf",o.personne&&o.personne.naissance),m(2),D(" Valeur de personne.dateNaissance : ",o.personne.naissance.dateNaissance," "),m(2),D(" Valeur de la date au format iso : ",o.dateIso," "),m(2),D(" Valeur de la date contrainte : ",o.dateContrainte," "),m(2),D(" Valeur de personne.heureNaissance : ",o.personne.naissance.heureNaissance," "),m(2),D("Valeur de type Date : ",o.personne.dateDate,""))},dependencies:[N,W,P,R,q,w,z,H,V,O,Fn,k,ae,Te,A,Oe,L,ue,Vn,Rn,ro,lo,ys,oe],encapsulation:2,changeDetection:0})};function Bu(l,r){l&1&&(n(0,"span",27),e(1,"Ce champ est requis"),t())}function ku(l,r){l&1&&(n(0,"span",27),e(1," Ce num\xE9ro de s\xE9curit\xE9 sociale doit contenir 13 caract\xE8res."),t())}function Gu(l,r){l&1&&(n(0,"span",27),e(1," Ce num\xE9ro de s\xE9curit\xE9 sociale est incorrect"),t())}function ju(l,r){l&1&&(n(0,"span",27,2),e(2," Ce num\xE9ro de s\xE9curit\xE9 sociale est invalide"),t())}function Wu(l,r){if(l&1&&_(0,ju,3,0,"span",28),l&2){let i=g(5);u("ngIf",i.autreNirCtl==null?null:i.autreNirCtl.hasError("nirluhn"))}}function Hu(l,r){if(l&1&&_(0,Gu,2,0,"span",26)(1,Wu,1,1,"ng-template",null,2,Sn),l&2){let i=M(2),o=g(4);u("ngIf",o.autreNirCtl==null?null:o.autreNirCtl.hasError("nirpattern"))("ngIfElse",i)}}function Uu(l,r){if(l&1&&_(0,ku,2,0,"span",26)(1,Hu,3,2,"ng-template",null,1,Sn),l&2){let i=M(2),o=g(3);u("ngIf",o.autreNirCtl==null?null:o.autreNirCtl.hasError("nirlength15"))("ngIfElse",i)}}function Zu(l,r){if(l&1&&_(0,Bu,2,0,"span",26)(1,Uu,3,2,"ng-template",null,0,Sn),l&2){let i=M(2),o=g(2);u("ngIf",o.autreNirCtl==null?null:o.autreNirCtl.hasError("required"))("ngIfElse",i)}}function Qu(l,r){if(l&1){let i=x();n(0,"div",29)(1,"div",10)(2,"zac-label",30),e(3,"Date de naissance"),t(),n(4,"input",31),v("ngModelChange",function(a){d(i);let s=g().ngIf;return b(s.naissance.dateNaissance,a)||(s.naissance.dateNaissance=a),f(a)}),t(),n(5,"span"),e(6,"\xA0[required] [zacDate10] "),t(),p(7,"p",32),t()()}if(l&2){let i=g().ngIf;m(4),S("ngModel",i.naissance.dateNaissance)}}function Ju(l,r){if(l&1){let i=x();n(0,"form",9),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(1,"div",10)(2,"zac-label",11),e(3,"Nom de la personne"),t(),n(4,"input",12),v("ngModelChange",function(a){let s=d(i).ngIf;return b(s.nom,a)||(s.nom=a),f(a)}),t(),n(5,"span"),e(6,'\xA0[required] [minlength="3"] [maxlength="20"]'),t(),p(7,"p",13),t(),n(8,"div",10)(9,"zac-label",14),e(10,"Nombre d'enfant"),t(),n(11,"input",15),v("ngModelChange",function(a){let s=d(i).ngIf;return b(s.nombreEnfant,a)||(s.nombreEnfant=a),f(a)}),t(),n(12,"span"),e(13,'\xA0[required] [type=number] [min="0"] [max="6"] '),t(),p(14,"p",16),t(),n(15,"div",10)(16,"zac-label",17),e(17,"Nir de la personne"),t(),n(18,"input",18),v("ngModelChange",function(a){let s=d(i).ngIf;return b(s.nir,a)||(s.nir=a),f(a)}),t(),n(19,"span"),e(20," [required] [zacNir15]"),t(),p(21,"p",19),t(),n(22,"div",10)(23,"zac-label",20),e(24,"Pareil "),n(25,"b"),e(26,"sans"),t(),e(27," zacDisplayError"),t(),n(28,"input",21),v("ngModelChange",function(a){d(i);let s=g();return b(s.autreNir,a)||(s.autreNir=a),f(a)}),t(),n(29,"span"),e(30," [required] [zacNir15]"),t(),n(31,"p",22),_(32,Zu,3,2,"ng-template",23),t()(),_(33,Qu,8,1,"div",24),n(34,"button",25),e(35,"Soumettre"),t(),n(36,"span"),e(37),K(38,"json"),t()()}if(l&2){let i=r.ngIf,o=g();m(4),S("ngModel",i.nom),m(7),S("ngModel",i.nombreEnfant),u("min",0)("max",6),m(7),S("ngModel",i.nir),m(10),S("ngModel",o.autreNir),m(4),u("ngIf",(o.autreNirCtl==null?null:o.autreNirCtl.invalid)&&(o.autreNirCtl==null?null:o.autreNirCtl.touched)),m(),u("ngIf",i&&i.naissance),m(4),D(" Entit\xE9 soumise : ",X(38,9,o.personneSoumise),"")}}var jo=class l{$personne;personneSoumise;autreNir;ngForm;constructor(){}ngOnInit(){this.$personne=Et("").pipe(un(1e3),We(r=>new ie))}onSubmit(){this.ngForm.valid&&(this.personneSoumise=dt({},this.ngForm.value))}get autreNirCtl(){return this.ngForm?.form?.controls.autreNir}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-test-display-error"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:49,vars:3,consts:[["else1",""],["else2",""],["else3",""],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoDisplayErrorDirectiveComponent.html#template"],["zacErrors","",3,"ngSubmit",4,"ngIf"],["zacAutofocus","","silently","false",1,"demo-section"],[1,"--evidence-focus"],["zacErrors","",3,"ngSubmit"],[1,"form_field_wrapper"],["for","nom"],["id","nom","name","nom","required","","minlength","3","maxlength","20","aria-describedby","error-nom",3,"ngModelChange","ngModel"],["id","error-nom","zacDisplayError","nom",1,"error"],["for","nombreEnfant"],["type","number","id","nombreEnfant","name","nombreEnfant","required","","aria-describedby","error-nombreEnfant",3,"ngModelChange","ngModel","min","max"],["id","error-nombreEnfant","zacDisplayError","nombreEnfant",1,"error"],["for","nir"],["id","nir","name","nir","required","","zacNir15","","aria-describedby","error-nir",3,"ngModelChange","ngModel"],["id","error-nir","zacDisplayError","nir",1,"error"],["for","autreNir"],["id","autreNir","name","autreNir","required","","zacNir13","","aria-describedby","error-autreNir",3,"ngModelChange","ngModel"],["id","error-autre-nir",1,"errors"],[3,"ngIf"],["ngModelGroup","naissance",4,"ngIf"],["type","submit",1,"button","--button_primary"],["class","error",4,"ngIf","ngIfElse"],[1,"error"],["class","error",4,"ngIf"],["ngModelGroup","naissance"],["for","dateNaissance"],["id","dateNaissance","name","dateNaissance","required","","aria-describedby","error-dateNaissance","zacDate10","",3,"ngModelChange","ngModel"],["id","error-dateNaissance","zacDisplayError","naissance.dateNaissance",1,"error"]],template:function(i,o){i&1&&(n(0,"div")(1,"h1"),e(2,"D\xE9mo des directives zacDisplayError, zacFocusError, zacAutofocus"),t(),n(3,"div",3)(4,"section",4)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",5),_(8,Ju,39,11,"form",6),K(9,"async"),t()(),n(10,"section",7)(11,"header")(12,"h2"),e(13,"Explications"),t()(),n(14,"p"),e(15,"Cet \xE9cran d\xE9montre plusieurs comportements de la librairie :"),t(),n(16,"ul")(17,"li"),e(18,"la directive "),n(19,"b"),e(20,"zacAutofocus"),t(),e(21," positionne le focus sur l'\xE9l\xE9ment cible (ici sur l'\xE9l\xE9ment article de ces explications, mis en \xE9vidence via les "),n(22,"span",8),e(23,"pointill\xE9s bleu"),t(),e(24,") "),t(),n(25,"li"),e(26,"la directive "),n(27,"b"),e(28,"zacDisplayError"),t(),e(29," affiche les messages de validation \xE0 la perte de focus ou \xE0 la soumission du formulaire, en g\xE9n\xE9rant les inserant directement comme \xE9l\xE9ment fils de l'\xE9l\xE9ment cible. Con\xE7u en particulier pour \xEAtre "),n(30,"b"),e(31,"utilisable en combinaison sur un \xE9l\xE9ment "),n(32,"code"),e(33,"mat-error"),t(),e(34," de angular mat\xE9rial"),t(),e(35,". "),p(36,"br"),e(37," A noter que les messages proviennent ici d'une constante interne mais il est possible de changer l'impl\xE9mentation de leur r\xE9cup\xE9ration en impl\xE9mentant une classe "),n(38,"code"),e(39,"AbstractDisplayErrorService"),t(),e(40,". "),t()(),n(41,"p")(42,"b"),e(43,"Attention :"),t(),e(44,"Il s'agit ici uniquement de directives, applicable sur n'importe quel \xE9l\xE9ment HTML mais ne portant aucun style particulier."),t(),n(45,"p")(46,"b"),e(47,"NB: "),t(),e(48,"Pour un composant affichant les messages d'erreur styl\xE9 \xE0 la charte, cf zac-error (qui utilise zac-display-error)"),t()()()()),i&2&&(m(8),u("ngIf",X(9,1,o.$personne)))},dependencies:[N,W,zt,ge,A,ue,bs,fe,k,P,R,q,Lt,w,z,H,Tn,Pn,Zi,Ui,V,Hi,O,Rn],styles:["article[_ngcontent-%COMP%]:focus, .--evidence-focus[_ngcontent-%COMP%]{outline:2px darkblue dashed}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:.5em;padding:.25em;border:3px outset cornflowerblue}form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;min-width:15em}.errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%] + .error[_ngcontent-%COMP%]{display:none}"]})};var xi=class l{constructor(r,i){this.router=r;this.engagementService=i;this.$engagement=this.engagementService.$engagement}$engagement;onAllerPageAvecEngagement(){this.router.navigateByUrl("demo-engagement-honneur-page-apres")}onRAZEngagement(){this.engagementService.raz()}static \u0275fac=function(i){return new(i||l)(y(U),y(Ls))};static \u0275cmp=E({type:l,selectors:[["app-demo-engagement-honneur"]],decls:95,vars:8,consts:[[1,"demo-section","demo"],[1,"button","--button_primary",3,"click"],[1,"button","--button_secondary",3,"click"],[1,"demo-section"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/33eb0b-engagement-sur-lhonneur/b/37fec0"]],template:function(i,o){i&1&&(n(0,"h1"),e(1,"D\xE9mo de la page d'engagement sur l'honneur"),t(),n(2,"section",0)(3,"button",1),h("click",function(){return o.onAllerPageAvecEngagement()}),e(4,"Aller sur la page soumise a engagement "),t(),n(5,"span")(6,"p"),e(7,"Valeur actuelle de l'engagement = "),n(8,"strong"),K(9,"async"),e(10),K(11,"async"),t()()(),n(12,"button",2),h("click",function(){return o.onRAZEngagement()}),e(13," RAZ l'engagement. "),t()(),n(14,"section",3)(15,"header")(16,"h2"),e(17,"D\xE9clenchement de la page d'engagement sur l'honneur"),t()(),n(18,"h3"),e(19,"Boostrapping via un AppModule (legacy)"),t(),n(20,"p"),e(21," Le module "),n(22,"code"),e(23,"ZacEngagementHonneurModule"),t(),e(24," exporte le composant "),n(25,"code"),e(26,"EngagementHonneurComponent"),t(),e(27," destin\xE9 a recueillir "),n(28,"b"),e(29,"l'engagement ou le refus d'engagement sur l'honneur"),t(),e(30," de l'utilisateur pr\xE9alable \xE0 certains SEL, conform\xE9ment au "),n(31,"a",4),e(32,"Design System IMSA"),t(),e(33,". "),t(),n(34,"p"),e(35," Pour mettre en place l'engagement sur l'honneur il faut donc d'abord importer le module comme ci-apr\xE8s : "),t(),n(36,"pre")(37,"code"),e(38,`
      @NgModule(
        imports: [
        .../...
        ZacEngagementHonneurModule,
        AppRoutingModule,
      ],
    `),t()(),n(39,"h3"),e(40,"Boostrapping via un AppComponent standalone (angular 15+)"),t(),n(41,"p"),e(42,"Dans ce cas il faut juste ajouter les routes d\xE9finies dans "),n(43,"code"),e(44,"EngagementHonneurRoutingModule.routes"),t(),e(45," dans la configuration des routes fournies au standalone AppComponent : "),t(),n(46,"pre")(47,"code"),e(48,`
    children: [
      {
      path: '',
      redirectTo: '/installation',
      pathMatch: 'full'
      },
      { path: 'accueil', component: AccueilComponent },
      { path: 'installation', component: InstallationComponent },
      ...EngagementHonneurRoutingModule.routes,
    `),t()(),n(49,"p"),e(50,"L'affichage de la page peut \xEAtre automatis\xE9 par la garde fournie par le module (voir plus bas) ou bien appel\xE9e programmatiquement avec "),n(51,"code"),e(52,"EngagementHonneurService.afficherDemandeEngagement()"),t(),e(53,". "),t(),n(54,"p"),e(55," La r\xE9ponse a l'engagement est d\xE9l\xE9gu\xE9 au service "),n(56,"code"),e(57,"EngagementHonneurService"),t(),e(58,", automatiquement provid\xE9 au niveau root, qui se charge de m\xE9moriser, au sein de la "),n(59,"q"),e(60,"Single Page Application"),t(),e(61,", l'\xE9tat de l'engagement et expose par ailleurs, \xE0 toutes fins utiles, un Observable bool\xE9en "),n(62,"code"),e(63,"$engagement"),t(),e(64," v\xE9hiculant le bool\xE9een signifiant l'acceptation ou le refus d'engagement, permettant ainsi aux applications d'avoir leur propre gestion de la cin\xE9matique de contr\xF4le de l'engagement. "),t(),n(65,"p")(66,"b"),e(67,"Attention : "),t(),e(68,"L'\xE9tat est m\xE9moris\xE9 au sein de la SPA uniquement, c'est \xE0 dire cot\xE9 navigateur client, tout le temps qu'est affich\xE9 sans \xEAtre rafraichie la SPA. L'\xE9ventuelle m\xE9morisation backend est en dehors du p\xE9rim\xE8tre de ce composant, mais peut-\xEAtre impl\xE9ment\xE9e applicativement en utilisant l'Observable bool\xE9en "),n(69,"code"),e(70,"EngagementHonneurService.$engagement"),t(),e(71," v\xE9hiculant le bool\xE9en signifiant l'acceptation ou le refus d'engagement. "),t(),n(72,"p")(73,"b"),e(74,"Attention :"),t(),e(75," Pour cette raison en cas de rafra\xEEchissement de la page, l'\xE9tat de la SPA est raz. Cela concerne aussi l'historique navigateur que le service utilise, par d\xE9faut, pour faire un retour arri\xE8re en cas de refus. Il est aussi possible de fournir un objet de configuration permettant de pr\xE9ciser express\xE9ment l'url de refus (attention, au niveau du provider root de l'application)"),t(),n(76,"pre")(77,"code"),e(78,`
    providers: [
    ...
    configure(EngagementHonneurComponent, {
         refusUrl: 'demo-engagement-honneur'
    })
    `),t()(),n(79,"p"),e(80," Enfin le module met \xE0 disposition une cin\xE9matique automatis\xE9e d'affichage et de recueillement de l'engagement via la garde "),n(81,"code"),e(82,"EngagementHonneurGuard"),t(),e(83," que l'on peut mettre devant toutes les pages d'un SEL pour lesquelles l'engagement est requis, ou devant toutes les filles d'une route racine, et qui (via une m\xE9thode de "),n(84,"code"),e(85,"EngagementHonneurService"),t(),e(86,") routera donc automatiquement vers la page "),n(87,"code"),e(88,"EngagementHonneurComponent"),t(),e(89," si l'engagement n'a pas encore \xE9t\xE9 recueilli (depuis le lancement du SEL). "),t(),n(90,"pre")(91,"code"),e(92,`
      `),e(93,`
      const routes: Routes = [
        &#123;
        'path': 'page-a-proteger',
        'component': PageAProtegerComponent,
        'canActivate': [EngagementHonneurGuard]
        &#125;,
        &#123;
          'path': 'page-root-a-proteger',
          'component': PageAProtegerComponent,
          'canActivateChild': [EngagementHonneurGuard],

          children: [...]
        &#125;
      ];
      `),e(94,`
    `),t()()()),i&2&&(m(8),Sl(X(9,4,o.$engagement)?"true":"false"),m(2),De(X(11,6,o.$engagement)))},dependencies:[N,zt],styles:["strong.true[_ngcontent-%COMP%]{color:green}strong.false[_ngcontent-%COMP%]{color:red}.demo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline;text-align:center}.demo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .demo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;margin:.25rem .5rem}"],changeDetection:0})};var Wo=class l{constructor(r){this.router=r}ngOnInit(){}onBack(){this.router.navigateByUrl("demo-engagement-honneur").then()}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-page-apres-engagement"]],decls:11,vars:0,consts:[[1,"demo-section"],[1,"demo-title-section"],[1,"explications"],[1,"exemple"],[1,"button_primary",3,"click"]],template:function(i,o){i&1&&(n(0,"section",0)(1,"h1",1),e(2,"Page soumise a acceptation de l'engagement sur l'honneur"),t(),p(3,"br"),n(4,"section",2)(5,"p"),e(6,"Cette page ne peut s'afficher que si l'utilisateur a accept\xE9 l'engagement sur l'honneur."),t()(),p(7,"br"),n(8,"section",3)(9,"button",4),h("click",function(){return o.onBack()}),e(10,"Revenir sur la page pr\xE9c\xE9dente"),t()()())},dependencies:[N,Gs],encapsulation:2})};var Nm=[{path:"demo-engagement-honneur",component:xi},{path:"demo-engagement-honneur-page-apres",component:Wo,canActivate:[ha]},{path:"engagement",canActivateChild:[ha],children:[{path:"demo-engagement-honneur-page-apres",component:xi}]}];function Ku(l,r){if(l&1&&(n(0,"a",3),e(1),t()),l&2){let i=g();m(),D(" Design System iMSA - ",i.DSSujet.gestion_erreur,`
`)}}function Xu(l,r){if(l&1&&(n(0,"a",4),e(1),t()),l&2){let i=g();m(),D(" Design System iMSA - ",i.DSSujet.design_erreur,`
`)}}function Yu(l,r){if(l&1&&(n(0,"a",5),e(1),t()),l&2){let i=g();m(),D(" Design System iMSA - ",i.DSSujet.messages_standard,`
`)}}var Uo=(o=>(o.gestion_erreur="Gestion des erreurs",o.design_erreur="Design des erreurs",o.messages_standard="message de validation standard",o))(Uo||{}),Ho=class l{DSSujet=Uo;sujet;constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-dslink"]],inputs:{sujet:"sujet"},decls:3,vars:3,consts:[["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/0219f0",4,"ngIf"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/29e67f",4,"ngIf"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/48580a",4,"ngIf"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/0219f0"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/29e67f"],["target","_blank","href","https://zeroheight.com/3202b1bf4/p/3456a6-gestion-des-erreurs/b/48580a"]],template:function(i,o){i&1&&_(0,Ku,2,1,"a",0)(1,Xu,2,1,"a",1)(2,Yu,2,1,"a",2),i&2&&(u("ngIf",o.sujet===o.DSSujet.gestion_erreur),m(),u("ngIf",o.sujet===o.DSSujet.design_erreur),m(),u("ngIf",o.sujet===o.DSSujet.messages_standard))},dependencies:[W],encapsulation:2})};var Zo=class l{DSSujet=Uo;constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-explication-error"]],decls:137,vars:6,consts:[[1,"demo-section"],[3,"sujet"],["routerLink","/configuration"],["href","https://git.agora.msanet/design-system/zac-ng-lib/-/blob/master/projects/zac-ng-lib/src/lib/form/form-error/error.config.ts"],[1,"p"],["href","https://git.agora.msanet/design-system/zac-ng-lib/-/blob/master/projects/zac-ng-lib/src/lib/form/form-error/display-error/internal-display-error.service.ts?ref_type=heads#L19"],["target","_blank","href","https://msainstitution.sharepoint.com/sites/iMSADesignSystemTeam/SitePages/Tuto-vid%C3%A9o---Cr%C3%A9er-un-formulaire-angular-avec-zac-ng-lib.aspx?PRIVATE_TOKEN=AyZ_Z7yD-z67b4TyXmYN"]],template:function(i,o){i&1&&(n(0,"h2"),e(1,"Explications"),t(),n(2,"section",0)(3,"p"),e(4," Cet \xE9cran d\xE9montre le comportement des composants "),n(5,"code"),e(6,"zac-errors"),t(),e(7," et "),n(8,"code"),e(9,"zac-error"),t(),e(10," responsable de la cin\xE9matique d'affichage automatique des messages de validation, d'abord \xE0 la soumission du formulaire, ensuite \xE0 la perte de focus, et de "),n(11,"b"),e(12,"fa\xE7on conforme au "),p(13,"app-dslink",1),t(),e(14," . "),t(),p(15,"br"),n(16,"ul")(17,"li"),e(18," La directive "),n(19,"code"),e(20,"zac-errors"),t(),e(21," \xE0 placer sur un "),n(22,"code"),e(23,"<form zacErrors>"),t(),e(24," est responsable de la gestion globale de la cin\xE9matique d\xE9finie par "),p(25,"app-dslink",1)(26,"app-explication-config"),e(27," Cette cin\xE9matique peut donc \xEAtre overrid\xE9e par le code applicatif via "),n(28,"code"),e(29," providers: [ configureZac(ErrorsDirective, anErrorsConfig ] "),t()(),p(30,"br"),n(31,"li"),e(32," Le composant "),n(33,"code"),e(34,"<zac-error>"),t(),e(35,", lui aussi "),n(36,"a",2),e(37,"configurable"),t(),e(38,", est \xE0 placer pour chaque champ de formulaire est responsable de l'affichage des erreurs de formulaire de ce champ conform\xE9ment au th\xE8me graphique d\xE9finit dans "),p(39,"app-dslink",1),e(40,", chaque nom de Validator \xE9tant associ\xE9 a des "),p(41,"app-dslink",1),e(42," lesquels sont "),n(43,"a",3),e(44,"donc pr\xE9d\xE9finis dans zac, mais overridable au sein du token de configuration "),n(45,"code"),e(46,"ErrorConfig"),t()(),e(47,", laquelle configuration peut donc \xEAtre modifi\xE9e par le code applicatif via "),n(48,"code"),e(49," providers: [ configureZac(ErrorComponent, anErrorConfig ]"),t(),e(50,". "),n(51,"div",4)(52,"b"),e(53,"NB : "),t(),e(54,"Ce dernier composant ne s'occupe que de l'aspect visuel et charte, l'affichage des messages et l'accessibilit\xE9 proprement dit \xE9tant d\xE9l\xE9gu\xE9s \xE0 la directive zac-display-error utilis\xE9 en interne. "),t(),n(55,"div",4),e(56," En plus du "),n(57,"code"),e(58,"configureZac"),t(),e(59," il est possible d'"),n(60,"b"),e(61,"overrider un ou plusieurs messages standard"),t(),e(62," sur une instance du composant zac-error directement via un param\xE8tre "),n(63,"code"),e(64,`[errorMessages]="{'nomValidateur':'Message'}"`),t(),e(65,", comme par exemple sur le champ 'nom' du 2eme formulaire ci-dessous. "),t()(),p(66,"br"),n(67,"li"),e(68," Le composant "),n(69,"code"),e(70,'<zac-error xFieldValidator="myCustomCrossFieldValidatorName">'),t(),e(71,` \xE0 placer ou vous voulez est responsable de l'affichage des erreurs de validation sur des contraintes custom "cross field", conform\xE9ment au `),p(72,"app-dslink",1),n(73,"div",4)(74,"b"),e(75,"NB : "),t(),e(76,"Le custom validator doit retourner en cas d'erreur, comme tout Validator, un objet JSON associant le nom de la contrainte \xE0 un autre objet JSON qui peut porter la propri\xE9t\xE9 "),n(77,"code"),e(78,"focusOn"),t(),e(79," \xE0 alimenter avec le name du champ sur lequel remettre le focus, le cas \xE9ch\xE9ant. "),n(80,"p"),e(81," Dans ce cas il est aussi possible et plus simple de retourner une instance de la classe "),n(82,"code"),e(83,"CustomMessageAndFocus"),t(),e(84," qui donne aussi "),n(85,"b"),e(86,"en plus"),t(),e(87," le moyen de d\xE9finir programmatiquement le message \xE0 afficher, sans avoir \xE0 le d\xE9finir au pr\xE9alable en l'ajoutant "),n(88,"a",5),e(89,"dans la constante JSON de zac"),t(),e(90," comme dans cet exemple pour la contrainte 'xValidatorNomPrenomDifferents' "),t()()()(),n(91,"p"),e(92," Un "),n(93,"b"),e(94,"tutorial vid\xE9o"),t(),e(95," est diponible sur le "),n(96,"a",6),e(97," site sharepoint de la DST "),t()(),n(98,"p")(99,"b"),e(100,"Remarque: "),t(),e(101,"En principe la cin\xE9matique des erreurs d\xE9finies ci-apr\xE8s "),p(102,"app-dslink",1),e(103," exige que lorsqu'on revient sur un form d\xE9j\xE0 soumis, on affiche imm\xE9diatement les erreurs sans attendre une nouvelle soumission. Ce comportement doit, pour le moment, \xEAtre impl\xE9ment\xE9 par l'application, comme dans le premier formulaire (\xE0 l'aide de la propri\xE9t\xE9 "),n(104,"code"),e(105,'zac-errors [onlyIf]="submitted"'),t(),e(106,"). "),t(),n(107,"p")(108,"b"),e(109,"Accessibilit\xE9 : "),t(),e(110,"Le composant "),n(111,"code"),e(112,"zac-error"),t(),e(113," affiche les erreurs de fa\xE7on accessible en prenant en charge automatiquement : "),t(),n(114,"ul")(115,"li"),e(116," Le lien entre le form control et le message d'erreur avec l'ajout "),n(117,"b"),e(118,"automatique"),t(),e(119," de "),n(120,"code"),e(121,'aria-describedby="id-error"'),t()(),n(122,"li"),e(123," L'ajout (fugace, juste le temps d'une verbalisation), et la suppression "),n(124,"b"),e(125,"automatique"),t(),e(126," d'un "),n(127,"code"),e(128,'aria-live="polite"'),t(),e(129," lorsqu'un message appara\xEEt "),t()(),n(130,"p")(131,"b"),e(132,"Pour info :"),t(),e(133," Chaque fois qu'un message d'erreur apparait, un \xE9v\xE8nement est tir\xE9 et il est possible de s'abonner via "),n(134,"code"),e(135,"ValidationErrorEventBusService.validationError$"),t(),e(136,", comme dans le code de cet exemple. "),t()()),i&2&&(m(13),u("sujet",o.DSSujet.gestion_erreur),m(12),u("sujet",o.DSSujet.gestion_erreur),m(14),u("sujet",o.DSSujet.design_erreur),m(2),u("sujet",o.DSSujet.messages_standard),m(31),u("sujet",o.DSSujet.design_erreur),m(30),u("sujet",o.DSSujet.gestion_erreur))},dependencies:[Ho,Jt,he],encapsulation:2})};function $u(l,r){if(l&1&&(Q(0,1),n(1,"zac-form-field",2),p(2,"input",3)(3,"zac-error",4),t(),J()),l&2){let i=g();u("formGroup",i.formGroup),m(2),Ct("id",i.NAISSANCE_PROPERTIES.nomNaissance),Ct("name",i.NAISSANCE_PROPERTIES.nomNaissance),u("formControlName",i.NAISSANCE_PROPERTIES.nomNaissance)}}var Qo=class l{NAISSANCE_PROPERTIES=bi.PROPERTIES;formGroup;personne;constructor(){}ngOnInit(){this.formGroup?.addControl(bi.PROPERTIES.nomNaissance,new me(this.personne?.naissance?.nomNaissance,Ee.required))}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-bloc-nom-naissance"]],inputs:{formGroup:"formGroup",personne:"personne"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["label","Nom de naissance"],[3,"id","name","formControlName"],["xFieldValidator","xValidatorNomsDifferents"]],template:function(i,o){i&1&&_(0,$u,4,4,"ng-container",0),i&2&&u("ngIf",o.formGroup)},dependencies:[ne,q,w,z,te,_e,L,Ge,W],encapsulation:2})};var $n=class l{personne=new ie;constructor(){}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};var e0=["standaloneError2"],t0=["standaloneError"],n0=()=>["F","Une femme"],i0=()=>["M","Un homme"],o0=(l,r)=>[l,r],r0=()=>({required:"Le {{n}} est requis, cr\xE9nom !!!"});function a0(l,r){if(l&1){let i=x();n(0,"zac-form-field",25)(1,"zac-date3",26),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.naissance.dateNaissance,a)||(s.personne.naissance.dateNaissance=a),f(a)}),t()()}if(l&2){let i=g();m(),S("ngModel",i.personne.naissance.dateNaissance)}}function l0(l,r){if(l&1&&(Q(0,41),p(1,"app-bloc-nom-naissance",42),J()),l&2){let i=g(2);m(),u("formGroup",i.naissanceFormGroup)("personne",i.personne)}}function s0(l,r){l&1&&(n(0,"zac-form-field",43),p(1,"input",44),t())}function m0(l,r){if(l&1){let i=x();n(0,"form",27),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit2())}),n(1,"zac-form-field",28),p(2,"input",29),t(),n(3,"zac-form-field",11),p(4,"input",30)(5,"zac-error",31),t(),n(6,"zac-form-field",32),p(7,"input",33)(8,"zac-error",34),t(),_(9,l0,2,2,"ng-container",35),n(10,"zac-form-field",36),p(11,"input",37),t(),n(12,"zac-form-field",38),p(13,"zac-boolean-choice",39),t(),_(14,s0,2,0,"zac-form-field",40),n(15,"button",21),e(16," Soumettre "),t(),n(17,"span"),e(18),K(19,"json"),t()()}if(l&2){let i,o=g();u("formGroup",o.reactiveForm),m(5),u("errorMessages",G(7,r0)),m(4),u("ngIf",o.naissanceFormGroup),m(5),u("ngIf",((i=o.reactiveForm.get("regimeAlsaceMoselle"))==null?null:i.value)===!0),m(4),D(" Entit\xE9 soumise : ",X(19,5,o.personneSoumise),"")}}$i&&!$i.xValidatorNomsDifferents&&($i.xValidatorNomsDifferents="Le nom et le nom de naissance doivent \xEAtre diff\xE9rent");var Jo=class l{constructor(r,i,o,a){this.personneService=r;this.router=i;this.formBuilder=o;this.validationErrorEventBus=a}static _submitted=!1;pourquoi;get submitted(){return l._submitted}set submitted(r){l._submitted=r}personne=new ie;personneSoumise;ngForm;standaloneError;reactiveForm;get naissanceFormGroup(){return this.reactiveForm?.get("naissance")}unsubject$=new de;ngOnInit(){this.personne=this.personneService.personne,this.reactiveForm=this.formBuilder.group({nir:[this.personne.nir,Ee.required],nom:[this.personne.nom,[Ee.required,this.customValidatorMajuscule]],prenom:[this.personne.prenom,Ee.required],naissance:new le({},{validators:this.xValidatorNomsDifferents}),email:[this.personne.email,Ee.required],regimeAlsaceMoselle:[this.personne.isRegimeAlsaceMoselle]},{validator:[this.xValidatorNomPrenomDifferents]}),this.validationErrorEventBus.validationError$.pipe($e(this.unsubject$)).subscribe(r=>console.log("Validation error event =",r))}globalMessage="Exemple de message g\xE9n\xE9ral standalone non li\xE9 \xE0 un form et g\xE9r\xE9 programmatiquement";ngAfterViewInit(){setTimeout(()=>this.standaloneError?.displayCustomError(this.globalMessage))}ngOnDestroy(){this.unsubject$.next()}$standaloneError2=en("standaloneError2",{read:Ge});onProgrammaticCustomCheckNir(){this.ngForm.form.get("nir")?.value?this.$standaloneError2()?.clearCustomError():this.$standaloneError2()?.displayCustomError("Erreur de nir",void 0,!0)}onSubmit(){this.submitted=!0,this.ngForm.valid&&(this.personneSoumise=Object.assign(new ie,this.personne),this.personneService.personne=this.personne,this.router.navigateByUrl("demo-error-suivant"))}onSubmit2(){this.reactiveForm?.valid&&(this.personneSoumise=dt({},this.reactiveForm.value),this.personneService.personne=this.personneSoumise,this.router.navigateByUrl("demo-error-suivant"))}customValidatorMajuscule(r){let i=r.value;return i&&i.toLocaleUpperCase()!==i?{custom:"Le nom doit \xEAtre en majuscule"}:null}xValidatorNomsDifferents(r){let i=r.parent?.get("nom")??null,o=r.get("nomNaissance");return Pm(i,o)?{xValidatorNomsDifferents:{focusOn:"nomNaissance"}}:null}xValidatorNomPrenomDifferents(r){let i=r.get("prenom"),o=r.get("nom");return Pm(i,o)?{xValidatorNomPrenomDifferents:new An("Le prenom et le nom doivent \xEAtre diff\xE9rent","prenom",["prenom","nom"])}:null}toggleGlobalErrorMessage(){this.standaloneError?.customErrorMsg?this.standaloneError?.clearCustomError():this.standaloneError?.displayCustomError(this.globalMessage)}static \u0275fac=function(i){return new(i||l)(y($n),y(U),y(kt),y(Yi))};static \u0275cmp=E({type:l,selectors:[["app-demo-error"]],viewQuery:function(i,o){if(i&1&&(tn(o.$standaloneError2,e0,5,Ge),Y(O,5),Y(t0,5)),i&2){_n();let a;$(a=ee())&&(o.ngForm=a.first),$(a=ee())&&(o.standaloneError=a.first)}},features:[Ie([Ot(Ge,{required:"Ce champ est obligatoire !"})])],decls:67,vars:20,consts:[["standaloneError",""],["ngForm","ngForm"],["standaloneError2",""],[1,"demo-title-section"],[1,"demo-section"],[1,"title-subsection"],["src","components/DemoErrorComponent.html#template"],[1,"exemple","source"],["zacActionable","",1,"error-standalone",3,"action"],[3,"standalone"],["zacErrors","",3,"ngSubmit","onlyIf"],["label","Nom de la personne"],["zacAutofocus","","id","nom","name","nom","required","","minlength","3","maxlength","20",3,"ngModelChange","ngModel"],["label","Nombre d'enfant"],["type","number","id","nombreEnfant","name","nombreEnfant","required","",3,"ngModelChange","ngModel","min","max"],["label","Date de naissance","ngModelGroup","naissance",4,"ngIf"],["label","Sexe"],["id","sexe","name","sexe","required","",3,"ngModelChange","ngModel","choiceList"],["label","NIR"],["id","nir","name","nir",3,"ngModelChange","ngModel"],["type","button",1,"button","--button_secondary",3,"click"],["type","submit",1,"button","--button_primary"],[1,"exemple"],[1,"desc-xfield"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["label","Date de naissance","ngModelGroup","naissance"],["id","dateNaissance","name","dateNaissance","required","","zacDate10","",3,"ngModelChange","ngModel"],["zacErrors","",3,"ngSubmit","formGroup"],["label","NIR de la personne"],["id","nir2","name","nir","formControlName","nir"],["id","nom2","name","nom","formControlName","nom"],["controlName","nom",3,"errorMessages"],["label","Pr\xE9nom de la personne"],["formControlName","prenom"],["xFieldValidator","xValidatorNomPrenomDifferents"],["formGroupName","naissance",4,"ngIf"],["label","Email de la personne"],["id","email","name","email","formControlName","email"],["label","Regime Alsace/Moselle ?"],["id","regimeAlsaceMoselle","name","regimeAlsaceMoselle","formControlName","regimeAlsaceMoselle"],["label","Pourquoi ?",4,"ngIf"],["formGroupName","naissance"],[3,"formGroup","personne"],["label","Pourquoi ?"],["id","pourquoi","name","pourquoi","formControlName","pourquoi","zacCreateAndRemove",""]],template:function(i,o){if(i&1){let a=x();n(0,"h1",3),e(1," D\xE9mo du couple "),n(2,"code"),e(3,"zac-errors"),t(),e(4," (directive sur un form) et "),n(5,"code"),e(6,"zac-error"),t(),e(7,` (composant sur des champs)
`),t(),n(8,"section",4),p(9,"app-explication-error"),t(),n(10,"section",4)(11,"h2"),e(12,"Exemple"),t(),n(13,"section",5)(14,"app-source",6)(15,"article",7)(16,"header")(17,"h2"),e(18," 1er exemple, formulaire avec [(ngModel)], validateur et activation programm\xE9e via "),n(19,"code"),e(20,'[onlyIf]="submitted"'),t()()(),n(21,"p",8),h("action",function(){return d(a),f(o.toggleGlobalErrorMessage())}),p(22,"zac-error",9,0),t(),n(24,"form",10,1),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(26,"zac-form-field",11)(27,"input",12),v("ngModelChange",function(c){return d(a),b(o.personne.nom,c)||(o.personne.nom=c),f(c)}),t(),n(28,"span"),e(29,'\xA0[required] [minlength="3"] [maxlength="20"]'),t()(),n(30,"zac-form-field",13)(31,"input",14),v("ngModelChange",function(c){return d(a),b(o.personne.nombreEnfant,c)||(o.personne.nombreEnfant=c),f(c)}),t(),n(32,"span"),e(33,'\xA0[required] [type=number] [min="0"] [max="6"] '),t()(),_(34,a0,2,1,"zac-form-field",15),n(35,"zac-form-field",16)(36,"zac-single-choice",17),v("ngModelChange",function(c){return d(a),b(o.personne.sexe,c)||(o.personne.sexe=c),f(c)}),t(),n(37,"span"),e(38," [required] "),t()(),n(39,"zac-form-field",18)(40,"input",19),v("ngModelChange",function(c){return d(a),b(o.personne.nir,c)||(o.personne.nir=c),f(c)}),t(),n(41,"span"),e(42," [required] [zacNir15]"),t(),p(43,"zac-error",9,2),n(45,"button",20),h("click",function(){return d(a),f(o.onProgrammaticCustomCheckNir())}),e(46," V\xE9rifier standalone zac-error hors soumission formulaire "),t()(),n(47,"button",21),e(48," Soumettre "),t(),n(49,"span"),e(50),K(51,"json"),t()()(),n(52,"article",22)(53,"header")(54,"h2"),e(55," 2eme exemple, formulaire avec formControlName, override de message standard, validateur custom cross field et sans activation programm\xE9e "),t()(),n(56,"div",23)(57,"p"),e(58,"2 validateurs custom cross field d\xE9fini dans le formulaire"),t(),n(59,"ul")(60,"li"),e(61," Override du message standard pour le validateur required sur le nom "),t(),n(62,"li"),e(63,"nom / pr\xE9nom doivent \xEAtre diff\xE9rents => focus sur pr\xE9nom"),t(),n(64,"li"),e(65," nom / nom de jeune fille doivent \xEAtre diff\xE9rents => focus sur nom de jeune fille "),t()()(),_(66,m0,20,8,"form",24),t()()()()}i&2&&(m(22),u("standalone",!0),m(2),u("onlyIf",o.submitted),m(3),S("ngModel",o.personne.nom),m(4),S("ngModel",o.personne.nombreEnfant),u("min",0)("max",6),m(3),u("ngIf",o.personne&&o.personne.naissance),m(2),S("ngModel",o.personne.sexe),u("choiceList",nt(17,o0,G(15,n0),G(16,i0))),m(4),S("ngModel",o.personne.nir),m(3),u("standalone",!0),m(7),D(" Entit\xE9 soumise : ",X(51,13,o.personneSoumise),""),m(16),u("ngIf",o.reactiveForm))},dependencies:[N,W,ge,P,R,q,Lt,w,z,H,Tn,Pn,Zi,Ui,V,Hi,O,ne,te,_e,Bt,Ge,fe,Le,ae,A,L,oe,Zo,Qo,k,Vn,Rn,yn,st],styles:[".desc-xfield[_ngcontent-%COMP%]{margin-left:2rem}.error-standalone[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem 0}"]})};function Pm(l,r){return l&&r&&l.value===r.value&&l.value}var Ko=class l{constructor(r){this.personneService=r}personne;ngOnInit(){this.personne=this.personneService.personne}static \u0275fac=function(i){return new(i||l)(y($n))};static \u0275cmp=E({type:l,selectors:[["app-page-suivante"]],decls:18,vars:3,consts:[["zacAutofocus",""],[1,"explications"],[1,"exemple"],["routerLink","/demo-error",1,"button","--button_primary"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"h1"),e(2,"D\xE9mo du composant zac-error - page suivant la soumission du formulaire"),t(),n(3,"article",1)(4,"header")(5,"h2"),e(6,"Explications"),t()(),n(7,"p"),e(8,"Cet \xE9cran ne sert que pour afficher la personne saisie sur l'\xE9cran pr\xE9c\xE9dent. "),t(),p(9,"p"),t(),n(10,"article",2)(11,"p"),e(12,"Personne saisie"),t(),n(13,"p"),e(14),K(15,"json"),t(),n(16,"button",3),e(17,"Pr\xE9c\xE9dent"),t()()()),i&2&&(m(14),De(X(15,1,o.personne)))},dependencies:[fe,ge,he],encapsulation:2})};var zm=[{path:"demo-error",component:Jo,title:"D\xE9mo Error"},{path:"demo-error-suivant",component:Ko}];var va=class l extends rs{blobType="application/pdf";url="assets/Attestation.pdf";constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(Be(bt))};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})},Xo=class l{constructor(r){this.attestationPdfLoader=r}sub;onClickLoad(r,i,o){this.sub=this.attestationPdfLoader.open(r,i,o?.toLocaleLowerCase()==="true").subscribe()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static \u0275fac=function(i){return new(i||l)(y(va))};static \u0275cmp=E({type:l,selectors:[["app-demo-file-loader"]],decls:58,vars:0,consts:[["target","ngModel"],["name","ngModel"],["download","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoFileLoaderComponent.html#source"],["label","Target"],["id","target","name","target","ngModel","_blank"],["label","File name :"],["id","name","name","name","ngModel","file.pdf"],["label","To download ?"],["id","download","name","download","ngModel","true"],["type","button",1,"button","--button_primary","tooltip",3,"click"],[1,"tooltip-text","--top"]],template:function(i,o){if(i&1){let a=x();n(0,"main")(1,"h1",3),e(2,"D\xE9mo d'usage de AbstractFileLoader"),t(),n(3,"div",4)(4,"section",5)(5,"h2"),e(6,"D\xE9mo"),t(),n(7,"app-source",6)(8,"article")(9,"zac-form-field",7),p(10,"input",8,0),t(),n(12,"zac-form-field",9),p(13,"input",10,1),t(),n(15,"zac-form-field",11),p(16,"input",12,2),t()(),n(18,"nav")(19,"button",13),h("click",function(){d(a);let c=M(11),C=M(14),I=M(17);return f(o.onClickLoad(c.value,C.value,I.value))}),e(20," FileLoaderService.openDialog(target, name, download) "),n(21,"span",14),e(22,"R\xE9cup\xE8re le fichier et l'affiche et/ou le t\xE9l\xE9charge selon les param\xE8tres"),t()()()()(),n(23,"section",5)(24,"h2"),e(25,"Intention"),t(),n(26,"p"),e(27,"Le chargement de fichier (pdf, ...) est un besoin r\xE9current."),t(),n(28,"p"),e(29,"Selon le Design System extranet celui-ci doit ouvrir le fichier dans un onglet et \xE9ventuellement ouvrir le dialogue natif permettant d'indiquer un emplacement de t\xE9l\xE9chargement."),t(),n(30,"p"),e(31,"Ce service g\xE9n\xE9rique factorise ce besoin via la m\xE9thode "),n(32,"code")(33,"b"),e(34,"openDialog(target, fileName, download)"),t()(),e(35," en sp\xE9cialisant un "),n(36,"code")(37,"b"),e(38,"AbstractHttpStore.read()"),t()(),e(39,", qui retourne un flux froid mono. "),t(),n(40,"p"),e(41,"La m\xE9thode openDialog prend donc les param\xE8tres suivants "),t(),n(42,"ul")(43,"li")(44,"code")(45,"b"),e(46,"target"),t()(),e(47," avec '_blank' par d\xE9faut, est directement pass\xE9 a window.openDialog(target), et donc par d\xE9faut ouvre le fichier dans un nouvel onglet (d\xE9pends du navigateur). "),t(),n(48,"li")(49,"code")(50,"b"),e(51,"name"),t()(),e(52," (facultatif, d\xE9faut 'file.pdf') permet de pr\xE9ciser le nom du fichier, pour le t\xE9l\xE9chargement et/ou l'onglet de visualisation. Il est possible de r\xE9cup\xE9rer le nom dans le 'content-disposition' d'une HttpResponse avec 'content-disposition'. S'il est nul 'file.pdf' est d\xE9fini. "),t(),n(53,"li")(54,"code")(55,"b"),e(56,"download"),t()(),e(57," (facultatif, defaut false) permet si pr\xE9cis\xE9 de le t\xE9l\xE9charger a un emplacement donn\xE9 en provoquant la demande native de s\xE9lection de cet emplacement. "),t()()()()()}},dependencies:[N,P,q,w,V,A,L],encapsulation:2})};var xa=l=>[l],c0=l=>({preferredValueType:"string",format:l}),u0=(l,r,i,o)=>({name:l,label:"Date de naissance",nature:r,validators:i,customization:o,hint:"Au format JJ/MM/AAAA"}),p0=l=>({nature:l,displayValue:"<div>Information <b>quelconque</b></div>"}),d0=(l,r,i,o)=>({name:l,label:"Pr\xE9matur\xE9 \xE0 la  de naissance",nature:r,condition:i,validators:o}),f0=l=>({name:l,label:"D\xE9partement de naissance"}),g0=l=>({label:"",nature:l,displayValue:""}),h0=l=>({sourceService:l}),E0=(l,r,i)=>({name:l,label:"Commune de naissance",nature:r,customization:i}),_0=(l,r,i,o,a,s)=>[l,r,i,o,a,s];function C0(l,r){if(l&1){let i=x();Q(0),n(1,"div",15),h("zacAfterViewInit",function(){d(i);let a=g().$implicit;return f(a())}),t(),J()}}function S0(l,r){if(l&1){let i=x();Q(0)(1,16),n(2,"zac-form-field",17)(3,"input",18),h("blur",function(){d(i);let a=g().$implicit,s=g(2);return f(s.progressive&&a())}),t()(),J()()}if(l&2){let i=g(3);m(),u("formGroup",i.getNaissanceFormGroupIn(i.$formGroup())),m(2),u("zacCreateAndRemove",i.individu==null||i.individu.naissance==null?null:i.individu.naissance.nomNaissance)("formControlName",i.NAISSANCE_PROPERTIES.nomNaissance)}}function b0(l,r){if(l&1&&_(0,C0,2,0,"ng-container",14)(1,S0,4,3,"ng-container",14),l&2){let i=g(2);u("zacIf",i.progressive&&i.isIndividuMasculin()),m(),u("zacIf",i.isIndividuFeminin())}}function v0(l,r){if(l&1&&(Q(0),p(1,"zac-error",21),J()),l&2){let i=g(3);m(),u("xFieldValidator",i.X_CTL_DATE_JOUR)}}function x0(l,r){if(l&1){let i=x();Q(0,16),n(1,"zac-form-group-generator",19),h("blurChange",function(a){d(i);let s=g(2);return f(s.onValue(a))}),_(2,v0,2,1,"ng-container",20),t(),J()}if(l&2){let i=g(2);u("formGroup",i.getNaissanceFormGroupIn(i.$formGroup())),m(),u("model",i.individu==null?null:i.individu.naissance)("progressive",i.progressive)("focustrap",i.focustrapOnSecondGroup)("formGroupConfig",yl(34,_0,pa(10,u0,i.NAISSANCE_PROPERTIES.dateNaissance.toString(),i.CONTROL_NATURE_ENUM.date,be(6,xa,i.DateValidators.date10Period("01/01/1970","today",i.DateFormatNameEnum.fr)),be(8,c0,i.DateFormatNameEnum.fr)),be(15,p0,i.CONTROL_NATURE_ENUM.display),pa(19,d0,i.NAISSANCE_PROPERTIES.premature,i.CONTROL_NATURE_ENUM.booleanChoice,`function (formGroup) {
                    // si dateNaissance renseign\xE9
                    const dateNaissance = formGroup?.get('dateNaissance')?.value;
                    console.log('contr\xF4le date de naissance', dateNaissance);
                    return !!dateNaissance;
                  }
                `,be(17,xa,i.ALL_VALIDATOR_NAMES.required)),be(24,f0,i.NAISSANCE_PROPERTIES.departementNaissance),be(26,g0,i.CONTROL_NATURE_ENUM.display),Cn(30,E0,i.NAISSANCE_PROPERTIES.communeNaissance,i.CONTROL_NATURE_ENUM.autocomplete,be(28,h0,i.codePostalCommuneApiGouvSource)))),m(),u("zacAfter",i.NAISSANCE_PROPERTIES.dateNaissance)}}function y0(l,r){if(l&1){let i=x();n(0,"form",9),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-required-or-optional-sentence"),n(2,"zac-form-group-generator",10,0),h("afterFormControlInit",function(a){d(i);let s=g();return f(s.onFormControlInit(a))})("lastFormControlPassed",function(a){d(i);let s=g();return f(s.onLastControlDirty(a))})("blurChange",function(a){d(i);let s=M(3),c=g();return f(c.onGenerator1BlurValue(a,s))}),_(4,b0,2,2,"ng-template",11),t(),_(5,x0,3,41,"ng-container",12),n(6,"nav")(7,"zac-control-bar",13),h("action",function(a){d(i);let s=g();return f(s.onAction(a))}),t()()()}if(l&2){let i=g();u("formGroup",i.$formGroup())("zacReadonly",i.readOnly),m(2),u("model",i.individu)("exclude",be(8,xa,i.INDIVIDU_PROPERTIES.departement))("progressive",i.progressive),m(2),u("zacAfter",i.INDIVIDU_PROPERTIES.sexe)("focusable",!0),m(),u("ngIf",i.continue)}}var Yo=class l{constructor(r,i,o){this.individuService=r;this.router=i;this.codePostalCommuneApiGouvSource=o}INDIVIDU_PROPERTIES=Tt.PROPERTIES;NAISSANCE_PROPERTIES=ya.PROPERTIES;HTML_INPUT_TYPE=sm;CONTROL_NATURE_ENUM=Un;ALL_VALIDATOR_NAMES=qe;X_CTL_DATE_JOUR="customDateJour";individu;$formGroup=Se(void 0);progressive=!0;focustrapOnSecondGroup=!0;date;ngOnInit(){return Ce(this,null,function*(){this.individu=yield this.individuService.getPromise(),this.$formGroup.set(new le({})),this.focustrapOnSecondGroup=xt.isEmpty(this.individu,["id","naissance"])})}getNaissanceFormGroupIn(r){return r.get(Tt.PROPERTIES.naissance)||r.addControl(Tt.PROPERTIES.naissance,new le({},this.dateSuperieurADateDuJour.bind(this))),r.get(Tt.PROPERTIES.naissance)??void 0}onSubmit(){return Ce(this,null,function*(){this.$formGroup()?.valid?(yield sl(this.individuService.postAndWrite(new Tt(this.$formGroup()?.getRawValue()))),this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-form-generator"))):console.log("form group invalid",this.$formGroup())})}isIndividuFeminin(){return this.$formGroup()?.get(this.INDIVIDU_PROPERTIES.sexe)?.value==="F"}isIndividuMasculin(){return this.$formGroup()?.get(this.INDIVIDU_PROPERTIES.sexe)?.value==="M"}dateSuperieurADateDuJour(r){let i=r?.get(this.NAISSANCE_PROPERTIES.dateNaissance)?.value;if(i){let o=new Date;if(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),new Date(i).getTime()>=o.getTime())return Object.fromEntries([[this.X_CTL_DATE_JOUR,new An("La date doit \xEAtre inf\xE9rieure \xE0 celle du jour",this.NAISSANCE_PROPERTIES.dateNaissance)]])}return null}continue=!1;onLastControlDirty(r){console.log("onLastControlDirty",r),this.continue=r}onAction(r){console.log("onAction ",r)}DateValidators=ws;trace(r){console.log(r)}onGenerator1BlurValue(r,i){console.log("onGenerator1BlurValue ",r),r.name===Tt.PROPERTIES.sexe&&r.value==="M"&&i.nextControl(r.index)}onFormControlInit(r){console.log("element ",r)}onValue(r){console.log("Valeur choisie ",r)}readOnly=!1;toto(){console.log("TOTO")}DateFormatNameEnum=Ds;static \u0275fac=function(i){return new(i||l)(y(Da),y(U),y(ki))};static \u0275cmp=E({type:l,selectors:[["app-demo-form-generator"]],decls:118,vars:2,consts:[["generator1",""],["zacAutofocus",""],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoFormGeneratorComponent.html#template"],["zacErrors","","zacRequiredFields","",3,"formGroup","zacReadonly","ngSubmit",4,"ngIf"],["href","https://git.agora.msanet/design-system/zac-ng-lib/-/blob/master/projects/zac-ng-lib/src/lib/shared/decorator/form-control-decorator/form-control-decorator-config.ts?ref_type=heads#L38","target","_blank"],["label","Read only"],["name","readOnly",3,"ngModelChange","ngModel"],["zacErrors","","zacRequiredFields","",3,"ngSubmit","formGroup","zacReadonly"],[3,"afterFormControlInit","lastFormControlPassed","blurChange","model","exclude","progressive"],[3,"zacAfter","focusable"],[3,"formGroup",4,"ngIf"],[3,"action"],[4,"zacIf"],[3,"zacAfterViewInit"],[3,"formGroup"],["label","Nom de jeune fille"],["required","",3,"blur","zacCreateAndRemove","formControlName"],[3,"blurChange","model","progressive","focustrap","formGroupConfig"],[4,"zacAfter"],[3,"xFieldValidator"]],template:function(i,o){i&1&&(n(0,"h1",1),e(1,"D\xE9mo des composants de g\xE9n\xE9ration de formulaire"),t(),n(2,"div",2)(3,"section",3)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",4),_(7,y0,8,10,"form",5),t()(),n(8,"section",3)(9,"h2"),e(10,"Explications"),t(),n(11,"p"),e(12," Ce composant permet de g\xE9n\xE9rer "),n(13,"b"),e(14,"dynamiquement"),t(),e(15," des FormControl \xE0 partir d'un array de "),n(16,"code"),e(17,"FormControlConfig"),t(),e(18," pouvant \xEAtre donn\xE9 : "),t(),n(19,"ul")(20,"li"),e(21," soit directement en param\xE8tre de ce composant, via le param\xE8tre "),n(22,"code"),e(23,"formGroupConfig"),t()(),n(24,"li"),e(25," soit en "),n(26,"b"),e(27,"annotant"),t(),e(28," directement les propri\xE9t\xE9s d'une classe mod\xE8le avec le d\xE9corateur "),n(29,"code"),e(30,"Control"),t(),e(31," et en passant en param\xE8tre "),n(32,"code"),e(33,"model"),t(),e(34," une instance non vide de ce mod\xE8le ou alors directement dans "),n(35,"code"),e(36,"modelType"),t(),e(37," le type de ce mod\xE8le. "),t(),n(38,"p"),e(39,"Example :"),t(),n(40,"code")(41,"pre"),e(42,`  @Control({{ label: 'Nom', validators: ['required'] })
  nom?: string = undefined;
        `),t()()(),n(43,"p")(44,"b"),e(45,"Attention, limites :"),t(),e(46," Le mod\xE8le associ\xE9 doit obligatoirement d\xE9finir ses propri\xE9t\xE9s en les initialisant au besoin avec undefined. "),t(),n(47,"p"),e(48," Les FormControl sont g\xE9n\xE9r\xE9s dans l'ordre de d\xE9claration de la source et initialis\xE9s \xE0 partir de l'instance de mod\xE8le fournie en param\xE8tre. "),t(),n(49,"p"),e(50," Consulter la "),n(51,"a",6),e(52,"jsdoc de FormControlConfig"),t(),e(53," pour une description d\xE9taill\xE9e des propri\xE9t\xE9s. "),t(),n(54,"p")(55,"i"),e(56,"Quelques param\xE8tres du FormGroupGenerator :"),t()(),n(57,"ul")(58,"li")(59,"code"),e(60,"exclude"),t(),e(61," = Liste des noms des formControl d\xE9clar\xE9s dans la source de config (modelType ou #formGroupConfig) mais que l'on veut exclure de la g\xE9n\xE9ration. "),t(),n(62,"li")(63,"code"),e(64,"focustrap"),t(),e(65," = true (par d\xE9faut) permet de positionner automatiquement le focus sur les FormControl, soit sur le premier FormControl (si "),n(66,"code"),e(67,"progressive=false"),t(),e(68,") soit sur chaque FormControl lors de son apparition progressive (si "),n(69,"code"),e(70,"progressive=true"),t(),e(71,") "),t(),n(72,"li")(73,"code"),e(74,"progressive"),t(),e(75," = true permet de faire appara\xEEtre les formControl progressivement, c.a.d. \xE0 partir du moment ou le formControl pr\xE9c\xE9dent est valoris\xE9 ou tabul\xE9 (false par d\xE9faut) "),t(),n(76,"p")(77,"b"),e(78,"Attention : "),t(),e(79,"L'usage en mode d\xE9voilement progressif (progressive=true) est "),n(80,"b"),e(81,"strictement d\xE9conseill\xE9"),t(),e(82,". "),t(),n(83,"ul")(84,"li"),e(85,"D'abord il n'est pas conforme au Design System iMSA"),t(),n(86,"li"),e(87," Il pose des difficult\xE9s d'ergonomie/accessibilit\xE9 avec des devices mobile qui n'ont pas de touche de tabulation : cela impose une conception o\xF9 tous les champs en saisie libre (input simple, a contrario des champs de choix par exemple) sont situ\xE9 avant tous ceux en saisie contrainte. "),t(),n(88,"li"),e(89," Combin\xE9 avec l'insertion de contenu via zacAfter (ci-dessous) cela rend le code extr\xEAmement complexe et la gestion du focus par ce composant et le code m\xE9tier peut, dans ces cas, n'\xEAtre pas toujours parfaite. "),t(),n(90,"li"),e(91," A ce jour seul PNDS utilise le mode progressif, exceptionnellement. "),t()()(),n(92,"p")(93,"i"),e(94,"Insertion possible par projection de contenu :"),t()(),n(95,"p"),e(96," Au sein du body de ce composant il est possible d'utiliser la directive de marquage "),n(97,"code"),e(98,"AfterDirective='nom'"),t(),e(99," pour ins\xE9rer n'importe quel fragment de html apr\xE8s le 'nom' donn\xE9. Attention en mode progressive=true la m\xE9thode nextControl est pass\xE9 en template context du *after et il convient de l'appeler au bon moment lorsque le contenu fait l'\xE9quivalent d'un blur pour signaler au FormGroupGenerator qu'il peut afficher le champ suivant. "),t(),p(100,"p"),n(101,"p")(102,"i"),e(103,"Quelques propri\xE9t\xE9s du FormControlConfig :"),t()(),n(104,"ul")(105,"li")(106,"code"),e(107,"condition"),t(),e(108," il est possible de conditionner la pr\xE9sence d'un FormControl en donnant \xE0 cette propri\xE9t\xE9 une fonction retournant true si le FormControl correspondant doit \xEAtre affich\xE9 "),t(),n(109,"li")(110,"code"),e(111,"customization"),t(),e(112," en plus des propri\xE9t\xE9s d\xE9finies dans FormControlConfig il est possible de passer un objet JSON {{propriete: valeur} permettant de valoriser toute autre propri\xE9t\xE9 d'un FormControl particulier, par exemple un freeEntry pour un zac-autocomplete. "),t()(),n(113,"p"),e(114," Le code de l'exemple ci-dessous est visible et comment\xE9 dans l'onglet source. A noter que 2 instances de ce composant sont utilis\xE9es (artificiellement, pour tester le bon passage de l'un \xE0 l'autre). "),t()(),n(115,"section",3)(116,"zac-form-field",7)(117,"zac-boolean-choice",8),v("ngModelChange",function(s){return b(o.readOnly,s)||(o.readOnly=s),s}),t()()()()),i&2&&(m(7),u("ngIf",o.$formGroup()),m(110),S("ngModel",o.readOnly))},dependencies:[N,W,ne,R,q,w,z,H,te,_e,ae,A,Kl,fe,k,Qe,Gi,it,L,st,Ge,ce,oe,P,V,mt,so,mo],encapsulation:2,changeDetection:0})},Am=(i=>(i.M="Masculin",i.F="Feminin",i))(Am||{});var ya=class l{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new l);nomNaissance=void 0;dateNaissance=void 0;premature=void 0;departementNaissance=void 0;communeNaissance=void 0},Ye=class Ye{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new Ye);id=1;nir=void 0;nom=void 0;prenom=void 0;statutLegal=void 0;regimeAgricole=void 0;caisseRattachement=void 0;sexe=void 0;email=void 0;departement=void 0;naissance=void 0;aime=void 0;commentaires=void 0;constructor(r){r&&Object.assign(this,r)}};ye([we({label:"NIR",nature:5})],Ye.prototype,"nir",2),ye([we({label:"Nom",validators:[qe.required]})],Ye.prototype,"nom",2),ye([we({label:"Pr\xE9nom",validators:[qe.required]})],Ye.prototype,"prenom",2),ye([we({label:"Statut l\xE9gal",validators:[Ee.maxLength(3)],nature:11})],Ye.prototype,"statutLegal",2),ye([we({label:"R\xE9gime MSA",validators:["required"],nature:1})],Ye.prototype,"regimeAgricole",2),ye([we({label:"Caisse rattachement",validators:["required"],condition:r=>r.get("regimeAgricole")?.value===!0})],Ye.prototype,"caisseRattachement",2),ye([we({label:"Sexe",nature:4,options:Am,validators:[qe.required]})],Ye.prototype,"sexe",2),ye([we({label:"E-mail",validators:[qe.required,qe.email]})],Ye.prototype,"email",2),ye([we({label:"D\xE9partement",validators:[qe.required]})],Ye.prototype,"departement",2),ye([we({label:"Vous aimez ?",nature:7,options:[["Lire","LIRE",fs],["Le sport","SPORT",ms],["Le cinema","CINE"]]})],Ye.prototype,"aime",2),ye([we({label:"Commentaires",nature:12,customization:{maxlength:100,row:5,cols:20}})],Ye.prototype,"commentaires",2);var Tt=Ye,Da=class l extends At{dataType=Tt;url="api/individu";constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(Be(bt))};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"any"})};var D0=()=>({updateOn:"blur"}),w0=()=>["F","Femme"],M0=()=>["H","Homme"],I0=(l,r)=>[l,r],N0=()=>["TO","Toulouse"],T0=()=>["M","Montauban"],P0=()=>["B","Bordeaux"],z0=()=>["TA","Tarascon"],A0=()=>["P","Paris"],F0=(l,r,i,o,a)=>[l,r,i,o,a],ei=class l{personne;personneSoumise;ngForm;inputHorsFormulaire;constructor(){}ngOnInit(){this.personne={}}onSubmit(){this.ngForm.valid&&(this.personneSoumise=this.personne)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-form-field"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:118,vars:34,consts:[["ngForm","ngForm"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoFormFieldComponent.html#template"],["label","Test hors formulaire",3,"readonly"],["for","inputHorsFormulaire"],["name","inputHorsFormulaire",3,"ngModelChange","ngModel"],["zacErrors","",3,"ngSubmit","ngFormOptions"],["label","Simple checkbox"],["name","regimeAM","type","checkbox",3,"ngModelChange","ngModel"],["label","Pr\xE9nom","hint","Vos pr\xE9noms s\xE9par\xE9s pas une virgule",3,"readonly"],["name","prenom","required","",3,"ngModelChange","ngModel"],["label","Coordonn\xE9es connues","hint","Un compl\xE9ment de label sur les coordonn\xE9es connues pour aider l'utilisateur",3,"readonly"],["for","coord"],["name","coord","required","",3,"ngModelChange","ngModel"],["hint","Un compl\xE9ment de label sur le sexe pour aider l'utilisateur",3,"readonly"],["for","sexe"],["name","sexe","required","",3,"ngModelChange","ngModel","choiceList"],[3,"readonly"],["for","ville"],["id","hint-ville"],["aria-describedby","hint-ville","name","ville","required","",3,"ngModelChange","ngModel","choiceList"],["type","submit",1,"button","--button_primary"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",2),e(1,"D\xE9mo du composant FormField"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5)(7,"zac-form-field",6)(8,"zac-label",7)(9,"b"),e(10,"Test hors formulaire"),t()(),n(11,"input",8),v("ngModelChange",function(c){return d(a),b(o.inputHorsFormulaire,c)||(o.inputHorsFormulaire=c),f(c)}),t()(),n(12,"form",9,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(14,"zac-form-field",10)(15,"input",11),v("ngModelChange",function(c){return d(a),b(o.personne.isRegimeAlsaceMoselle,c)||(o.personne.isRegimeAlsaceMoselle=c),f(c)}),t()(),n(16,"zac-form-field",12)(17,"input",13),v("ngModelChange",function(c){return d(a),b(o.personne.prenom,c)||(o.personne.prenom=c),f(c)}),t()(),n(18,"zac-form-field",14)(19,"zac-label",15)(20,"b"),e(21,"Coordonn\xE9es connues ?"),t()(),n(22,"zac-boolean-choice",16),v("ngModelChange",function(c){return d(a),b(o.personne.coordonneesConnues,c)||(o.personne.coordonneesConnues=c),f(c)}),t()(),n(23,"zac-form-field",17)(24,"zac-label",18),e(25," Sexe "),n(26,"i"),e(27,"(facultatif)"),t()(),n(28,"zac-single-choice",19),v("ngModelChange",function(c){return d(a),b(o.personne.sexe,c)||(o.personne.sexe=c),f(c)}),t()(),n(29,"zac-form-field",20)(30,"zac-label",21)(31,"strong"),e(32,"Ville"),t()(),n(33,"div",22)(34,"p"),e(35,"Compl\xE9ment de label"),t(),n(36,"p")(37,"i"),e(38,"(custom)"),t()()(),n(39,"zac-select",23),v("ngModelChange",function(c){return d(a),b(o.personne.commune,c)||(o.personne.commune=c),f(c)}),t()(),n(40,"button",24),e(41,"Valider"),t()(),n(42,"p"),e(43),K(44,"json"),t()()(),n(45,"section",4)(46,"h2"),e(47,"Explications"),t(),n(48,"p"),e(49," La forme et la gestion des champs de saisie au "),n(50,"b"),e(51,"sein d'un formulaire"),t(),e(52," (sur les erreurs en particulier) selon le Design System \xE9tant toujours la m\xEAme et n\xE9cessitant syst\xE9matiquement d'accompagner un \xE9l\xE9ment de form par un \xE9l\xE9ment conteneur, un \xE9l\xE9ment label et un \xE9l\xE9ment zac-error, "),t(),p(53,"br"),n(54,"pre"),e(55,`    <form zacErrors>
      .../...
      <div class="form_field_wrapper">
        <zac-label for="nom">Nom :</zac-label>
        <input id="nom" name="nom" [(ngModel)]="personne.nom" required>
        <zac-error id="error-nom" controlName="nom"></zac-error>
      </div>
      .../...
    </form>
  `),t(),n(56,"p"),e(57," ce "),n(58,"b"),e(59,"composant permet de g\xE9n\xE9rer tout cela, de fa\xE7on accessible"),t(),e(60,", pour l'\xE9l\xE9ment de form donn\xE9 comme fils, que celui-ci soit un \xE9l\xE9ment de form HTML natif ou un composant Angular respectant l'API ControlValueAccessor. "),t(),p(61,"br"),n(62,"pre"),e(63,`     <form zacErrors>
        .../...
        <zac-form-field label="Pr\xE9nom">
            <input name="prenom" [(ngModel)]="personne.prenom" required>
        </zac-form-field>
        .../...
     </form>
    `),t(),n(64,"p")(65,"b"),e(66,"Label riche"),t(),e(67,` : Si vous avez besoin d'ajouter un label riche, contenant du HTML, vous pouvez utiliser ("projeter" en terme angular) pour ce faire le composant `),n(68,"code"),e(69,"zac-label"),t(),e(70," tel que dans l'exemple avec les champs sexe et ville. "),t(),p(71,"br"),n(72,"p")(73,"b"),e(74,"Accessibilit\xE9"),t(),e(75," : Le lien accessible entre l'\xE9l\xE9ment de formulaire, son label et son message d'erreur est garanti par "),n(76,"code"),e(77,"zac-form-field"),t(),e(78," cependant il faudra faire attention \xE0 n'utiliser comme label que du texte pur ou si le zac-label est projet\xE9 que des balises de texte inline car ce contenu est inject\xE9 soit dans un "),n(79,"b"),e(80,"label"),t(),e(81," soit un "),n(82,"b"),e(83,"p"),t(),e(84,". "),t(),p(85,"br"),n(86,"p")(87,"b"),e(88,"Last but not least : "),t(),e(89,"Comme on le voit dans l'exemple ci-dessus, ce composant permet aussi d'omettre sans risque l'id de l'input (obligatoire pour l'accessibilit\xE9, pour que le label puisse r\xE9f\xE9rencer cet id) : dans ce cas s'il est omis le composant lui donnera la m\xEAme valeur que le name du contr\xF4le. "),t(),p(90,"br"),n(91,"h2"),e(92,"Param\xE8tres d'entr\xE9e errorPosition et hintPosition **indicatifs**"),t(),n(93,"p"),e(94," Les param\xE8tres permettent de faire varier le positionnement du message d'erreur (error-position) et du message d'aide (hint-position) sont indicatifs car uniquement structurels. "),t(),n(95,"p"),e(96," En effet le positionnement de ces textes est impos\xE9, sans exception, par les Design System et forc\xE9 par les css \xE0 partir de zac-charte-extranet@1.3 (a venir pour intranet) "),t(),p(97,"br"),n(98,"h2"),e(99,"Lecture seule :"),t(),n(100,"p"),e(101," A noter par ailleurs que la propri\xE9t\xE9 `[readonly]='true|false'` permet de basculer le champ en readonly, pour ceux se trouvant dans un zac-form-field "),t(),n(102,"p")(103,"b"),e(104,"Attention :"),t(),e(105," Veuillez noter que le `[readonly]=true|false(d\xE9faut)` doit \xEAtre plac\xE9 sur le `zac-form-field` et "),n(106,"b"),e(107,"NON PAS"),t(),e(108," directement sur le composant de formulaire projet\xE9. "),t(),n(109,"p"),e(110," Par ailleurs ce composant est, de plus, sensible \xE0 la directive `[zacReadonly]=true|false` plac\xE9e sur un composant "),n(111,"b"),e(112,"parent"),t(),e(113," qui permet la m\xEAme chose pour un groupe de champs. "),t(),p(114,"br"),n(115,"zac-form-field",25),p(116,"zac-boolean-choice",26,1),t()()()}if(i&2){let a=M(117);m(7),u("readonly",a.value),m(4),S("ngModel",o.inputHorsFormulaire),m(),u("ngFormOptions",G(17,D0)),m(3),S("ngModel",o.personne.isRegimeAlsaceMoselle),m(),u("readonly",a.value),m(),S("ngModel",o.personne.prenom),m(),u("readonly",a.value),m(4),S("ngModel",o.personne.coordonneesConnues),m(),u("readonly",a.value),m(5),S("ngModel",o.personne.sexe),u("choiceList",nt(20,I0,G(18,w0),G(19,M0))),m(),u("readonly",a.value),m(10),S("ngModel",o.personne.commune),u("choiceList",gi(28,F0,G(23,N0),G(24,T0),G(25,P0),G(26,z0),G(27,A0))),m(4),D(" Personne apr\xE8s soumission du formulaire : ",X(44,15,o.personneSoumise)," ")}},dependencies:[N,ge,P,R,q,wn,w,z,H,V,O,ae,A,L,k,ue,ot,Le,oe],encapsulation:2,changeDetection:0})};var $o=class l{constructor(r){this.identFormatService=r}demoForm;exempleDirectiveSiret='&lt;input formControlName = "siret" appSiretFormat >';exempleDirectiveIdentifiant='&lt;input formControlName = "identifiant" appIdentifiantFormat >';exempleSiretFormat="{{'84440620700010' | siretFormat}}";exempleIdentifiantFormat="{{'0209000004373' | identifiantFormat}}";exempleSiretFormatService="this.identFormatService.tranformer('84440620700010')";exempleIdentifiantFormatService="this.identFormatService.tranformer('0209000004373')";siretFormatService;identifiantFormatService;exempleSiretFormatService2="this.identFormatService.tranformerSiret('84440620700010')";exempleIdentifiantFormatService2="this.identFormatService.tranformerNir('0209000004373')";siretFormatService2;identifiantFormatService2;ngOnInit(){this.demoForm=new le({siret:new me("84440620700010",[]),identifiant:new me("0209000004373",[])}),this.siretFormatService=this.identFormatService.tranformer("84440620700010"),this.identifiantFormatService=this.identFormatService.tranformer("0209000004373"),this.siretFormatService2=this.identFormatService.tranformerSiret("84440620700010"),this.identifiantFormatService2=this.identFormatService.tranformerNir("0209000004373")}static \u0275fac=function(i){return new(i||l)(y(Ps))};static \u0275cmp=E({type:l,selectors:[["app-demo-formatter"]],decls:55,vars:19,consts:[[1,"main-container"],[1,"demo-title-section"],["src","components/DemoFormatterComponent.html#template"],[1,"demo-section"],[3,"formGroup"],[3,"innerHTML"],["label","Siret :"],["formControlName","siret","zacSiretFormat",""],["label","Identifiant :"],["formControlName","identifiant","zacIdentifiantFormat",""]],template:function(i,o){i&1&&(n(0,"main",0)(1,"h1",1),e(2,"D\xE9mo d'usage d'un formateur"),t(),n(3,"app-source",2)(4,"section",3)(5,"h2"),e(6,"Formatter \xE0 l'aide d'une directive sur un input de type text"),t(),p(7,"br"),n(8,"form",4),p(9,"code",5),n(10,"zac-form-field",6),p(11,"input",7),t(),p(12,"code",5),n(13,"zac-form-field",8),p(14,"input",9),t()()(),n(15,"section",3)(16,"h2"),e(17,"Formatter \xE0 l'aide d'un pipe"),t(),p(18,"br"),n(19,"p")(20,"span"),e(21),K(22,"siretFormat"),t(),p(23,"code",5),t(),n(24,"p")(25,"span"),e(26),K(27,"identifiantFormat"),t(),p(28,"code",5),t()(),n(29,"section",3)(30,"h2"),e(31,"Formatter \xE0 l'aide du service"),t(),p(32,"br"),n(33,"p"),e(34,"La fonction transformer du service IdentifiantFormatService peut formatter \xE0 la fois un siret ou un identifiant. "),t(),n(35,"p"),e(36,"Exemple:"),t(),n(37,"p")(38,"span"),e(39),t(),p(40,"code",5),t(),n(41,"p")(42,"span"),e(43),t(),p(44,"code",5),t(),n(45,"p"),e(46,"Autres options:"),t(),n(47,"p")(48,"span"),e(49),t(),p(50,"code",5),t(),n(51,"p")(52,"span"),e(53),t(),p(54,"code",5),t()()()()),i&2&&(m(8),u("formGroup",o.demoForm),m(),u("innerHTML",o.exempleDirectiveSiret,Nt),m(3),u("innerHTML",o.exempleDirectiveIdentifiant,Nt),m(9),D("Ce siret ",X(22,15,"84440620700010")," est format\xE9 \xE0 l'aide "),m(2),u("innerHTML",o.exempleSiretFormat,Nt),m(3),D("Cet identifiant ",X(27,17,"0209000004373")," est format\xE9 \xE0 l'aide "),m(2),u("innerHTML",o.exempleIdentifiantFormat,Nt),m(11),D("Siret: ",o.siretFormatService," => "),m(),u("innerHTML",o.exempleSiretFormatService,Nt),m(3),D("Identifiant: ",o.identifiantFormatService," => "),m(),u("innerHTML",o.exempleIdentifiantFormatService,Nt),m(5),D("Siret: ",o.siretFormatService2," => "),m(),u("innerHTML",o.exempleSiretFormatService2,Nt),m(3),D("Identifiant: ",o.identifiantFormatService2," => "),m(),u("innerHTML",o.exempleIdentifiantFormatService2,Nt))},dependencies:[N,P,R,q,w,z,ne,te,_e,A,L,As,zs,Rs,Fs],styles:["label[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{margin:0 0 0 5px}.exemple[_ngcontent-%COMP%]{margin-bottom:15px}code[_ngcontent-%COMP%]{background-color:#fff}"]})};var R0=["formTheme"],q0=()=>["Suivant"],V0=()=>["Suivant","Precedent"],O0=()=>["Precedent"];function L0(l,r){l&1&&(n(0,"h2"),e(1,"> Th\xE8me"),t())}function B0(l,r){l&1&&(n(0,"h2"),e(1,"> Sujet"),t())}function k0(l,r){l&1&&(n(0,"h2"),e(1,">Motif"),t())}function G0(l,r){if(l&1&&(n(0,"section")(1,"h2"),e(2,"Valeurs saisie et valid\xE9e \xE0 la fin du stepper :"),t(),e(3),K(4,"json"),t()),l&2){let i=g();m(3),D(" ",X(4,1,i.saisieComplete)," ")}}var er=class l{theme;sujet;motif;saisieComplete;formTheme;stepperComplet(){this.saisieComplete={theme:this.theme,sujet:this.sujet,motif:this.motif}}get themeCtl(){return this.formTheme?.controls?.theme}get sujetCtl(){return this.formTheme?.controls?.sujet}get motifCtl(){return this.formTheme?.controls?.motif}onAction(r,i){i==="Suivant"?r.next():i==="Precedent"&&r.previous()}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-horizintal-stepper"]],viewQuery:function(i,o){if(i&1&&Y(R0,5),i&2){let a;$(a=ee())&&(o.formTheme=a.first)}},decls:28,vars:12,consts:[["stepper",""],["formTheme","ngForm"],["formSujet","ngForm"],["formMotif","ngForm"],[1,"main-container"],[1,"demo-title-section"],[1,"demo-section"],["linear",""],[3,"stepControl"],["cdkStepLabel",""],["zacErrors",""],["label","Th\xE8me"],["id","theme","name","theme","required","","zacAutofocus","",3,"ngModelChange","ngModel"],[3,"action","validationButtonNames"],["label","Sujet"],["id","sujet","name","sujet","required","","zacAutofocus","",3,"ngModelChange","ngModel"],["label","Motif"],["id","motif","name","motif","required","",3,"ngModelChange","ngModel"],[4,"ngIf"]],template:function(i,o){if(i&1){let a=x();n(0,"main",4)(1,"h1",5),e(2,"D\xE9mo horizontal stepper"),t(),n(3,"section",6)(4,"zac-horizontal-stepper",7,0)(6,"cdk-step",8),_(7,L0,2,0,"ng-template",9),n(8,"form",10,1)(10,"zac-form-field",11)(11,"input",12),v("ngModelChange",function(c){return d(a),b(o.theme,c)||(o.theme=c),f(c)}),t()(),n(12,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()(),n(13,"cdk-step",8),_(14,B0,2,0,"ng-template",9),n(15,"form",10,2)(17,"zac-form-field",14)(18,"input",15),v("ngModelChange",function(c){return d(a),b(o.sujet,c)||(o.sujet=c),f(c)}),t()(),n(19,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()(),n(20,"cdk-step"),_(21,k0,2,0,"ng-template",9),n(22,"form",10,3)(24,"zac-form-field",16)(25,"input",17),v("ngModelChange",function(c){return d(a),b(o.motif,c)||(o.motif=c),f(c)}),t()(),n(26,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()()(),_(27,G0,5,3,"section",18),t()()}if(i&2){let a=M(9),s=M(16);m(6),u("stepControl",a.control),m(5),S("ngModel",o.theme),m(),u("validationButtonNames",G(9,q0)),m(),u("stepControl",s.control),m(5),S("ngModel",o.sujet),m(),u("validationButtonNames",G(10,V0)),m(6),S("ngModel",o.motif),m(),u("validationButtonNames",G(11,O0)),m(),u("ngIf",o.saisieComplete)}},dependencies:[N,W,ge,P,R,q,w,z,H,V,O,js,po,L,uo,ce,fe,k],styles:[`label+input{margin:0 0 4% 4%!important}
`],encapsulation:2,changeDetection:0})};var j0=["code"],tr=class l{code;openTitle="Cliquez pour ouvrir";closeTitle="Cliquez pour fermer";iconType="question";iconPosition="left";buttonText="Copy";buttonClass="";textInput;constructor(){}onCopy(){return Ce(this,null,function*(){if(this.code)try{yield navigator.clipboard.writeText(this.code.nativeElement.innerText),this.buttonText="Copied",this.buttonClass="success"}catch{this.buttonText="Failed",this.buttonClass="error"}yield Re.waitMilliseconds(2e3),this.buttonText="Copy",this.buttonClass=""})}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-know-more"]],viewQuery:function(i,o){if(i&1&&Y(j0,7),i&2){let a;$(a=ee())&&(o.code=a.first)}},decls:100,vars:10,consts:[["form","ngForm"],[1,"demo-wrapper"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section","display-section"],["src","components/DemoKnowMoreComponent.html#template"],[3,"text","openTitle","closeTitle","icon","iconPosition"],[1,"demo-section","control-section"],["for","textInput"],["id","textInput","type","text","name","textInput",3,"ngModelChange","ngModel"],["for","openTitleInput"],["id","openTitleInput","type","text","name","openTitle",3,"ngModelChange","ngModel"],["for","closeTitleInput"],["id","closeTitleInput","type","text","name","closeTitle",3,"ngModelChange","ngModel"],["for","iconType"],["id","iconType","name","iconType",3,"ngModelChange","ngModel"],["value","question"],["value","plus"],["value","chevron"],["for","iconPosition"],["id","iconPosition","name","iconPosition",3,"ngModelChange","ngModel"],["value","left"],["value","right"],[1,"demo-section","usage-section"]],template:function(i,o){if(i&1){let a=x();n(0,"div",1)(1,"header")(2,"h1",2),e(3,"Know-More Component Demo"),t()(),n(4,"div",3)(5,"section",4)(6,"app-source",5)(7,"zac-know-more",6),e(8," Lorem ipsum, dolor sit amet consectetur adipisicing elit."),p(9,"br"),e(10," Asperiores, at cum."),p(11,"br"),e(12," Deleniti sapiente sit architecto aut repellat eveniet enim harum nobis sequi?"),p(13,"br"),e(14," Iure corrupti labore at laboriosam blanditiis, molestiae reiciendis."),p(15,"br"),t()()(),n(16,"section",7)(17,"form",null,0)(19,"table")(20,"thead")(21,"td")(22,"strong"),e(23,"Property"),t()(),n(24,"td")(25,"strong"),e(26,"Demo Value"),t()(),n(27,"td")(28,"strong"),e(29,"Default Value"),t()(),n(30,"td")(31,"strong"),e(32,"Possible Values"),t()()(),n(33,"tr")(34,"td")(35,"zac-label",8),e(36,"text"),t()(),n(37,"td")(38,"input",9),v("ngModelChange",function(c){return d(a),b(o.textInput,c)||(o.textInput=c),f(c)}),t()(),p(39,"td")(40,"td"),t(),n(41,"tr")(42,"td")(43,"zac-label",10),e(44,"openTitle"),t()(),n(45,"td")(46,"input",11),v("ngModelChange",function(c){return d(a),b(o.openTitle,c)||(o.openTitle=c),f(c)}),t()(),n(47,"td"),e(48,"Afficher l'aide"),t(),n(49,"td"),e(50,"-"),t()(),n(51,"tr")(52,"td")(53,"zac-label",12),e(54,"closeTitle"),t()(),n(55,"td")(56,"input",13),v("ngModelChange",function(c){return d(a),b(o.closeTitle,c)||(o.closeTitle=c),f(c)}),t()(),n(57,"td"),e(58,"Masquer l'aide"),t(),n(59,"td"),e(60,"-"),t()(),n(61,"tr")(62,"td")(63,"zac-label",14),e(64,"icon"),t()(),n(65,"td")(66,"select",15),v("ngModelChange",function(c){return d(a),b(o.iconType,c)||(o.iconType=c),f(c)}),n(67,"option",16),e(68,"question"),t(),n(69,"option",17),e(70,"plus"),t(),n(71,"option",18),e(72,"chevron"),t()()(),n(73,"td"),e(74,"question"),t(),n(75,"td"),e(76,"question | plus | chevron"),t()(),n(77,"tr")(78,"td")(79,"zac-label",19),e(80,"iconPosition"),t()(),n(81,"td")(82,"select",20),v("ngModelChange",function(c){return d(a),b(o.iconPosition,c)||(o.iconPosition=c),f(c)}),n(83,"option",21),e(84,"left"),t(),n(85,"option",22),e(86,"right"),t()()(),n(87,"td"),e(88,"left"),t(),n(89,"td"),e(90,"left | right"),t()()()()(),n(91,"section",23)(92,"h2"),e(93,"Utilisation"),t(),e(94," le composant est utilis\xE9 de la mani\xE8re suivante: "),n(95,"ul")(96,"li"),e(97,`Le contenu de l'info doit etre plac\xE9 entre les balises du composant, ou bien dans l'input "text" qui sera automatiquement mis au sein d'une balise p. Si cet input est utilis\xE9, ce qu'il y a entre les balises du composant sera ignor\xE9.`),t(),n(98,"li"),e(99,"les propri\xE9t\xE9s sont toute facultatives, ayant chacune une valeur par d\xE9faut"),t()()()()()}if(i&2){let a;m(7),Ct("openTitle",o.openTitle),Ct("closeTitle",o.closeTitle),u("text",(a=o.textInput)!==null&&a!==void 0?a:"")("icon",o.iconType)("iconPosition",o.iconPosition),m(31),S("ngModel",o.textInput),m(8),S("ngModel",o.openTitle),m(10),S("ngModel",o.closeTitle),m(10),S("ngModel",o.iconType),m(16),S("ngModel",o.iconPosition)}},dependencies:[N,P,R,In,Nn,q,Mn,w,z,V,O,A,Qs,ue],styles:[`:host{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;min-height:100vh;color:#444}.demo-wrapper{width:90%;max-width:1000px;margin:20px}.display-section,.control-section,.usage-section,.snippet-section{padding:20px;margin-bottom:50px}.control-section{display:flex;justify-content:center}.success{color:#2ecc71}.error{color:#e74c3c}header{padding:10px 15px}h2{margin:20px 0}p{margin:1rem 0}pre{position:relative;border:1px solid lightgray;background-color:#272822;color:#f8f8f2;margin-top:20px}pre button{position:absolute;top:15px;right:15px;padding:0;background-color:transparent;border:none;outline:none}input,select{width:300px;height:30px;border-radius:5px;border:1px solid darkgray;box-shadow:none;font-size:16px}form{width:100%;max-width:800px}table{width:100%}table td{padding:5px 10px}table thead{border-bottom:1px solid lightgray}table tr:not(:last-child){border-bottom:1px solid #d7d7d7}
`],encapsulation:2,changeDetection:0})};var wt=class l{modalPayload;constructor(){}ngOnInit(){console.log("openDialog ModalContentComponent ",this)}close(r){console.log("close ModalContentComponent payload",r)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-modal-content"]],decls:6,vars:1,consts:[["zacAutofocus",""],[1,"main"],[3,"personneSaisie","personne"]],template:function(i,o){i&1&&(n(0,"div")(1,"header")(2,"h1",0),e(3,"Titre de la modale qui est super long juste pour l'exemple"),t()(),n(4,"div",1)(5,"app-saisie-personne",2),h("personneSaisie",function(s){return o.close(s)}),t()()()),i&2&&(m(5),u("personne",o.modalPayload))},dependencies:[Kn,fe],encapsulation:2})};var ti=class l{modalPayload;constructor(){}ngOnInit(){}close(r){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-modal-content-without-header"]],decls:21,vars:0,consts:[[1,"main"],["name","toto","zacAutofocus","","value","toto"],[1,"control_bar"],[1,"button","--button_secondary"],[1,"button","--button_primary"],[1,"button","--button_tertiary"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"p"),e(2," L'alignement des boutons est diff\xE9rent si vous \xEAtes en DESKTOP ou MOBILE "),t(),n(3,"p"),e(4,"DESKTOP "),n(5,"strong"),e(6,"(sup\xE9rieur ou \xE9gale \xE0 706px)"),t(),e(7," = horizontale avec un ordre particulier "),t(),n(8,"p"),e(9," MOBILE "),n(10,"strong"),e(11,"(inf\xE9rieur strictement \xE0 706px)"),t(),e(12," = verticale avec un ordre particulier "),t(),p(13,"input",1),t(),n(14,"footer",2)(15,"button",3),e(16,"Retour"),t(),n(17,"button",4),e(18,"Valider ma saisie"),t(),n(19,"button",5),e(20,"Sauvegarder un brouillon"),t()())},dependencies:[fe],encapsulation:2})};var ni=class l{modalPayload;constructor(){}ngOnInit(){}close(r){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-modal-lot-of-content"]],decls:51,vars:0,consts:[["zacAutofocus",""],[1,"main"],[1,"control_bar"],[1,"button","--button_secondary"],[1,"button","--button_primary"],[1,"button","--button_tertiary"]],template:function(i,o){i&1&&(n(0,"header")(1,"h1",0),e(2,"Titre de la modale"),t()(),n(3,"div",1)(4,"p"),e(5,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(6,"p"),e(7,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(8,"p"),e(9,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(10,"p"),e(11,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(12,"p"),e(13,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(14,"p"),e(15,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(16,"p"),e(17,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(18,"p"),e(19,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(20,"p"),e(21,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(22,"p"),e(23,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t(),n(24,"p"),e(25,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(26,"p"),e(27,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(28,"p"),e(29,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(30,"p"),e(31,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(32,"p"),e(33,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(34,"p"),e(35,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(36,"p"),e(37,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(38,"p"),e(39,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(40,"p"),e(41,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(42,"p"),e(43,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t()(),n(44,"footer",2)(45,"button",3),e(46,"Retour"),t(),n(47,"button",4),e(48,"Action avec un long intitul\xE9"),t(),n(49,"button",5),e(50,"Action 2"),t()())},dependencies:[fe],encapsulation:2})};var ii=class l{constructor(){}ngOnInit(){}close(r){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-modal-without-close-button"]],decls:2,vars:0,template:function(i,o){i&1&&(n(0,"p"),e(1,"Coucou, je suis tout simple"),t())},encapsulation:2})};function W0(l,r){if(l&1&&(n(0,"h2",11),e(1,"Personne saisie"),t(),n(2,"section"),e(3),K(4,"json"),t()),l&2){let i=g();m(3),D(" ",X(4,1,i.personneSaisie)," ")}}var nr=class l{constructor(r){this.modalService=r}personneSaisie;openModal(){this.modalService.open(wt,this.personneSaisie,{title:"toto",returnFocusSelector:"#open-modal-1"}).subscribe(r=>{console.log("sortie modale =",r),this.personneSaisie=r})}openModalWithOutHeader(){this.modalService.open(ti).subscribe(r=>console.log("sortie modale sans header =",r))}openModalLotOfContent(){this.modalService.open(ni,void 0,{width:"300px"}).subscribe(r=>console.log("sortie modale avec beaucoup de contenu =",r))}openModalWithoutCloseButton(){this.modalService.open(ii,void 0,{title:"toto",closeButton:!1,width:"400px"}).subscribe(r=>{console.log("sortie modale =",r),this.personneSaisie=r})}static \u0275fac=function(i){return new(i||l)(y(Gt))};static \u0275cmp=E({type:l,selectors:[["app-demo-modal"]],decls:150,vars:1,consts:[[1,"main-container"],[1,"demo-title-section"],[1,"demo-section"],["target","_blank","routerLink","/demo-autofocus"],["src","components/ModalContentComponent.html#template"],["src","components/DemoModalComponent.html#template"],["id","open-modal-1",1,"button","--button_primary",3,"click"],[3,"ngIf"],[1,"button","--button_secondary",3,"click"],[1,"button","--button_primary",3,"click"],[1,"button","--button_tertiary",3,"click"],[1,"title-subsection"]],template:function(i,o){i&1&&(n(0,"main",0)(1,"h1",1),e(2,"D\xE9mo du composant zac-modal"),t(),n(3,"section",2)(4,"h2"),e(5,"D\xE9claration de la modale"),t(),n(6,"p"),e(7,"Un composant "),n(8,"code"),e(9,"zac-modal"),t(),n(10,"b"),e(11," unique"),t(),e(12," doit \xEAtre pos\xE9 sur la single page application, en g\xE9n\xE9ral au niveau root dans le "),n(13,"code"),e(14,"AppComponent.html"),t(),e(15,"."),t(),n(16,"p"),e(17,"C'est lui qui va contenir le contenu de la modale qui sera ouvert par appel de "),n(18,"code"),e(19,"ModalService.openDialog(...)"),t(),e(20,", lequel "),n(21,"code"),e(22,"ModalService"),t(),n(23,"b"),e(24," doit aussi \xEAtre provid\xE9 une seule fois"),t(),e(25," au niveau le plus haut."),t()(),n(26,"section",2)(27,"h2"),e(28,"Contenu de la modale"),t(),n(29,"p"),e(30,"Le contenu affich\xE9 par la modale est un composant normal, qui peut "),n(31,"b"),e(32,"aussi"),t(),e(33," \xEAtre utilis\xE9 comme tout autre composant, comme ci-dessous, mais qui doit en plus impl\xE9menter l'interface "),n(34,"code")(35,"b"),e(36,"ModalContentApi"),t()(),e(37,' "\xE0 vide" ( cf code source ci-contre ) puis \xEAtre "ouvert" via '),n(38,"code")(39,"b"),e(40,"ModalService"),t()(),e(41," (ci-apr\xE8s). "),t(),n(42,"h2"),e(43,"Payload"),t(),n(44,"p"),e(45,"Un payload peut \xEAtre pass\xE9 lors de l'ouverture de la modale, qu'il sera possible de r\xE9cup\xE9rer dans le composant via ModalContentApi. "),t(),n(46,"p"),e(47,"Idem \xE0 la fermeture de la modale"),t(),n(48,"h2"),e(49,"Options d'ouverture de la modale"),t(),n(50,"p"),e(51,"Des options peuvent aussi \xEAtre pass\xE9es lors de l'ouverture de la modale"),t(),n(52,"ul")(53,"li"),e(54,"closeButton : True (d\xE9faut) pour afficher le bouton de fermeture dans le header de la modale."),t(),n(55,"li"),e(56,"backgroundClose : True (d\xE9faut) pour permettre la fermeture de la modale qd on clicke \xE0 l'ext\xE9rieur de celle-ci. "),t(),n(57,"li"),e(58,"showOnInit : False (d\xE9faut) pour ne pas afficher la modale des que le composant est charg\xE9."),t(),n(59,"li"),e(60,"title : Titre de la modale (accessibilit\xE9)."),t(),n(61,"li"),e(62,"typePopin : Type de pop-in pour utilisation optimale de l'accessibilit\xE9 : alertdialog pour les popins de gestion, alert sinon "),t(),n(63,"li"),e(64,"width : Largeur de la modale"),t()(),n(65,"h2"),e(66,"Accessibilit\xE9"),t(),n(67,"p")(68,"b"),e(69,"Attention :"),t(),e(70,"Veillez a pr\xE9ciser o\xF9 mettre le focus \xE0 l'ouverture de la modale en ajoutant la directive "),n(71,"a",3),e(72,"zacAutofocus"),t(),e(73,"."),t(),n(74,"app-source",4),p(75,"app-modal-content"),t()(),n(76,"section",2)(77,"h2"),e(78,"Appel de la modale"),t(),n(79,"p"),e(80,"L'appel de la modale d\xE9clar\xE9e ci-dessus se fait via "),n(81,"code")(82,"b"),e(83,"ModalService"),t()(),e(84,', cf code ci-contre, onglets "source" et "template"'),t(),n(85,"app-source",5)(86,"section",2)(87,"h4"),e(88," Modale Header + avec un formulaire sans footer "),t(),n(89,"button",6),h("click",function(){return o.openModal()}),e(90,"Modale ouvre-toi !"),t(),_(91,W0,5,3,"ng-template",7),t(),n(92,"section",2)(93,"h4"),e(94," Modale sans header + alignement des boutons particulier dans le footer "),t(),n(95,"button",8),h("click",function(){return o.openModalWithOutHeader()}),e(96,"Modale ouvre-toi !"),t()(),n(97,"section",2)(98,"h4"),e(99," Modale sans bouton de fermeture "),t(),n(100,"button",9),h("click",function(){return o.openModalWithoutCloseButton()}),e(101,"Modale ouvre-toi !"),t()(),n(102,"section",2)(103,"h4"),e(104," Modale avec \xE9norm\xE9ment de contenu et un alignement simple des boutons dans le footer "),t(),n(105,"button",10),h("click",function(){return o.openModalLotOfContent()}),e(106,"Modale ouvre-toi !"),t()(),n(107,"section",2)(108,"strong"),e(109," Seulement pour avoir du scroll sur la page pour tester la modale"),t(),n(110,"p"),e(111,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(112,"p"),e(113,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(114,"p"),e(115,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(116,"p"),e(117,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(118,"p"),e(119,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(120,"p"),e(121,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(122,"p"),e(123,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(124,"p"),e(125,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(126,"p"),e(127,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(128,"p"),e(129,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t(),n(130,"p"),e(131,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(132,"p"),e(133,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(134,"p"),e(135,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(136,"p"),e(137,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(138,"p"),e(139,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(140,"p"),e(141,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(142,"p"),e(143,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(144,"p"),e(145,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(146,"p"),e(147,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(148,"p"),e(149,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t()()()()()),i&2&&(m(91),u("ngIf",o.personneSaisie))},dependencies:[N,W,ge,ae,A,he,wt],encapsulation:2,changeDetection:0})};var H0=["multiChoice1"],or=l=>({choice_button:l});function U0(l,r){if(l&1){let i=x();n(0,"zac-multi-choice",27,4),v("ngModelChange",function(a){d(i);let s=g();return b(s.themesSelectionne,a)||(s.themesSelectionne=a),f(a)}),h("ngModelChange",function(a){d(i);let s=g();return f(s.onNgModelChange(a))})("selectedValue",function(a){d(i);let s=g();return f(s.onSelected(a))})("blur",function(){d(i);let a=g();return f(a.onBlur())}),t()}if(l&2){let i=g(),o=M(90),a=M(97);u("ngClass",be(4,or,o.checked))("choiceList",i.themes),S("ngModel",i.themesSelectionne),u("horizontal",a.value)}}function Z0(l,r){if(l&1){let i=x();n(0,"zac-multi-choice",28),v("ngModelChange",function(a){d(i);let s=g();return b(s.themes2Selectionne,a)||(s.themes2Selectionne=a),f(a)}),h("ngModelChange",function(a){d(i);let s=g();return f(s.onNgModelChange(a))})("selectedValue",function(a){d(i);let s=g();return f(s.onSelected(a))})("blur",function(){d(i);let a=g();return f(a.onBlur())}),t()}if(l&2){let i=g(),o=M(90),a=M(97);u("ngClass",be(4,or,o.checked))("choiceList",i.themes),S("ngModel",i.themes2Selectionne),u("horizontal",a.value)}}function Q0(l,r){if(l&1&&(Q(0),n(1,"span",31),e(2),t(),J()),l&2){let i=r.$implicit;m(2),D("Custom ",i[1]," Custom")}}function J0(l,r){if(l&1){let i=x();n(0,"zac-multi-choice",29),v("ngModelChange",function(a){d(i);let s=g();return b(s.themes3Selectionne,a)||(s.themes3Selectionne=a),f(a)}),h("ngModelChange",function(a){d(i);let s=g();return f(s.onNgModelChange(a))})("selectedValue",function(a){d(i);let s=g();return f(s.onSelected(a))})("blur",function(){d(i);let a=g();return f(a.onBlur())}),_(1,Q0,3,1,"ng-container",30),t()}if(l&2){let i=g(),o=M(90),a=M(97);u("ngClass",be(4,or,o.checked))("choiceList",i.themes),S("ngModel",i.themes3Selectionne),u("horizontal",a.value)}}var Fm=(c=>(c.EMPLOYEUR="Employeur",c.ENTREPRISE="Entreprise, situation parcellaire",c.SANTE="Sant\xE9",c.FAMILLE="Famille, aides au logement",c.RSA="RSA, Prime d'activit\xE9",c.RETRAITE="Retraite, carri\xE8re",c))(Fm||{}),ir=class l{themes;themesSelectionne;themes2Selectionne;themes3Selectionne;multiChoice1;constructor(){}ngOnInit(){this.themes=Object.entries(Fm),this.ajouteDesIcones(),this.themesSelectionne=[],this.themes2Selectionne=["EMPLOYEUR","RETRAITE"],this.themes3Selectionne=[]}ngAfterViewInit(){this.desactiveChoixRetraite()}onSubmit(){console.log("demoMultiChoice.onSubmit")}onNgModelChange(r){console.log("demoMultiChoice.onNgModelChange ",r)}onSelected(r){console.log("demoMultiChoice.onSelected ",r)}onBlur(){console.log("demoMultiChoice.onBlur")}styleChanged(){}desactiveChoixRetraite(){this.multiChoice1?.getNativeElement()?.querySelector("#themeRETRAITE")?.setAttribute("disabled","true")}ajouteDesIcones(){this.themes[0].push(ds),this.themes[2].push(gs)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-multi-choice"]],viewQuery:function(i,o){if(i&1&&Y(H0,5),i&2){let a;$(a=ee())&&(o.multiChoice1=a.first)}},decls:122,vars:18,consts:[["ngForm","ngForm"],["choice_style",""],["horizontal","ngModel"],["readOnly","ngModel"],["multiChoice1",""],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoMultiChoiceComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Choisissez un th\xE8me (choicerequired) :",3,"readonly"],["id","theme","name","theme","choicerequired","",3,"ngClass","choiceList","ngModel","horizontal","ngModelChange","selectedValue","blur",4,"ngIf"],["label","Choisissez 3 th\xE8mes au moins (choicerequired='3') : ",3,"readonly"],["id","theme2","name","theme2","choicerequired","3","aria-labelledby","zac-label-theme2",3,"ngClass","choiceList","ngModel","horizontal","ngModelChange","selectedValue","blur",4,"ngIf"],["id","theme3","name","theme","aria-labelledby","zac-label-theme","choicerequired","",3,"ngClass","choiceList","ngModel","horizontal","ngModelChange","selectedValue","blur",4,"ngIf"],["type","submit",1,"button","--button_primary"],[1,"title-subsection"],[1,"form_field_wrapper"],["role","group",3,"ngClass"],["name","choice_style","id","choice_style_1","value","","type","radio","checked","",3,"change"],["for","choice_style_1"],["name","choice_style","id","choice_style_2","value","choice_button","type","radio",3,"change"],["for","choice_style_2"],["label","horizontal : true|false","hint","Permet de donner une orientation horizontale"],["id","horizontal","name","horizontal","ngModel","false"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["id","theme","name","theme","choicerequired","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","horizontal"],["id","theme2","name","theme2","choicerequired","3","aria-labelledby","zac-label-theme2",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","horizontal"],["id","theme3","name","theme","aria-labelledby","zac-label-theme","choicerequired","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","horizontal"],[4,"zacContent"],[2,"color","orange"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",5),e(1,` D\xE9mo du composant zac-multi-choice (ControlValueAccessor)
`),t(),n(2,"div",6)(3,"section",7)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",8)(7,"form",9,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",10),_(10,U0,2,6,"zac-multi-choice",11),t(),n(11,"zac-form-field",12),_(12,Z0,1,6,"zac-multi-choice",13),t(),n(13,"zac-form-field",10),_(14,J0,2,6,"zac-multi-choice",14),t(),n(15,"button",15),e(16,"Valider"),t()(),n(17,"p"),e(18),K(19,"json"),t(),n(20,"p"),e(21),K(22,"json"),t(),n(23,"p"),e(24),K(25,"json"),t()()(),n(26,"section",7)(27,"h2"),e(28,"Explications"),t(),n(29,"p"),e(30," Cet \xE9cran d\xE9montre le fonctionnement du composant zac-multi-choice proposant un choix multiple parmi une liste de valeurs pass\xE9e input sous la forme "),n(31,"code"),e(32,"[[code1, libelle1], [code2, libelle2]... ]"),t(),e(33,", initialis\xE9e ici \xE0 partir d'une "),n(34,"code"),e(35,"enum Theme"),t(),e(36," ainsi : "),n(37,"code"),e(38,"this.themes = Object.entries(Theme)"),t()(),n(39,"p"),e(40," La propri\xE9t\xE9 bind\xE9e "),n(41,"code"),e(42,"themesSelectionne"),t(),e(43," est de forme "),n(44,"code"),e(45,"[code1, code2,...]"),t()(),p(46,"app-explication-control-value-accessor"),n(47,"p")(48,"b"),e(49,"Attention :"),t(),e(50,"Les composants de choix fonctionnent tous selon le m\xEAme mod\xE8le : on pr\xE9cise la liste de choix par le biais du param\xE8tre "),n(51,"code"),e(52,"choiceList"),t(),e(53," de type array de couple "),n(54,"code"),e(55,"[CODE,LIBELLE][]"),t(),e(56," ou alors un objet ou enum "),n(57,"code"),e(58,"{CODE: LIBELLE}"),t(),e(59,". Ensuite la valeur du mod\xE8le li\xE9/r\xE9cup\xE9r\xE9 est seulement le CODE[], pas le LIBELLE[] "),t(),n(60,"p")(61,"b"),e(62,"Sp\xE9cificit\xE9 : "),t(),e(63,"la directive ("),n(64,"b"),e(65,"choicerequired"),t(),e(66,") et le validateur (choicerequiredValidator) ont \xE9t\xE9 ajout\xE9 afin de pouvoir sp\xE9cifier le nombre de choix minimum \xE0 s\xE9lectionner : "),t(),n(67,"ul")(68,"li"),e(69,"choicerequired (sans param\xE8tre) : Veuillez faire au moins 1 choix"),t(),n(70,"li"),fl(),e(71,' choicerequired="r" : Veuillez faire au moins {{ r }} choix '),dl(),t()(),n(72,"h2",16),e(73,"Style des boutons"),t(),n(74,"section")(75,"p")(76,"b")(77,"i"),e(78,"D\xE9pr\xE9ci\xE9 en intranet/orion, d\xE9sactiv\xE9 en extranet"),t()()(),n(79,"p"),e(80," A noter qu'il est possible de changer facilement le style des boutons en appliquant la classe css `choice_button` de zac-charte-sass. "),t(),n(81,"div",17)(82,"div",18)(83,"ul")(84,"li")(85,"input",19),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(86,"label",20),e(87,"Style simple"),t()(),n(88,"li")(89,"input",21,1),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(91,"label",22),e(92,"Style choice_button"),t()()()()()(),n(93,"h2"),e(94,"Autre param\xE8tres :"),t(),n(95,"zac-form-field",23),p(96,"zac-boolean-choice",24,2),t(),n(98,"zac-form-field",25)(99,"p"),e(100," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(101,"b"),e(102,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(103,"zac-boolean-choice",26,3),t(),n(105,"h2",16),e(106,"Projection de contenu dans les inputs"),t(),n(107,"section")(108,"p"),e(109,' Il est aussi possible de remplacer (hors checkbox) le contenu par d\xE9faut de chaque input du composant par un contenu custom. Ce contenu sera "projet\xE9" dans la balise '),n(110,"i"),e(111,"zac-label"),t(),e(112," de chaque input du multi-choice. Dans le contexte de cette projection sera disponible le "),n(113,"b"),e(114,"choice"),t(),e(115," courant. "),t(),n(116,"p")(117,"b"),e(118,"ATTENTION: "),t(),e(119," afin que ce contenu soit projet\xE9, la racine de votre contenu doit port\xE9 la directive "),n(120,"b"),e(121,"*zacContent"),t()()()()()}if(i&2){let a=M(90),s=M(104);m(9),u("readonly",s.value),m(),u("ngIf",o.themes),m(),u("readonly",s.value),m(),u("ngIf",o.themes),m(),u("readonly",s.value),m(),u("ngIf",o.themes),m(4),D("Theme selectionn\xE9 (1 requis) : ",X(19,10,o.themesSelectionne),""),m(3),D("Theme2 selectionn\xE9 (3 requis): ",X(22,12,o.themes2Selectionne),""),m(3),D("Theme3 selectionn\xE9 (1 requis): ",X(25,14,o.themes3Selectionne),""),m(58),u("ngClass",be(16,or,a.checked))}},dependencies:[N,vn,W,ge,P,R,w,z,V,O,ae,Te,A,io,L,xs,Ft,k,oe],styles:[`ul{margin-left:1em}ul li{display:list-item;list-style-position:inside}.form_field_wrapper [disabled=true]+label{color:gray;cursor:not-allowed}
`],encapsulation:2,changeDetection:0})};var rr=class l{constructor(r){this.builder=r}values={forLength13:"",forLength15:"",forPattern:"",forLuhn:"",forNir13:"",forNir15:""};formGroup;ngOnInit(){this.formGroup=this.builder.group({forLength13:["",[qn.nirLength13,Ee.required]],forLength15:["",[qn.nirLength15,Ee.required]],forPattern:["",[qn.nirPattern,Ee.required]],forNir13:["",[qn.nir13,Ee.required]],forNir15:["",[qn.nir15,Ee.required]]})}onSubmit(){this.formGroup.valid&&(this.values=dt(dt({},this.values),this.formGroup.value))}static \u0275fac=function(i){return new(i||l)(y(kt))};static \u0275cmp=E({type:l,selectors:[["app-demo-nir-validator"]],decls:60,vars:4,consts:[[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoNirValidatorComponent.html#template"],["zacErrors","",3,"ngSubmit","formGroup"],["label","Validators.NirLength13: Contr\xF4le de la longueur sur 13"],["id","forLength13","name","forLength13","formControlName","forLength13"],["label","Validators.NirLength15: Contr\xF4le de la longueur sur 15"],["id","forLength15","name","forLength15","formControlName","forLength15"],["label","Validators.NirPattern: Contr\xF4le du pattern"],["id","forPattern","name","forPattern","formControlName","forPattern"],["label","Validators.Nir13: Contr\xF4le complet nir sur 13"],["id","forNir13","name","forNir13","formControlName","forNir13"],["label","Validators.Nir15: Contr\xF4le complet nir sur 15 (luhn"],["id","forNir15","name","forNir15","formControlName","forNir15"],["type","submit",1,"button","--button_primary"]],template:function(i,o){i&1&&(n(0,"h1"),e(1,"D\xE9mo des validators de NIR"),t(),n(2,"div",0)(3,"section",1)(4,"app-source",2)(5,"h2"),e(6,"Exemple"),t(),n(7,"section")(8,"p"),e(9),K(10,"json"),t()(),n(11,"form",3),h("ngSubmit",function(){return o.onSubmit()}),n(12,"zac-form-field",4),p(13,"input",5),t(),n(14,"zac-form-field",6),p(15,"input",7),t(),n(16,"zac-form-field",8),p(17,"input",9),t(),n(18,"zac-form-field",10),p(19,"input",11),t(),n(20,"zac-form-field",12),p(21,"input",13),t(),n(22,"button",14),e(23,"Soumettre"),t()()()(),n(24,"section",1)(25,"h2"),e(26,"Explications"),t(),n(27,"p"),e(28,"Cet \xE9cran d\xE9montre plusieurs Validator consacr\xE9s au NIR :"),t(),n(29,"ul")(30,"li")(31,"b"),e(32,"NirValidators.Nirlength13"),t(),e(33,` retourne une error "nirlength13" s'il n'y a pas 13 caract\xE8res.`),t(),n(34,"li")(35,"b"),e(36,"NirValidators.Nirlength15"),t(),e(37,` retourne une error "nirlength15" s'il n'y a pas 15 caract\xE8res.`),t(),n(38,"li")(39,"b"),e(40,"NirValidators.NirPattern"),t(),e(41,` retourne une error "nirpattern" s'il y a des caract\xE8res inappropri\xE9s.`),t(),n(42,"li")(43,"b"),e(44,"NirValidators.NirLuhn (priv\xE9)"),t(),e(45,` retourne une error "nirluhn" si la saisie ne valide pas l'algo de Luhn `),p(46,"br"),e(47,"Ce pattern priv\xE9 ne doit pas \xEAtre utilis\xE9 seul, il est uniquement utilis\xE9 combin\xE9 dans Validators.Nir15 "),t(),n(48,"li")(49,"b"),e(50,"NirValidators.Nir13"),t(),e(51," validateur complet pour nir sur 13, combine Nirlength13 et NirPattern"),t(),n(52,"li")(53,"b"),e(54,"NirValidators.Nir15"),t(),e(55," validateur complet pour nir sur 15 avec contr\xF4le de la cl\xE9 (Luhn), combine Nirlength15, NirPattern et NirLuhn "),t()(),n(56,"p")(57,"b"),e(58,"Remarque : "),t(),e(59,"Contrairement \xE0 la cin\xE9matique classique les erreurs sont affich\xE9e sans attendre la soumission pour faciliter le test"),t()()()),i&2&&(m(9),D("Valeurs soumises : ",X(10,2,o.values),""),m(2),u("formGroup",o.formGroup))},dependencies:[N,ge,ne,R,q,w,z,te,_e,A,L,k],styles:["span.error[_ngcontent-%COMP%]{display:none;margin-left:1em}[formControlName].ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%] + span.error[_ngcontent-%COMP%]{display:inline!important;color:red}label[_ngcontent-%COMP%]{display:inline-block;min-width:30em}"]})};var ar=class l{valeursSoumises={forNir13:"",forNir15:""};valeurs=dt({},this.valeursSoumises);ngForm;constructor(){}ngOnInit(){this.valeurs=dt({},this.valeursSoumises)}onSubmit(){this.ngForm.valid&&(this.valeursSoumises=dt({},this.valeurs))}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-nir-directive"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:35,vars:5,consts:[["ngForm","ngForm"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoNirDirectiveComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","zacNir13: Contr\xF4le complet nir sur 13"],["id","forNir13","name","forNir13","zacNir13","","required","",3,"ngModelChange","ngModel"],["label","zacNir15: Contr\xF4le complet nir sur 15 (luhn)"],["id","forNir15","name","forNir15","zacNir15","","required","",3,"ngModelChange","ngModel"],["type","submit",1,"button","--button_primary"]],template:function(i,o){if(i&1){let a=x();n(0,"h1"),e(1,"D\xE9mo des directives de validation de NIR"),t(),n(2,"div",1)(3,"section",2)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",3)(7,"section")(8,"p"),e(9),K(10,"json"),t()(),n(11,"form",4,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(13,"zac-form-field",5)(14,"input",6),v("ngModelChange",function(c){return d(a),b(o.valeurs.forNir13,c)||(o.valeurs.forNir13=c),f(c)}),t()(),n(15,"zac-form-field",7)(16,"input",8),v("ngModelChange",function(c){return d(a),b(o.valeurs.forNir15,c)||(o.valeurs.forNir15=c),f(c)}),t()(),n(17,"button",9),e(18,"Soumettre"),t()()()(),n(19,"section",2)(20,"h2"),e(21,"Explications"),t(),n(22,"p"),e(23,"Cet \xE9cran d\xE9montre plusieurs directives de validation consacr\xE9es au NIR :"),t(),n(24,"ul")(25,"li")(26,"b"),e(27,"zacNir13"),t(),e(28," validateur complet pour nir sur 13 (valeur 3213 autoris\xE9e pour les ann\xE9es/mois inconnus), combine Nirlength13 et NirPattern"),t(),n(29,"li")(30,"b"),e(31,"zacNir15"),t(),e(32," validateur complet pour nir sur 15 avec contr\xF4le de la cl\xE9 (Luhn), combine Nirlength15, NirPattern et NirLuhn "),t()(),n(33,"p"),e(34,"A noter que ces directives ignorerons tout caract\xE8re espace."),t()()()}i&2&&(m(9),D("Valeurs soumises : ",X(10,3,o.valeursSoumises),""),m(5),S("ngModel",o.valeurs.forNir13),m(2),S("ngModel",o.valeurs.forNir15))},dependencies:[N,ge,P,R,q,w,z,H,V,O,A,L,k,Ms,qs],styles:["span.error[_ngcontent-%COMP%]{display:none;margin-left:1em}[name].ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%] + span.error[_ngcontent-%COMP%]{display:inline!important;color:red}label[_ngcontent-%COMP%]{display:inline-block;min-width:25em}"]})};var K0=()=>({updateOn:"blur"}),lr=class l{get montant(){return this._montant}set montant(r){this._montant=r}_montant;montantPositif;constructor(){}onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-number"]],decls:113,vars:11,consts:[["ngForm","ngForm"],["zacNumber","ngModel"],["zacAutosize","ngModel"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoNumberComponent.html#template"],["zacErrors","",3,"ngSubmit","ngFormOptions","zacReadonly"],["label","Montant"],["id","montant","name","montant","required","",3,"ngModelChange","ngModel","zacNumber","autoSize"],["label","Montant positif :"],["id","montantPositif","name","montantPositif","required","",3,"ngModelChange","ngModel","zacPositiveNumber","autoSize"],["type","submit",1,"button","--button_primary"],["href","https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Number","target","_blank"],["href","https://v17.angular.io/api/forms/Validators#pattern","target","_blank"],[1,"form_field_wrapper"],["for","zacNumber"],["id","zacNumber","name","zacNumber","ngModel","5,2"],["for","zacAutosize"],["id","zacAutosize","name","zacAutosize","ngModel","false"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",4),e(1,"D\xE9mo des directive et validator autour de la saisie de number"),t(),n(2,"div",5)(3,"section",6)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",7)(7,"form",8,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",9)(10,"input",10),v("ngModelChange",function(c){return d(a),b(o.montant,c)||(o.montant=c),f(c)}),t()(),n(11,"zac-form-field",11)(12,"input",12),v("ngModelChange",function(c){return d(a),b(o.montantPositif,c)||(o.montantPositif=c),f(c)}),t()(),n(13,"button",13),e(14,"Valider"),t()(),p(15,"br"),n(16,"p"),e(17),t(),n(18,"p"),e(19),t()()(),n(20,"section",6)(21,"h2"),e(22,"Explications"),t(),n(23,"p"),e(24,"Selon les principes du Design System les contr\xF4les de validation doivent \xEAtre effectu\xE9s a "),n(25,"strong"),e(26,"post\xE9riori sous forme de message de validation"),t(),e(27,", jamais a priori sous forme de coercition."),t(),n(28,"p"),e(29,"S'agissant de la saisie de valeurs num\xE9riques, cela implique que le comportement par d\xE9faut des navigateurs sur des "),n(30,"strong"),e(31,'input type="number"'),t(),e(32," n'est pas adapt\xE9 puisqu'il contraint \xE0 priori la saisie de valeur \xE0 des caract\xE8res uniquement num\xE9riques : tout caract\xE8re alphab\xE9tique est ainsi tout simplement ignor\xE9. "),t(),n(33,"p"),e(34,"La directive "),n(35,"strong"),e(36,"zacNumber"),t(),e(37,` s'utilise donc en remplacement de input type="number" pour contr\xF4ler a post\xE9riori qu'une valeur saisie est bien num\xE9rique, et doit donc obligatoirement \xEAtre li\xE9e a une propri\xE9t\xE9 javascript de `),n(38,"strong"),e(39,"type number"),t(),e(40," et non string."),t(),n(41,"p"),e(42,"Elle assure aussi la traduction correcte du s\xE9parateur d\xE9cimal entre le repr\xE9sentation IHM (la virgule en fran\xE7ais) et la repr\xE9sentation interne javascript (le point) correspondant au type javascript number. "),t(),n(43,"p"),e(44,"Par ailleurs la directive zacNumber accepte en param\xE8tre facultatif 2 contraintes de validation suppl\xE9mentaires, s\xE9par\xE9es par une virgule : la taille totale, la taille de la partie d\xE9cimale."),t(),n(45,"p")(46,"em"),e(47,"A noter"),t(),e(48," que cette directive doit \xEAtre utilis\xE9e aussi bien en "),n(49,"strong"),e(50,"template forms"),t(),e(51," qu'en "),n(52,"strong"),e(53,"reactive form"),t(),e(54," car elle porte non seulement des contraintes de validation mais aussi du code reformatage/conversion du s\xE9parateur d\xE9cimal (ControlValueAccessor). "),t(),n(55,"p")(56,"b"),e(57,"Attention, limites importantes :"),t()(),n(58,"p"),e(59,"Du fait des "),n(60,"a",14),e(61,"limitations d'impl\xE9mentation du type number en javascript"),t()(),n(62,"ul")(63,"li"),e(64,"Le fonctionnement est erratique et donc l'usage d\xE9conseill\xE9 au d\xE9l\xE0 d'une mantisse (total des chiffres avant et apr\xE8s la virgule) de plus de 15 chiffres "),t(),n(65,"li"),e(66,"la saisie de nombre avec exponentielle donnera lieu a une erreur de validation."),t()(),n(67,"p"),e(68,"Pour ces 2 cas d'usage, il est conseill\xE9 d'avoir une propri\xE9t\xE9 de mod\xE8le de type string et de g\xE9rer la validation par un "),n(69,"a",15),e(70,"Validators.pattern () d\xE9fini dans le code m\xE9tier."),t()(),p(71,"app-explication-control-value-accessor"),n(72,"p")(73,"b"),e(74,"Directive ZacPositiveNumber"),t()(),n(75,"p"),e(76,"Cette directive est juste une extension de ZacNumber, fonctionnant sur la m\xEAme API, qui rajoute en plus la contrainte de validation idoine."),t(),p(77,"br"),n(78,"h2"),e(79,"Param\xE8tres d'entr\xE9e"),t(),n(80,"p"),e(81,"Les param\xE8tres suivants permettent de faire varier le comportement :"),t(),n(82,"section")(83,"div",16)(84,"zac-label",17),e(85,"zacNumber : string "),n(86,"i"),e(87,"(facultatif)"),t()(),p(88,"input",18,1),n(90,"p"),e(91,'Param\xE8tre facultatif au format "total size,decimal size"'),t()(),n(92,"div",16)(93,"zac-label",19),e(94,"zacAutosize : boolean "),n(95,"i"),e(96,"(facultatif)"),t()(),p(97,"input",20,2),n(99,"p"),e(100,"Param\xE8tre facultatif permettant de tailler automatiquement la longueur"),t(),n(101,"p"),e(102,"Attention par d\xE9faut le style css appliqu\xE9 a un champ de ce type est text-align: center"),t()()(),n(103,"section",6)(104,"h2"),e(105,"Param\xE8tres"),t(),n(106,"zac-form-field",21)(107,"p"),e(108," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(109,"b"),e(110,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(111,"zac-boolean-choice",22,3),t()()()()}if(i&2){let a=M(89),s=M(98),c=M(112);m(7),u("ngFormOptions",G(10,K0))("zacReadonly",c.value),m(3),S("ngModel",o.montant),u("zacNumber",a.value)("autoSize",s.value),m(2),S("ngModel",o.montantPositif),u("zacPositiveNumber",a.value)("autoSize",s.value),m(5),D("Montant javascript correspondant : ",o.montant,""),m(2),D("Montant positif javascript correspondant : ",o.montantPositif,"")}},dependencies:[N,P,R,q,w,z,H,V,O,A,Te,L,On,k,Ln,ue,oe,mt],encapsulation:2})};function X0(l,r){if(l&1&&(n(0,"div")(1,"strong"),e(2),t(),n(3,"em"),e(4),t()()),l&2){let i=r.$implicit;m(2),De(i[1]),m(2),D("\xA0(",i[0],")")}}function Y0(l,r){if(l&1){let i=x();Q(0),e(1," Donn\xE9es de l'"),n(2,"a",25),h("action",function(){d(i);let a=g();return f(a.onBottomAction())}),e(3,"API D\xE9partement."),t(),J()}}var wa=class l{departementSubject$=new cn(void 0);departement$=this.departementSubject$;save(r){this.departementSubject$.next(r)}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})},sr=class l{constructor(r,i,o){this.router=r;this.service=i;this.cdr=o}choices=zo;_choice;unsub$=new de;ngForm;booleanChoice;set choice(r){this._choice=r}get choice(){return this._choice}onSubmit(){this.ngForm.valid&&(this.service.save(this.ngForm.control?.get("choice")?.value??""),this.router.navigateByUrl("/demo-error").then(()=>this.router.navigateByUrl("demo-select")))}onDropdownChange(r){console.log("**onDropdownChange",r),this.service.save(r)}mettre01(){setTimeout(()=>{this.service.save("01"),this.cdr.detectChanges()})}ngOnInit(){this.service.departement$.pipe($e(this.unsub$)).subscribe(r=>{r&&r!==""&&(this.choice=r)})}ngOnDestroy(){this.unsub$.next()}onBottomAction(){console.log("onBottomAction")}static \u0275fac=function(i){return new(i||l)(y(U),y(wa),y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-demo-select"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},features:[Ie([Ot(ot,{noneOption:2})])],decls:105,vars:11,consts:[["ngForm","ngForm"],["select1",""],["listSize","ngModel"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoSelectComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Champ boolean quelconque"],["id","booleanChoice","name","booleanChoice",3,"ngModelChange","ngModel"],[3,"readonly"],["name","choice","aria-label","D\xE9partement",3,"ngModelChange","listSize","choiceList","ngModel"],["name","Secondary","label","reset",3,"action"],["label","D\xE9partement avec libell\xE9 des options du select customis\xE9es par zacContent et bottom par zacBottom",3,"readonly"],["name","choice2","required","",3,"ngModelChange","listSize","choiceList","ngModel"],[4,"zacContent"],[4,"zacBottom"],["type","button",3,"click"],["href","https://design.msa.fr/3202b1bf4/p/222905-select/b/1816a1","target","_blank"],[1,"form_field_wrapper"],["for","listSize"],["id","listSize","name","listSize","ngModel","5"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["href","https://api.gouv.fr/documentation/api-geo","zacActionable","",1,"button","--button_ghost","--button_tertiary",3,"action"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",4),e(1,"D\xE9mo du composant Select"),t(),n(2,"div",5)(3,"section",6)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",7)(7,"form",8,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",9)(10,"zac-boolean-choice",10),v("ngModelChange",function(c){return d(a),b(o.booleanChoice,c)||(o.booleanChoice=c),f(c)}),t()(),n(11,"zac-form-field",11)(12,"span"),e(13),t(),n(14,"zac-select",12,1),v("ngModelChange",function(c){return d(a),b(o.choice,c)||(o.choice=c),f(c)}),t()(),n(16,"p")(17,"zac-button",13),h("action",function(){d(a);let c=M(15);return f(c.clearState())}),t(),e(18),t(),n(19,"zac-form-field",14)(20,"zac-select",15),v("ngModelChange",function(c){return d(a),b(o.choice,c)||(o.choice=c),f(c)}),_(21,X0,5,2,"div",16)(22,Y0,4,0,"ng-container",17),t()(),n(23,"button",18),h("click",function(){return d(a),f(o.mettre01())}),e(24,"Mettre programmatiquement la valeur \xE0 01"),t(),n(25,"nav"),p(26,"zac-control-bar"),t()()()(),p(27,"br"),n(28,"section",6)(29,"h2"),e(30,"Explications"),t(),n(31,"section")(32,"p"),e(33,"Cet \xE9cran d\xE9montre le fonctionnement du composant "),n(34,"a",19),e(35,"zac-select tel que d\xE9crit par le Design System"),t(),e(36," proposant un choix unique parmi une liste de valeurs pass\xE9es en param\xE8tre "),n(37,"code"),e(38,"choiceList"),t(),e(39," sous la forme "),n(40,"code"),e(41,"[[code1, libelle1], [code2, libelle2]... ]"),t()(),p(42,"app-explication-choice")(43,"app-explication-control-value-accessor"),t(),p(44,"br"),n(45,"h2"),e(46,"Param\xE8tres d'entr\xE9e (en plus de choiceList)"),t(),n(47,"p"),e(48,"Les param\xE8tres suivants permettent de faire varier le comportement :"),t(),n(49,"section")(50,"div",20)(51,"zac-label",21),e(52,"listSize : number"),t(),p(53,"input",22,2),n(55,"p"),e(56,"Taille de la liste ouverte (avant ascenseur)"),t()()(),n(57,"p"),e(58,"Le param\xE8tre facultatif "),n(59,"code")(60,"b"),e(61,"filter: (list: string[][], entry: string) => string[][]"),t()(),e(62," permet en outre de fournir une m\xE9thode de filtre custom en remplacement de celle par d\xE9faut."),t(),n(63,"p"),e(64,"Par ailleurs plut\xF4t que de n'afficher que le libelle brut d'une option sous forme de "),n(65,"code"),e(66,"String"),t(),e(67," simple il est possible de customiser exactement le rendu de chaque option en projetant du contenu dans le corps du select, pourvu qu'il soit identifi\xE9 par la directive structurelle "),n(68,"code"),e(69,"zacContent"),t(),e(70,", cf exemple dans le code."),t(),n(71,"h2"),e(72,"Autres param\xE8tres"),t(),n(73,"zac-form-field",23)(74,"p"),e(75," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(76,"b"),e(77,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(78,"zac-boolean-choice",24,3),t(),n(80,"p"),e(81,"Le param\xE8tre facultatif "),n(82,"code")(83,"b"),e(84,"noneOption: NoneOptionEnum"),t()(),e(85," permet de pr\xE9ciser s'il faut ajouter une option 'none' vide \xE0 la liste de choix (valeurs possibles : "),n(86,"code"),e(87,"NoneOptionEnum.without"),t(),e(88," par d\xE9faut, "),n(89,"code"),e(90,"NoneOptionEnum.with"),t(),e(91,", ou alors "),n(92,"code"),e(93,"NoneOptionEnum.ifNotRequired"),t(),e(94,", c.a.d. si le champ n'est pas required). "),p(95,"br"),e(96," Il a la priorit\xE9 sur la propri\xE9t\xE9 de configuration overridable "),n(97,"code"),e(98,"noneOption"),t(),e(99," de niveau global ci-dessous. "),t(),p(100,"app-explication-config"),n(101,"p"),e(102,"Comme on le voit ci-dessous cela permet d'overrider la configuration par d\xE9faut de l'ajout de l'option 'none', par d\xE9faut a NoneOptionEnum.without"),t(),n(103,"pre"),e(104,`
@Component({
  selector : 'app-demo-select',
      ...
  imports: [
          SelectComponent,
          ...
          ],
  providers: [
    /**
     * Overriding de niveau Component de la conf par d\xE9faut de SelectComponent permettant
      d'ajouter automatiquement l'option vide 'none' si le composant n'est pas obligatoire (required).
     */
    configure(SelectComponent, {
        noneOption: NoneOptionEnum.ifNotRequired,
    })
  ]
      `),t()()()}if(i&2){let a=M(54),s=M(79);m(10),S("ngModel",o.booleanChoice),m(),u("readonly",s.value),m(2),D("Dpt (",o.choice,")"),m(),u("listSize",a.value)("choiceList",o.choices),S("ngModel",o.choice),m(4),D("\xA0Valeur de la propri\xE9t\xE9= ",o.choice," "),m(),u("readonly",s.value),m(),u("listSize",a.value)("choiceList",o.choices),S("ngModel",o.choice)}},dependencies:[N,P,R,q,w,z,H,V,O,L,k,ot,ce,ae,Te,A,Qt,Jt,Oe,yn,ue,ji,Ft,oe],encapsulation:2,changeDetection:0})};var Rm=l=>({choice_button:l}),$0=()=>({updateOn:"change"}),qm=(c=>(c.EMPLOYEUR="Employeur",c.ENTREPRISE="Entreprise, situation parcellaire",c.SANTE="Sant\xE9",c.FAMILLE="Famille, aides au logement",c.RSA="RSA, Prime d'activit\xE9",c.RETRAITE="Retraite, carri\xE8re",c))(qm||{}),ep={themeSelectionne:""},mr=class l{constructor(r){this.router=r}themes=qm;message=ep;ngForm;ngOnInit(){this.message.themeSelectionne||(this.message.themeSelectionne="ENTREPRISE")}onSubmit(){this.ngForm.valid&&this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-single-choice"))}onSelected(r){console.log("value selected ",r)}onBlur(){console.log("single-choice blur")}onNgModelChange(r){console.log("value onNgModelChange ",r)}styleChanged(){}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-single-choice"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:59,vars:13,consts:[["ngForm","ngForm"],["choice_style",""],["horizontal","ngModel"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoSingleChoiceComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Choisissez un th\xE8me :",3,"readonly"],["id","theme","name","theme","required","",1,"choice_button",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions","horizontal"],["type","submit",1,"button","--button_primary"],[1,"title-subsection"],[1,"form_field_wrapper"],["role","group",3,"ngClass"],["name","choice_style","id","choice_style_1","value","","type","radio","checked","",3,"change"],["for","choice_style_1"],["name","choice_style","id","choice_style_2","value","choice_button","type","radio",3,"change"],["for","choice_style_2"],["label","horizontal : true|false","hint","Permet de donner une orientation horizontale"],["id","horizontal","name","horizontal","ngModel","false"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",4),e(1,"D\xE9mo du composant zac-single-choice (ControlValueAccessor)"),t(),n(2,"div",5)(3,"section",6)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",7)(7,"form",8,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",9)(10,"zac-single-choice",10),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t()(),n(11,"button",11),e(12,"Valider"),t()(),n(13,"p"),e(14),t()()(),n(15,"section",6)(16,"h2"),e(17,"Explications"),t(),n(18,"p"),e(19,"Cet \xE9cran d\xE9montre le fonctionnement du composant zac-single-choice proposant un choix unique parmi les valeurs d'une "),n(20,"code"),e(21,"enum Theme"),t(),e(22,", le choix \xE9tant maj dans le mod\xE8le ici au submit."),t(),n(23,"p"),p(24,"app-explication-choice")(25,"app-explication-control-value-accessor"),t(),n(26,"h2",12),e(27,"Style des boutons"),t(),n(28,"section")(29,"p")(30,"b")(31,"i"),e(32,"D\xE9pr\xE9ci\xE9 en intranet/orion, d\xE9sactiv\xE9 en extranet"),t()()(),n(33,"p"),e(34,"A noter qu'il est possible de changer facilement le style des boutons en appliquant la classe css `choice_button` de zac-charte-sass."),t(),n(35,"div",13)(36,"div",14)(37,"ul")(38,"li")(39,"input",15),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(40,"label",16),e(41,"Style simple"),t()(),n(42,"li")(43,"input",17,1),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(45,"label",18),e(46,"Style choice_button"),t()()()()(),n(47,"h2"),e(48,"Autre param\xE8tres :"),t(),n(49,"zac-form-field",19),p(50,"zac-boolean-choice",20,2),t(),n(52,"zac-form-field",21)(53,"p"),e(54," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(55,"b"),e(56,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(57,"zac-boolean-choice",22,3),t()()()()}if(i&2){let a=M(44),s=M(51),c=M(58);m(9),u("readonly",c.value),m(),u("ngClass",be(8,Rm,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(10,$0))("horizontal",s.value),m(4),D("Theme selectionn\xE9 : ",o.message.themeSelectionne,""),m(22),u("ngClass",be(11,Rm,a.checked))}},dependencies:[N,vn,P,R,w,z,H,V,O,Le,L,A,k,ae,Te,Qt,oe],encapsulation:2,changeDetection:0})};function tp(l,r){if(l&1){let i=x();Q(0,9),n(1,"zac-form-group-generator",10),h("lastFormControlPassed",function(){d(i);let a=g(4);return f(a.onLastControl2())}),t(),J()}if(l&2){let i=g().ngIf,o=g(3);u("formGroup",i),m(),u("model",o.personne.activiteSalarie)("modelType",o.ACTIVITE_SALARIE_TYPE)("progressive",!0)}}function np(l,r){if(l&1&&(Q(0),_(1,tp,2,4,"ng-container",8),J()),l&2){let i,o=g(3);m(),u("zacIf",(i=o.formGroup.get(o.PERSONNE_FOYER_PROPERTIES.situationProfessionnelle))==null||i.value==null?null:i.value.includes("AS"))}}function ip(l,r){if(l&1&&(Q(0),_(1,np,2,1,"ng-container",7),J()),l&2){let i=g(2);m(),u("ngIf",i.getActiviteSalarieFormGroup())}}function op(l,r){if(l&1){let i=x();n(0,"form",4),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(1,"zac-form-group-state-machine",5),h("lastFormControlPassed",function(){d(i);let a=g();return f(a.onLastControl())}),_(2,ip,2,1,"ng-container",6),t(),n(3,"nav"),p(4,"zac-control-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroup",i.formGroup)("stateMachineConfig",i.stateMachineConfig)("model",i.personne)("autofocus",!0),m(),u("zacAfter",i.PERSONNE_FOYER_PROPERTIES.situationProfessionnelle)}}var cr=class l{constructor(r){this.router=r}formGroup;stateMachineConfig=[{id:Pe.PROPERTIES.prenom,payload:{label:"Votre pr\xE9nom",validators:[qe.required]},transitions:{"*any":Pe.PROPERTIES.sexe}},{id:Pe.PROPERTIES.sexe,payload:{label:"Vous \xEAtes",nature:4,options:Vm,validators:[qe.required]},transitions:{F:Pe.PROPERTIES.nomJeuneFille,H:Pe.PROPERTIES.dateNaissance}},{id:Pe.PROPERTIES.nomJeuneFille,payload:{label:"Votre nom de naissance",validators:[qe.required]},transitions:{"*any":Pe.PROPERTIES.dateNaissance}},{id:Pe.PROPERTIES.dateNaissance,payload:{label:"Vous \xEAtes n\xE9(e) le",nature:3,validators:[qe.required]},transitions:{"*any":Pe.PROPERTIES.situationMatrimoniale}},{id:Pe.PROPERTIES.situationMatrimoniale,payload:{label:"Vous vivez",nature:4,options:Om,validators:[qe.required]},transitions:{"*any":Pe.PROPERTIES.dependRegimeAlsaceMoselle}},{id:Pe.PROPERTIES.dependRegimeAlsaceMoselle,payload:{label:"D\xE9pendez-vous du r\xE9gime Alsace-Moselle",nature:1,validators:[qe.required]},transitions:{"*any":Pe.PROPERTIES.situationProfessionnelle}},{id:Pe.PROPERTIES.situationProfessionnelle,payload:{label:"Etes-vous actuellement dans une ou plusieurs de ces situations",nature:7,options:Lm,validators:[qe.required]}}];PERSONNE_FOYER_PROPERTIES=Pe.PROPERTIES;ACTIVITE_SALARIE_TYPE=ur;personne;ngOnInit(){this.personne=yi,this.formGroup=new le({})}getActiviteSalarieFormGroup(){return this.formGroup?.get(Pe.PROPERTIES.activiteSalarie)||this.formGroup?.addControl(Pe.PROPERTIES.activiteSalarie,new le({})),this.formGroup?.get(Pe.PROPERTIES.activiteSalarie)}onSubmit(){this.formGroup?.valid?(yi||(yi=new Pe),Object.assign(yi,this.formGroup.value),console.log("submited ",yi),this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-state-machine"))):console.log("DemoStateMachineComponent form invalide ",this.formGroup)}onLastControl(){console.log("C'\xE9tait le dernier \xE9tat...")}onLastControl2(){console.log("C'\xE9tait le dernier champ...")}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-state-machine"]],decls:46,vars:1,consts:[[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoStateMachineComponent.html#template"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"lastFormControlPassed","formGroup","stateMachineConfig","model","autofocus"],[4,"zacAfter"],[4,"ngIf"],[3,"formGroup",4,"zacIf"],[3,"formGroup"],[3,"lastFormControlPassed","model","modelType","progressive"]],template:function(i,o){i&1&&(n(0,"h1"),e(1,"D\xE9mo du composants de g\xE9n\xE9ration de formulaire selon une machine a \xE9tat"),t(),n(2,"div",0)(3,"section",1)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",2),_(7,op,5,6,"form",3),t()(),n(8,"section",1)(9,"h2"),e(10,"Explications"),t(),n(11,"p"),e(12,"Ce composant permet de g\xE9n\xE9rer "),n(13,"b"),e(14,"dynamiquement"),t(),e(15," des FormControls \xE0 partir de la configuration d'une machine \xE0 \xE9tat donn\xE9e par le param\xE8tre "),n(16,"code"),e(17,"stateMachineConfig"),t(),e(18,"."),t(),n(19,"p"),e(20,"Example :"),t(),n(21,"code")(22,"pre"),e(23,`      {{
        id: PersonneFoyer.PROPERTIES.sexe,
        payload: {
          label: 'Vous \xEAtes',
          nature: ControlNatureEnum.singleChoice,
          options: SexeEnum,
          validators: [ALL_VALIDATOR_NAMES.required]
        },
        transitions: {
          'F': PersonneFoyer.PROPERTIES.nomJeuneFille,
          'H': PersonneFoyer.PROPERTIES.dateNaissance }
        },
        `),t()(),n(24,"p"),e(25,"Param\xE8tres suppl\xE9mentaires :"),t(),n(26,"ul")(27,"li")(28,"code"),e(29,"autofocus"),t(),e(30," = true (par d\xE9faut) permet de positionner automatiquement le focus sur chaque FormControl lors de son apparition progressive. "),t()(),n(31,"p"),e(32,"Au sein du body de ce composant il est possible d'utiliser la directive de marquage "),n(33,"code"),e(34,"AfterDirective='nom'"),t(),e(35," pour ins\xE9rer n'importe quel fragment de html apr\xE8s le 'nom' donn\xE9."),t(),n(36,"p")(37,"b"),e(38,"Attention, limites :"),t(),e(39," Le mod\xE8le associ\xE9 doit obligatoirement d\xE9finir ses propri\xE9t\xE9s en les initialisant au besoin avec undefined."),t(),p(40,"p"),n(41,"p"),e(42,"Le code de l'exemple ci-dessous est visible et comment\xE9 dans l'onglet source. A noter qu'au sein de la machine a \xE9tat apr\xE8s le dernier champ situation professionnelle la s\xE9lection d'une activit\xE9 salari\xE9 d\xE9clenche la g\xE9n\xE9ration automatique et l'affichage d'un autre groupe de champs \xE0 l'aide du composant "),n(43,"code"),e(44,"zac-form-group-generator"),t(),e(45,". "),t()()()),i&2&&(m(7),u("ngIf",o.personne&&o.formGroup))},dependencies:[N,W,ne,R,z,te,ae,A,Ks,ce,pm,Qe,um,k,Gi,Ns,it],encapsulation:2,changeDetection:0})},Vm=(i=>(i.F="Femme",i.H="Homme",i))(Vm||{}),Om=(i=>(i.S="Seul",i.C="En couple",i))(Om||{}),Lm=(C=>(C.AS="En activit\xE9 salari\xE9",C.RA="En reprise d'activit\xE9",C.REC="En recherche d'emplois",C.TI="Travailleur ind\xE9pendant",C.RET="A la retraite",C.IN="Inapte au travail",C.NO="Aucune de ces situation professionnelle",C))(Lm||{}),Bm=(a=>(a.FOR="Formation",a.CDD="CDD",a.CDI="CDI",a.CRE="Cr\xE9ation ou reprise d'entreprise",a))(Bm||{}),oi=class oi{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new oi);natureActiviteSalarie=void 0;activiteTempsPlein=void 0;activite2ans=void 0};ye([we({label:"Veuillez pr\xE9ciser la nature de cette activit\xE9",nature:4,options:Bm,validators:[qe.required]})],oi.prototype,"natureActiviteSalarie",2),ye([we({label:"Avez-vous eu une ou plusieurs activit\xE9s professionnelles \xE0 temps plein au cours de ces 3 derbi\xE8res ann\xE9es",nature:1,validators:[qe.required]})],oi.prototype,"activiteTempsPlein",2),ye([we({label:"Au total avez-vous travaill\xE9 pendant au moins 2 ans",nature:1,validators:[qe.required]})],oi.prototype,"activite2ans",2);var ur=oi,Pe=class l{static PROPERTIES=xt.getRecordOfPropertiesNamesFor(new l);nom=void 0;prenom=void 0;sexe=void 0;nomJeuneFille=void 0;dateNaissance=void 0;situationMatrimoniale=void 0;dependRegimeAlsaceMoselle=void 0;situationProfessionnelle=void 0;activiteSalarie=new ur},yi=new Pe;function rp(l,r){if(l&1&&(n(0,"b"),p(1,"zac-icon",17),e(2," Recherche "),t()),l&2){let i=g();m(),u("icon",i.iconSearch)}}var pr=class l{constructor(r){this.selectStyle=r;B(Dn).feedIconLibraryForComponent(new ls(l,[ga],[ga]))}selectedTabIndex=0;iconSearch=Ji;iconDataBase=Ki;ngOnInit(){this.selectStyle.style="intranet"}onSelectedTabChange(r){console.log("onSelectedTabChange",r)}static \u0275fac=function(i){return new(i||l)(y(Ne))};static \u0275cmp=E({type:l,selectors:[["app-demo-tab"]],decls:97,vars:4,consts:[["input",""],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoTabComponent.html#template"],[1,"--flex_row"],["for","index"],["id","index","zacPositiveNumber","3,0","autoSize","true",3,"ngModelChange","ngModel"],["id","tab-label"],["id","tab-description",1,"sr-only"],["aria-labelledby","tab-label","aria-describedby","tab-description",3,"selectedIndexChange","selectedTabChange","selectedIndex"],["zacTabLabel",""],["name","toto","value","toto"],["label","R\xE9sultat de la recherche","iconPosition","end",3,"icon"],[1,"section"],["href","https://www.w3.org/WAI/ARIA/apg/patterns/tabs/","target","_blank"],["routerLink","/demo-form-tab","target","_blank"],[3,"icon"]],template:function(i,o){if(i&1){let a=x();n(0,"main")(1,"h1",1),e(2," D\xE9mo d'usage du composant TabGroup et de ses Tabs "),t(),n(3,"div",2)(4,"section",3)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",4)(8,"div",5)(9,"zac-label",6),e(10,"Selected Index :\xA0"),t(),n(11,"input",7),v("ngModelChange",function(c){return d(a),b(o.selectedTabIndex,c)||(o.selectedTabIndex=c),f(c)}),t()(),p(12,"br"),n(13,"h2",8),e(14,"Le titre de mes onglets"),t(),n(15,"p",9),e(16," Une description de mes onglets "),t(),n(17,"zac-tab-group",10),v("selectedIndexChange",function(c){return d(a),b(o.selectedTabIndex,c)||(o.selectedTabIndex=c),f(c)}),h("selectedTabChange",function(c){return d(a),f(o.onSelectedTabChange(c))}),n(18,"zac-tab"),_(19,rp,3,1,"ng-template",11),n(20,"p"),e(21,"Ecrivez ce que vous voulez :"),t(),p(22,"input",12,0),t(),n(24,"zac-tab",13)(25,"section",14)(26,"p"),e(27,"Contenu de la recherche de l'onglet 1"),t(),n(28,"p"),e(29),t()()(),n(30,"zac-tab")(31,"section",3)(32,"p"),e(33,"Contenu du troisi\xE8me onglet"),t()()()()()(),n(34,"section",3)(35,"h2"),e(36,"Explications"),t(),n(37,"p"),e(38," Cette page illustre comment cr\xE9er des onglets avec les composants suivant : "),t(),n(39,"ul")(40,"li")(41,"code"),e(42,"zac-tab-group"),t(),e(43," est le conteneur des onglets."),t(),n(44,"li")(45,"code"),e(46,"zac-tab"),t(),e(47," est le conteneur d'un onglet au sein du "),n(48,"code"),e(49,"zac-tab-group"),t(),e(50,". "),t(),n(51,"li")(52,"code"),e(53,"zacTabLabel"),t(),e(54," est une directive de marquage permettant de pr\xE9ciser un label html riche, au sein d'un "),n(55,"code"),e(56,"zac-tab"),t(),e(57,", si le param\xE8tre "),n(58,"code"),e(59,"zac-tabel label='...'"),t(),e(60," ne suffit pas. "),t()(),p(61,"br"),n(62,"h3")(63,"b"),e(64,"Hors DS extranet"),t()(),n(65,"p"),e(66,"Attention ce composant est ath\xE9matique mais \xE0 l'heure actuelle les syst\xE8mes \xE0 onglets ne sont pas autoris\xE9s dans le DS extranet, aussi dans ce DS l'affichage n'est pas garanti."),t(),p(67,"br"),n(68,"h3")(69,"b"),e(70,"Accessibilit\xE9"),t()(),n(71,"p"),e(72," Le composant "),n(73,"code"),e(74,"zac-tab-group"),t(),e(75," applique le pattern de conception "),n(76,"a",15),e(77,"Tabs pattern"),t(),e(78," pour rendre accessible la s\xE9lection des onglets. "),t(),n(79,"p"),e(80," Il reste a la charge de l'application m\xE9tier de fournir un label et une description, par exemple au moyen des propri\xE9t\xE9s "),n(81,"code"),e(82,"aria-labelledby"),t(),e(83," et "),n(84,"code"),e(85,"aria-describedby"),t(),e(86," comme dans cet exemple. "),t(),p(87,"br"),n(88,"h3")(89,"b"),e(90,"Formulaire a onglet"),t()(),n(91,"p"),e(92," Cette page illustre le cas d'un syst\xE8me d'onglets simples et/ou autonomes, c.a.d. que le contenu de chaque onglet est soit sans formulaire soit contient et g\xE8re l'int\xE9gralit\xE9 d'un formulaire autonome, sans lien avec autre chose. "),t(),n(93,"p"),e(94,"Il est aussi possible avec ces m\xEAme composants de produire un formulaire compos\xE9 de plusieurs onglet, c'est l'objet d'une autre page "),n(95,"a",16),e(96,"demo formulaire a onglet"),t()()()()()}if(i&2){let a=M(23);m(11),S("ngModel",o.selectedTabIndex),m(6),S("selectedIndex",o.selectedTabIndex),m(7),u("icon",o.iconDataBase),m(5),De(a.value)}},dependencies:[A,ue,P,q,w,V,bo,vo,Ln,xo,he,zn],encapsulation:2,changeDetection:0})};function ap(l,r){if(l&1){let i=x();n(0,"th",3)(1,"p"),e(2,"M\xE9lange"),t(),n(3,"div")(4,"input",4),h("change",function(){d(i);let a=g();return f(a.onHeaderToogle())}),t(),n(5,"label",5)(6,"span",6),e(7,"S\xE9lection"),t()()()()}}function lp(l,r){if(l&1){let i=x();n(0,"td",7)(1,"div")(2,"input",8),v("ngModelChange",function(a){let s=d(i).$implicit;return b(s.selected,a)||(s.selected=a),f(a)}),t(),n(3,"label")(4,"span",6),e(5,"S\xE9lection"),t()()()()}if(l&2){let i=r.$implicit;m(2),S("ngModel",i.selected),Ze("id","sel-"+i.name),m(),Ze("for","sel-"+i.name)}}var dr=class l extends rm{selectAll=!1;selectAllChange=new Ue;onSelection(){console.log("onSelection")}onHeaderToogle(){this.selectAll=!this.selectAll,this.selectAllChange.emit(this.selectAll)}static \u0275fac=(()=>{let r;return function(o){return(r||(r=dn(l)))(o||l)}})();static \u0275cmp=E({type:l,selectors:[["app-action-column"]],inputs:{selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange"},features:[tt],decls:3,vars:0,consts:[["cdkColumnDef","action","xmlns","http://www.w3.org/1999/html"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdk-header-cell",""],["type","checkbox","ngModel","","id","sel-header",3,"change"],["for","sel-header"],[1,"sr-only"],["cdk-cell",""],["type","checkbox",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(Q(0,0),_(1,ap,8,0,"th",1)(2,lp,6,3,"td",2),J())},dependencies:[jn,Wn,Hn,P,wn,w,V,Gn,kn],styles:[`.demo-table .cdk-column-action{position:relative;display:flex;flex-direction:column;align-items:center}
`],encapsulation:2})};function up(l,r){l&1&&(n(0,"th",40),e(1,"No."),t())}function pp(l,r){if(l&1&&(n(0,"td",41)(1,"span")(2,"b"),e(3),t()()()),l&2){let i=r.$implicit;m(3),D("#",i.position,"")}}function dp(l,r){l&1&&p(0,"tr",42)}function fp(l,r){l&1&&p(0,"tr",43)}function gp(l,r){if(l&1){let i=x();Q(0),n(1,"p",28),e(2),t(),n(3,"table",29,3),h("zacSortChange",function(a){d(i);let s=g();return f(s.onSort(a))}),Q(5,30),_(6,up,2,0,"th",31)(7,pp,4,1,"td",32),J(),p(8,"zac-simple-column",33)(9,"zac-simple-column",34)(10,"zac-simple-column",35),n(11,"app-action-column",36),h("selectAllChange",function(a){d(i);let s=g();return f(s.onSelectAllChange(a))}),t(),_(12,dp,1,0,"tr",37)(13,fp,1,0,"tr",38),t(),n(14,"zac-paginator",39,4),h("page",function(a){d(i);let s=g();return f(s.onPage(a))}),t(),J()}if(l&2){let i=r.ngIf,o=M(15),a=g(),s=M(118),c=M(123),C=M(128);m(2),D(" ",o.length," \xE9l\xE9ments "),m(),u("dataSource",i),m(9),u("cdkHeaderRowDef",a.displayedColumns),m(),u("cdkRowDefColumns",a.displayedColumns),m(),u("hidePageSize",s.value)("pageSizeOptions",c.value==null?null:c.value.split(","))("showFirstLastButtons",C.value)}}var hp=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}],Ma=class l{getPeriodicElements(){return Et(hp).pipe(un(100))}getPeriodicElementsForWeightGt(r){return this.getPeriodicElements().pipe(We(i=>i.filter(o=>o.weight>=r)))}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})},fr=class l{constructor(r,i,o){this.periodicElementService=r;this.selectStyle=i;this.cdr=o}displayedColumns=["position","name","weight","symbol","action"];$dataSource=Se(void 0);elements;melange=[];sortDirective;paginatorComponent;_weightFilter;get weightFilter(){return this._weightFilter??0}set weightFilter(r){this._weightFilter=r,this.initializeDataSource(r)}ngOnInit(){this.selectStyle.style="intranet",this.initializeDataSource()}onSort(r){console.log("DemoTableComponent.onSort",r)}initializeDataSource(r=0){this.periodicElementService.getPeriodicElementsForWeightGt(r).pipe(et(i=>{this.elements=i,this.$dataSource.set(new So(i)),this.connectDatasourceToSortAndPaginator()})).subscribe()}connectDatasourceToSortAndPaginator(){setTimeout(()=>{this.$dataSource()&&(this.$dataSource().paginator=this.paginatorComponent,this.$dataSource().sort=this.sortDirective),this.initializeTri()})}initializeTri(){this.sortDirective&&(this.sortDirective.initializeSortState({columnName:"weight",direction:"desc"},!0),this.cdr.detectChanges())}melanger(){this.melange=this.elements?.filter(r=>r.selected).map(r=>r.name)??[]}onSelectAllChange(r){this.elements?.forEach(i=>{i.selected=r})}onPage(r){console.debug("onPage ",r)}static \u0275fac=function(i){return new(i||l)(y(Ma),y(Ne),y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-demo-table"]],viewQuery:function(i,o){if(i&1&&(Y(jt,5),Y(Wt,5)),i&2){let a;$(a=ee())&&(o.sortDirective=a.first),$(a=ee())&&(o.paginatorComponent=a.first)}},decls:140,vars:7,consts:[["hidePageSize","ngModel"],["pageSizeOptions","ngModel"],["showFirstLastButtons","ngModel"],["table",""],["paginator",""],[1,"demo-title-section"],["zacClassRoute","",1,"demo-section_reverse"],[1,"demo-section"],[1,"title-subsection"],["src","components/DemoTableComponent.html#template"],["id","table-zac-label"],[1,"zac-table--wrapper"],["label","Filtrer les \xE9l\xE9ments sur weight"],["zacNumber","2","autoSize","true",1,"--float-right",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"section_melange"],[1,"button_group"],["name","Secondary","label","M\xE9langer",1,"--center-horizontal",3,"action"],["href","https://v13.material.angular.io/cdk/table/overview","target","_blank"],["href","https://v13.material.angular.io/components/sort/overview"],["href","https://v13.material.angular.io/components/paginator/overview"],["routerLink","/demo-data-source"],["label","hidePageSize : true | false"],["id","hidePageSize","name","hidePageSize",1,"choice_button","--alignement_horizontal",3,"ngModel"],["label","pageSizeOptions : un tableau de number"],["id","pageSizeOptions","name","pageSizeOptions","ngModel","3,5,10,20"],["label","showFirstLastButtons : true | false"],["id","showFirstLastButtons","name","showFirstLastButtons",1,"choice_button","--alignement_horizontal",3,"ngModel"],["id","table-elements",1,"table-elements"],["aria-labelledby","table-zac-label","aria-describedby","table-element","cdk-table","","fixedLayout","true","zacSort","",3,"zacSortChange","dataSource"],["cdkColumnDef","position"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["name","name","label","Name","sortable","true"],["name","weight","label","Weight","sortable","true"],["name","symbol","label","Symbol","sortable","true"],[3,"selectAllChange"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],["id","paginator","aria-label","Naviguez dans les pages de la table",3,"page","hidePageSize","pageSizeOptions","showFirstLastButtons"],["cdk-header-cell",""],["cdk-cell",""],["cdk-header-row",""],["cdk-row",""]],template:function(i,o){if(i&1){let a=x();n(0,"h1",5),e(1,"D\xE9mo d'usage du composant Table"),t(),n(2,"div",6)(3,"section",7)(4,"h2",8),e(5,"Exemple"),t(),n(6,"app-source",9)(7,"p",10),e(8,"Liste p\xE9riodique des \xE9l\xE9ments :"),t(),p(9,"br"),n(10,"div",11)(11,"zac-form-field",12)(12,"input",13),v("ngModelChange",function(c){return d(a),b(o.weightFilter,c)||(o.weightFilter=c),f(c)}),t()(),_(13,gp,16,7,"ng-container",14),t(),n(14,"section",15)(15,"div",16)(16,"zac-button",17),h("action",function(){return d(a),f(o.melanger())}),t()(),n(17,"p"),e(18),K(19,"json"),t()()()(),p(20,"br"),n(21,"section",7)(22,"h2",8),e(23,"Usage"),t(),n(24,"p"),e(25," Cette page pr\xE9sente la fa\xE7on d'impl\xE9menter une table triable et paginable. "),t(),n(26,"p"),e(27," Pour cela nous avons fait le choix de ne pas r\xE9inventer la roue mais de reposer sur l'excellent composant "),n(28,"a",18)(29,"b"),e(30,"CDK"),t(),e(31,"\xA0Material Table"),t()(),n(32,"p"),e(33," Il ne s'agit pas directement du composant Material Table avec le th\xE8me Material, mais uniquement du composant "),n(34,"b"),e(35,"CDK"),t(),e(36," justement "),n(37,"i"),e(38,'non "th\xE9m\xE9" mat\xE9rial'),t(),e(39,", mais selon le Design System intranet ou extranet de iMSA "),t(),n(40,"p"),e(41," Pour construire une table simple (sans tri ni pagination) il suffit donc de suivre l'API du "),n(42,"a",18)(43,"b"),e(44,"CDK"),t(),e(45,"\xA0 Table"),t()(),n(46,"p"),e(47," Pour rajouter des colonnes triables, on doit utiliser les directive et composant/directive "),n(48,"code"),e(49,"zacSort et zac-sort-header"),t(),e(50," exactement comme on utiliserait les directive "),n(51,"a",19),e(52,"matSort et mat-sort-header"),t()(),n(53,"p"),e(54,' Pour rajouter un "paginateur", on doit utiliser le composant '),n(55,"code"),e(56,"zac-paginator"),t(),e(57," exactement comme on utiliserait le "),n(58,"a",20),e(59,"mat-paginator"),t()(),n(60,"p"),e(61,` Pour le code de cet exemple il suffit de regarder dans l'onglet "code source" de l'exemple ci-dessous. `),t(),n(62,"p"),e(63," Ce composant, comme toute la lib, d\xE9pends donc de la lib "),n(64,"code"),e(65,"@angular/cdk"),t(),e(66," mais "),n(67,"b"),e(68,"pas"),t(),e(69," de Material tout court, ni de la css material, seulement de "),n(70,"code"),e(71,"zac-charte-sass"),t(),e(72,". "),t(),p(73,"br"),n(74,"h2"),e(75,"Source de donn\xE9es dynamique"),t(),n(76,"section")(77,"p"),e(78," Comme indiqu\xE9 aussi dans les docs Material, la "),n(79,"code"),e(80,"ZacDataSource"),t(),e(81," par d\xE9faut est pr\xE9vue pour fonctionner avec tous les \xE9l\xE9ments de la liste pr\xE9sent en m\xE9moire, apr\xE8s une \xE9ventuelle r\xE9cup\xE9ration aupr\xE8s d'un back. "),t(),n(82,"p"),e(83," Mais il est aussi possible de faire une autre impl\xE9mentation d'une "),n(84,"code"),e(85,"ZacDataSource"),t(),e(86," qui ferait des acc\xE8s au back pour r\xE9cup\xE9rer chaque page, \xE0 combiner par exemple avec l'impl\xE9mentation pagin\xE9e d'un Repository spring-data c'est l'objet de l'impl\xE9mentation illustr\xE9e dans "),n(87,"a",21),e(88,"D\xE9mo Data Source"),t()()(),p(89,"br"),n(90,"h2"),e(91,"API simplifi\xE9e"),t(),n(92,"section")(93,"p"),e(94,"L'API du angular cdk est tr\xE8s souple, elle permet de customiser chaque header et chaque colonne, mais elles est tr\xE8s verbeuse. "),t(),n(95,"p"),e(96,"Un composant permet de sp\xE9cifier bcp plus simplement le cas une colonne o\xF9 l'on voudrait juste un texte simple (et non du html riche) en header et en valeur de colonne, il sagit de :"),t(),n(97,"pre"),e(98,`        <zac-simple-column name="columnPropertyName" label="Label de la colonne"></zac-simple-column>
      `),t(),n(99,"p"),e(100,"Exemple dans le code de la d\xE9mo."),t()(),p(101,"br"),n(102,"h2"),e(103,"(D\xE9)-composition"),t(),n(104,"section")(105,"p"),e(106,"D\xE9finir une table dans un seul composant peut le faire devenir ob\xE8se. Pour \xE9viter cela on peut souhaiter vouloir d\xE9l\xE9guer la d\xE9finition de chaque colonne dans un sous-composant d\xE9di\xE9. Mais le cdk angular ne reconna\xEEtra pas une telle d\xE9claration en profondeur, il faut l'aider programmatiquement. La classe abstraite "),n(107,"code"),e(108,"AbstractCdkColumn"),t(),e(109," met en place le code n\xE9cessaire, il suffit d'en faire h\xE9riter ses sous-composants d\xE9l\xE9gu\xE9s."),t(),n(110,"p"),e(111,"Exemple dans le code de la d\xE9mo pour la derni\xE8re colonne permettant de s\xE9lectionner une ligne."),t()(),p(112,"br"),n(113,"h2"),e(114,"Param\xE8tres d'entr\xE9e du zac-paginator"),t(),n(115,"section")(116,"zac-form-field",22),p(117,"zac-boolean-choice",23,0),n(119,"p"),e(120,"Permet d'afficher ou non le choix du nombre de lignes par page"),t()(),n(121,"zac-form-field",24),p(122,"input",25,1),n(124,"p"),e(125,"Tableau de choix de tailles de page possibles"),t()(),n(126,"zac-form-field",26),p(127,"zac-boolean-choice",27,2),n(129,"p"),e(130," Permet d'afficher ou non les boutons de navigation premi\xE8re et derni\xE8re page "),t()(),n(131,"h3"),e(132,"Initialisation de l'\xE9tat initial du tri"),t(),n(133,"p"),e(134,"Selon l'\xE9tat initial des donn\xE9es on peut vouloir afficher d\xE8s le d\xE9part sur quelle colonne principale celle-ci sont tri\xE9es ou alors on peut vouloir effectuer un tri sur ces donn\xE9es d\xE8s le d\xE9part."),t(),n(135,"p"),e(136,"La m\xE9thode "),n(137,"code"),e(138,"SortDirective.initializeSortState(sortEvent: SortEvent, toSort?: boolean)"),t(),e(139," permet de le faire (cf source)."),t()()()()}i&2&&(m(12),S("ngModel",o.weightFilter),m(),u("ngIf",o.$dataSource()),m(5),D("M\xE9lange des \xE9l\xE9ments s\xE9lectionn\xE9s dans le tableau : ",X(19,5,o.melange),""),m(99),u("ngModel",!1),m(10),u("ngModel",!0))},dependencies:[N,W,ge,P,q,w,V,is,A,L,On,Oe,oe,Co,_o,go,kn,Gn,jn,Hn,Eo,Wn,ho,fo,jt,Wt,im,dr,he],styles:[`.demo-table .section_melange{margin-top:1rem}
`],encapsulation:2,changeDetection:0})};var gr=class l{constructor(r){this.http=r}onClick(r){this.http.get(r).subscribe()}onErrorClientClick(r){let i=this.toto.expresPourProvoquerUneErreurJavascriptEtTestLenvoiAuBFF()}static \u0275fac=function(i){return new(i||l)(y(bt))};static \u0275cmp=E({type:l,selectors:[["app-demo-technical-error"]],decls:176,vars:0,consts:[[1,"content"],[1,"demo-title-section"],[1,"demo-section","exemple"],[1,"button","--button_primary",3,"click"],[1,"button","--button_secondary",3,"click"],[1,"demo-section","explications"],["href","#","routerLink","/extranet-technical-error"],["href","#","routerLink","/intranet-technical-error"],["href","#","routerLink","/intranet-habilitation-error"],[1,"attention"],["src","modules/DemoTechnicalErrorModule.html#source"],[1,"demo-section","exemples"],[1,"demo-section"],[1,"button","--button_tertiary",3,"click"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"h1",1),e(2,"D\xE9mo de l'intercepteur et de la page d'erreur technique"),t(),n(3,"section",2)(4,"button",3),h("click",function(){return o.onClick("wsrest/bidon")}),e(5,"D\xE9clencher requ\xEAte inexistante 'wsrest/bidon' "),n(6,"i"),e(7,"qui doit \xEAtre intercept\xE9e"),t()(),n(8,"button",4),h("click",function(){return o.onClick("wsrest/bandeau")}),e(9,"D\xE9clencher requ\xEAte \xE0 ignorer '/bandeau' "),n(10,"i"),e(11,"qui ne doit pas \xEAtre intercept\xE9e"),t()()(),n(12,"section",5)(13,"header")(14,"h2"),e(15,"1) Interception d'erreur http et redirection vers une page d'erreur"),t()(),n(16,"p"),e(17,"Les erreurs http "),n(18,"b"),e(19,"lanc\xE9es par HttpClient"),t(),e(20," passant le filtre seront intercept\xE9es et rout\xE9es. "),t(),n(21,"ul")(22,"li"),e(23,"Le filtre intercepte toute erreur http pour toute urlBackend contenant 'wsrest/' (configurable avec le param\xE8tre "),n(24,"code"),e(25,"apiPrefix"),t(),e(26,") "),t(),n(27,"li"),e(28,"Le routage par d\xE9faut est d'afficher la page "),n(29,"code")(30,"a",6),e(31,"ExtranetTechnicalErrorComponent"),t()(),e(32," ou "),n(33,"code")(34,"a",7),e(35,"IntranetTechnicalErrorComponent g\xE9n\xE9rique"),t()(),e(36," ou "),n(37,"code")(38,"a",8),e(39,"IntranetTechnicalErrorComponent d'habilitation"),t()(),e(40," selon le type d'erreur et le th\xE8me donn\xE9 lors de l'import de "),n(41,"code"),e(42,"ZacThemeModule"),t(),e(43," dans l'AppModule de l'application. "),p(44,"br")(45,"br"),n(46,"div",9)(47,"b"),e(48,"Attention"),t(),e(49,", les pages d'erreurs intranet s'affichent "),n(50,"b"),e(51,"ici"),t(),e(52," avec la bonne image mais avec les couleurs et polices de la CSS extranet et pas celles de la CSS intranet cible, parce que cette appli de d\xE9mo ne peut utiliser qu'une seule CSS en m\xEAme temps et il s'agit historiquement de la CSS extranet. Sur les applications intranet utilisant la CSS intranet, les couleurs et polices intranet seront bien utilis\xE9es. "),t()()(),n(53,"p"),e(54," Pour utiliser automatiquement l'impl\xE9mentation par d\xE9faut il suffit d'importer ce module dans une application, comme ci-dessous : "),t()(),n(55,"app-source",10)(56,"section",11)(57,"pre")(58,"code"),e(59,`
      @NgModule(
        imports: [
        .../...
        ZacTechnicalErrorModule.forRoot({{
           // pour sp\xE9cifier un prefix d'url d'api REST diff\xE9rente
           apiPrefix: 'api/',

           // pour sp\xE9cifier une url de retour diff\xE9rente (sur la page d'erreur)
           urlRetour: 'http://localhost:4200'
        }),
        AppRoutingModule,
      ],
    `),t()()(),n(60,"p"),e(61,"...Ou alors (angular 15+ standalone) dans votre "),n(62,"code"),e(63,"app.configuration-zac.ts"),t(),e(64," via la fonction "),n(65,"code"),e(66,"importProvidersFrom"),t()()(),n(67,"section",12)(68,"header")(69,"h2"),e(70,"2) Usages et configurations possibles"),t()(),n(71,"p"),e(72," Par ailleurs, comme on le voit ci-dessus, certaines informations (lien retour...) peuvent \xEAtre n\xE9cessaire \xE0 l'affichage de l'erreur. "),t(),n(73,"p"),e(74," S'agissant de l'url de retour le composant cherchera \xE0 initialiser la valeur de l'url (absolue) de retour en essayant successivement 3 sources de config possibles : "),t(),n(75,"ul")(76,"li"),e(77,"D'abord en priorit\xE9 le param\xE8tre "),n(78,"code"),e(79,"urlRerour"),t(),e(80," de l'objet de config du module (exemple ci-dessus). "),t(),n(81,"li"),e(82,"Ensuite le param\xE8tre "),n(83,"code"),e(84,"urlRetour"),t(),e(85,` de l'objet de config "data" d'une route dans le cas o\xF9 l'application m\xE9tier d\xE9finie et appelle elle-m\xEAme un cas de routage direct sur `),n(86,"code"),e(87,"IntranetTechnicalError"),t(),e(88," ou "),n(89,"code"),e(90,"ExtranetTechnicalError"),t(),e(91,". "),p(92,"br"),e(93," comme ci-dessous. A noter que cette source permet "),n(94,"b"),e(95,"aussi de configurer le titre et le texte explicatif"),t(),e(96,". "),t()(),n(97,"pre")(98,"code"),e(99,`
    /**
     * Exemple de configuration de route sp\xE9cifique avec customisation de IntranetTechnicalErrorComponent.
     * L'appel a cette route doit \xEAtre fait par l'application elle-m\xEAme.
     */
    const routes: Routes = [
      {{
        // lien d'acc\xE8s invalide (il manque les param\xE8tres CORGAMO & CAISSE)
        path: 'lien-acces',
        component: IntranetTechnicalErrorComponent,
        data: {
          titre: 'Lien invalide',
          texteExplicatif: 'Le lien vers cette application est erron\xE9',
          urlRetour: 'http://localhost:4200/#/accueil'
        }
      },
  `),t()(),n(100,"ul")(101,"li"),e(102,"Pour finir une \xE9ventuelle impl\xE9mentation du service abstrait "),n(103,"code"),e(104,"BandeauAccessor"),t(),e(105,", qui peut \xEAtre directement celle retourn\xE9e par "),n(106,"code"),e(107,"BandeauService"),t(),e(108," de la lib d'int\xE9gration du bandeau extranet. "),t()(),n(109,"pre")(110,"code"),e(111,`
    NgModule({{
      imports: [
      Z84BandeauExtranetModule.forConfig(bandeauExtranetConfig), // par exemple
      ZacTechnicalErrorModule,
      .../...
      ],
      provide: [
      {{ provide: BandeauAccessor, useExisting: BandeauService },
      ]
    })
  `),t()()(),n(112,"section",12)(113,"header")(114,"h2"),e(115,"3) Overridding, extension"),t()(),n(116,"p"),e(117,"En cas de besoin sp\xE9cifique, 2 points d'extensions sont offerts permettant de customiser le comportement de l'intercepteur par du code m\xE9tier, qui doit \xEAtre provid\xE9 (AppModule) au moyen de 2 impl\xE9mentations custom qu'il est possible de fournir \xE0 2 interfaces HttpErrorInterceptorFilterService et HttpErrorRouterService"),t(),n(118,"ul")(119,"li")(120,"pre")(121,"code"),e(122,"{{ provide: HttpErrorInterceptorFilterService, useClass: CustomErrorInterceptorFilterService}"),t()(),e(123,", permet de customiser le code d\xE9terminant qu'est-ce qui est une erreur"),t()(),n(124,"ul")(125,"li")(126,"pre")(127,"code"),e(128,"{{ provide: HttpErrorRouterService, useClass: CustomErrorRouterService },"),t()(),e(129,", permet de customiser le code d\xE9terminant que faire d'une erreur, en particulier quelle page afficher"),t()()(),n(130,"section",12)(131,"header")(132,"h2"),e(133,"4) Remont\xE9e des erreurs au back"),t()(),n(134,"p"),e(135," Il est aussi possible de configurer ZacTechnicalErrorModule avec les options suivantes : "),t(),n(136,"ul")(137,"li")(138,"code"),e(139,"sendClientError: true|false"),t(),e(140,", pour envoyer les erreurs clientes \xE0 un backend"),t(),n(141,"li")(142,"code"),e(143,"errorLogServerUrl: string"),t(),e(144," url relative (defaut '/wsrest/clientLogger/error') \xE0 laquelle envoyer les logs via POST d'un objet JSON "),n(145,"code"),e(146,"ClientLogDto"),t()(),n(147,"li")(148,"code"),e(149,"application: string"),t(),e(150," nom de l'application a remonter dans la trace (dans ClientLogDto)"),t()(),n(151,"p"),e(152,"Bien \xE9videmment il est n\xE9cessaire que l'op\xE9ration REST appel\xE9e soit impl\xE9ment\xE9e (non fournie)."),t()(),p(153,"br"),n(154,"section",12)(155,"header")(156,"h2"),e(157,"5) Interception et gestion des erreurs clientes"),t()(),n(158,"p"),e(159," Le providing dans le AppModule de l'application du service facultatif "),n(160,"code"),e(161,"ClientErrorHandlerService"),t(),e(162," permet de capturer les erreurs clientes (javascript) et d'afficher le m\xEAme \xE9cran que celui configur\xE9 pour les erreurs serveur, \xE0 configurer ainsi dans les options d'import de ZacTechnicalErrorModule "),t(),n(163,"p"),e(164," Il est aussi possible de configurer ZacTechnicalErrorModule avec les options suivantes : "),t(),n(165,"ul")(166,"li")(167,"code"),e(168,"showErrorDetailForAuthorizedHost: true|false"),t(),e(169,", de fa\xE7on \xE0 autoriser l'affichage du d\xE9tail des erreurs "),n(170,"b"),e(171,"seulement"),t(),e(172," en env iMSA (donc pas en PROD) "),t()()(),n(173,"section",2)(174,"button",13),h("click",function(){return o.onErrorClientClick("bidon")}),e(175,"Erreur cot\xE9 client (angular)"),t()()())},dependencies:[N,A],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.content[_ngcontent-%COMP%]   .attention[_ngcontent-%COMP%]{border:1px solid red}.content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{margin:0;padding:0;font-weight:600!important}.content[_ngcontent-%COMP%]   .exemple[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-direction:column}.content[_ngcontent-%COMP%]   .exemple[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.25em;width:auto}"]})};function Ep(l,r){if(l&1&&(Q(0),n(1,"p"),p(2,"zac-icon",7,0),n(4,"span",5),e(5),t()(),J()),l&2){let i=r.$implicit,o=M(3),a=g();m(2),u("iconName",i),m(3),Xe('<zac-icon iconName="',i,'"></zac-icon> (nom dans fontawesome = ',o.getName(a.themeService.theme),")")}}var hr=class l{constructor(r){this.themeService=r}iconsNames=Object.keys(ts.extranet);faIcon=cs;static \u0275fac=function(i){return new(i||l)(y(Dn))};static \u0275cmp=E({type:l,selectors:[["app-demo-theme-icon"]],decls:40,vars:2,consts:[["icon",""],[1,"demo-title-section"],[1,"demo-section"],["src","components/DemoThemeIconComponent.html#template"],[3,"icon"],[1,"label"],[4,"ngFor","ngForOf"],[3,"iconName"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",1),e(2,"D\xE9mo d'usage sur les Theme et Icon"),t(),n(3,"section",2)(4,"h2"),e(5,"Explications importantes"),t(),n(6,"p"),e(7,`Les ic\xF4nes utilis\xE9es par les DS sont les seules "d\xE9corations" qui ne soient pas port\xE9es par les css : pour des raisons historiques il s'agit d'ic\xF4nes fontawesome import\xE9es individuellement et statiquement sous forme de composant angular, ce qui permet d'en minimiser le payload.`),t(),n(8,"p"),e(9,"Les composants angular \xE9tant ath\xE9matique par essence il est n\xE9cessaire de pr\xE9ciser le th\xE8me a utiliser dans l'application, en important "),n(10,"code"),e(11,"ZacThemeModule.forIntranet()"),t(),e(12," ou "),n(13,"code"),e(14,"ZacThemeModule.forExtranet()"),t()(),n(15,"p")(16,"b"),e(17,"Attention "),t(),e(18," les ic\xF4nes du th\xE8me intranet ne sont pas d\xE9finitives, elle ne sont l\xE0 que pour illustrer les possibilit\xE9 du composant. "),t(),n(19,"p"),e(20," Par ailleurs il est tout \xE0 fait possible d'utiliser "),n(21,"b"),e(22,"directement les ic\xF4nes fontawesome"),t(),e(23," via le composant "),t(),n(24,"pre")(25,"code"),e(26,'<fa-icon [icon]="faIcon"></fa-icon>'),t()(),e(27," en les important dans le contr\xF4leur et en les exposant au html comme des properties (voir dans l'onglet source). Par contre en faisant ainsi on ne b\xE9n\xE9ficie pas de la variabilisation selon le th\xE8me. "),t(),n(28,"app-source",3)(29,"section",2)(30,"h2"),e(31,"Exemple d'ic\xF4ne fa (ind\xE9pendante du DS/th\xE8me)"),t(),n(32,"p"),p(33,"fa-icon",4),n(34,"span",5),e(35,'<fa-icon [icon]="iconProp"></fa-icon>'),t()(),p(36,"br"),n(37,"h2"),e(38,"Exemple d'ic\xF4nes zac pr\xE9d\xE9finies (changent avec le DS/theme)"),t(),_(39,Ep,6,3,"ng-container",6),t()()()),i&2&&(m(33),u("icon",o.faIcon),m(6),u("ngForOf",o.iconsNames))},dependencies:[N,St,P,vt,Vt,A,Xi,zn],styles:["zac-icon[_ngcontent-%COMP%], fa-icon[_ngcontent-%COMP%]{margin:.25rem .5rem;display:inline-block;width:3rem}"],changeDetection:0})};var _p=["formTheme"],Cp=()=>["Suivant"],Sp=()=>["Suivant","Precedent"],bp=()=>["Precedent"];function vp(l,r){l&1&&(n(0,"h2"),e(1,"> Choisissez un th\xE8me"),t())}function xp(l,r){l&1&&(n(0,"h2"),e(1,"> Choisissez un sujet"),t())}function yp(l,r){l&1&&(n(0,"h2"),e(1,"> Choisissez un motif"),t())}function Dp(l,r){if(l&1&&(n(0,"section")(1,"h2"),e(2,"Valeurs saisie et valid\xE9e \xE0 la fin du stepper :"),t(),e(3),K(4,"json"),t()),l&2){let i=g();m(3),D(" ",X(4,1,i.saisieComplete)," ")}}var Er=class l{theme;sujet;motif;saisieComplete;formTheme;stepperComplet(){this.saisieComplete={theme:this.theme,sujet:this.sujet,motif:this.motif}}get themeCtl(){return this.formTheme?.controls?.theme}get sujetCtl(){return this.formTheme?.controls?.sujet}get motifCtl(){return this.formTheme?.controls?.motif}onAction(r,i){i==="Suivant"?r.next():i==="Precedent"&&r.previous()}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-vertical-stepper"]],viewQuery:function(i,o){if(i&1&&Y(_p,5),i&2){let a;$(a=ee())&&(o.formTheme=a.first)}},decls:28,vars:12,consts:[["stepper",""],["formTheme","ngForm"],["formSujet","ngForm"],["formMotif","ngForm"],[1,"main-container"],[1,"demo-title-section"],[1,"demo-section"],["linear",""],[3,"stepControl"],["cdkStepLabel",""],["zacErrors",""],["label","Th\xE8me"],["id","theme","name","theme","required","",3,"ngModelChange","ngModel"],[3,"action","validationButtonNames"],["label","Sujet"],["id","sujet","name","sujet","required","",3,"ngModelChange","ngModel"],["label","Motif"],["id","motif","name","motif","required","",3,"ngModelChange","ngModel"],[4,"ngIf"]],template:function(i,o){if(i&1){let a=x();n(0,"main",4)(1,"h1",5),e(2,"D\xE9mo vertical stepper"),t(),n(3,"section",6)(4,"zac-vertical-stepper",7,0)(6,"cdk-step",8),_(7,vp,2,0,"ng-template",9),n(8,"form",10,1)(10,"zac-form-field",11)(11,"input",12),v("ngModelChange",function(c){return d(a),b(o.theme,c)||(o.theme=c),f(c)}),t()(),n(12,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()(),n(13,"cdk-step",8),_(14,xp,2,0,"ng-template",9),n(15,"form",10,2)(17,"zac-form-field",14)(18,"input",15),v("ngModelChange",function(c){return d(a),b(o.sujet,c)||(o.sujet=c),f(c)}),t()(),n(19,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()(),n(20,"cdk-step"),_(21,yp,2,0,"ng-template",9),n(22,"form",10,3)(24,"zac-form-field",16)(25,"input",17),v("ngModelChange",function(c){return d(a),b(o.motif,c)||(o.motif=c),f(c)}),t()(),n(26,"zac-control-bar",13),h("action",function(c){d(a);let C=M(5);return f(o.onAction(C,c))}),t()()()()(),_(27,Dp,5,3,"section",18),t()}if(i&2){let a=M(9),s=M(16);m(6),u("stepControl",a.control),m(5),S("ngModel",o.theme),m(),u("validationButtonNames",G(9,Cp)),m(),u("stepControl",s.control),m(5),S("ngModel",o.sujet),m(),u("validationButtonNames",G(10,Sp)),m(6),S("ngModel",o.motif),m(),u("validationButtonNames",G(11,bp)),m(),u("ngIf",o.saisieComplete)}},dependencies:[N,W,ge,P,R,q,w,z,H,V,O,Ws,po,L,uo,k,ce],styles:[`label+input{margin:0 0 4% 4%!important}
`],encapsulation:2,changeDetection:0})};var Mt={nom:"Bondyork",prenom:"Jean",sexe:"M",id:0,naissance:{},famille:[{nom:"Bondyork",prenom:"Jeanne",sexe:"F"},{nom:"Z\xE9tofrais",prenom:"M\xE9lanie",sexe:"F"}]};var wp=()=>["M","Masculin"],Mp=()=>["F","Feminin"],Ip=(l,r)=>[l,r];function Np(l,r){if(l&1&&(n(0,"zac-form-field",19)(1,"p",11)(2,"i"),e(3,"Champ cr\xE9\xE9, initialis\xE9 et supprim\xE9 automatiquement par zacCreateAndRemove"),t()(),p(4,"input",20),t()),l&2){let i=g(2);m(4),u("formControlName",i.PERSONNE_PROPERTIES.nomJeuneFille)("zacCreateAndRemove",i.personne.nomJeuneFille)}}function Tp(l,r){l&1&&p(0,"app-saisie-adresse",21)}function Pp(l,r){l&1&&p(0,"app-infos-complementaires",21)}function zp(l,r){if(l&1){let i=x();n(0,"form",8),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),Q(1,9),n(2,"zac-form-field",10)(3,"p",11)(4,"i"),e(5,"Champ cr\xE9\xE9 et initialis\xE9 automatiquement par zacCreate"),t()(),p(6,"input",12),t(),n(7,"zac-form-field",13)(8,"i",11),e(9,"(Le champ nom de jeune fille est conditionn\xE9 par cette s\xE9lection)"),t(),n(10,"p",11)(11,"i"),e(12,"Champ cr\xE9\xE9 et initialis\xE9 automatiquement par zacCreate"),t()(),p(13,"zac-single-choice",14),t(),_(14,Np,5,2,"zac-form-field",15),n(15,"zac-form-field",16)(16,"i",11),e(17,"(Les sous-composants app-saisie-adresse, app-saisie-commune et app-infos-complementaire sont conditionn\xE9s par cette s\xE9lection)"),t(),n(18,"p",11)(19,"i"),e(20,"Champ cr\xE9\xE9, initialis\xE9 automatiquement par zacCreate"),t()(),p(21,"zac-boolean-choice",17),t(),_(22,Tp,1,0,"app-saisie-adresse",18)(23,Pp,1,0,"app-infos-complementaires",18),J(),n(24,"nav"),p(25,"zac-control-bar"),t()()}if(l&2){let i,o,a,s=g();u("formGroup",s.formGroup),m(),u("zacProvide",s.personne),m(5),u("formControlName",s.PERSONNE_PROPERTIES.nom)("zacCreate",s.personne.nom)("validators",s.nomCustomValidator),m(7),u("formControlName",s.PERSONNE_PROPERTIES.sexe)("zacCreate",s.personne.sexe)("choiceList",nt(15,Ip,G(13,wp),G(14,Mp))),m(),u("zacIf",((i=s.formGroup.get(s.PERSONNE_PROPERTIES.sexe))==null?null:i.value)==="F"),m(7),u("formControlName",s.PERSONNE_PROPERTIES.coordonneesConnues)("zacCreate",s.personne.coordonneesConnues),m(),u("zacIf",!!((o=s.formGroup.get(s.PERSONNE_PROPERTIES.coordonneesConnues))!=null&&o.value)),m(),u("zacIf",!!((a=s.formGroup.get(s.PERSONNE_PROPERTIES.coordonneesConnues))!=null&&a.value))}}function Ap(l,r){l&1&&p(0,"app-saisie-commune",6)}function Fp(l,r){if(l&1&&(Q(0,1),n(1,"zac-form-field",2)(2,"i",3),e(3,"(Le sous-composant app-saisie-commune (et ses champs) est conditionn\xE9 par le fait que adresse.length > 3"),t(),n(4,"p",3)(5,"i"),e(6,"Champ cr\xE9\xE9, initialis\xE9 et supprim\xE9 automatiquement par zacCreateAndRemove"),t()(),p(7,"input",4),t(),_(8,Ap,1,0,"app-saisie-commune",5),J()),l&2){let i,o=g();u("formGroup",o.formGroupDirective.form),m(7),u("formControlName",o.PERSONNE_PROPERTIES.adresse)("zacCreateAndRemove",o.personne.adresse),m(),u("zacIf",((i=o.formGroupDirective.form.get(o.PERSONNE_PROPERTIES.adresse))==null||i.value==null?null:i.value.length)>3)}}function Rp(l,r){if(l&1&&(Q(0,1),n(1,"zac-form-field",2),p(2,"input",3),t(),J()),l&2){let i=g();u("formGroup",i.formGroupDirective.form),m(2),u("formControlName",i.PERSONNE_PROPERTIES.commune)("zacCreateAndRemove",i.personne.commune)}}function qp(l,r){if(l&1&&(Q(0,1),p(1,"br"),n(2,"p"),e(3," Dans ce bloc h\xE9ritant de "),n(4,"code"),e(5,"AbstractConditionnalBloc"),t(),e(6," la cr\xE9ation / suppression des FormControl est effectu\xE9e de fa\xE7on classique, non automatique, programmatiquement par le contr\xF4leur dans une seule m\xE9thode "),n(7,"code"),e(8,"onCondition(condition: boolean)"),t(),e(9," ce qui mutualise l'\xE9coute (1 seul listener) du flux de la directive "),n(10,"code"),e(11,"zacIf"),t()(),n(12,"zac-form-field",2),p(13,"input",3),t(),n(14,"zac-form-field",4),p(15,"input",3),t(),J()),l&2){let i=g();u("formGroup",i.formGroupDirective.form),m(13),u("formControlName",i.PERSONNE_PROPERTIES.email),m(2),u("formControlName",i.PERSONNE_PROPERTIES.telephone)}}var _r=class l{constructor(r,i,o){this.personneService=r;this.router=i;this.errors=o}PERSONNE_PROPERTIES=ie.PROPERTIES;formGroup;_personne;get personne(){return this._personne??this.formGroup.value}unsubject$=new de;ngOnInit(){this._personne=this.personneService.getPersonne(),console.log("Init personne ",this._personne),this.errors.validationError$.pipe($e(this.unsubject$)).subscribe(r=>console.log("Validation error =",r)),this.formGroup=new le({})}onSubmit(){console.log("submited valid ",this.formGroup.valid),this.formGroup.valid?(console.log("submited ",this.formGroup.value),this.personneService.savePersonne(this.formGroup.value),this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-xreactive-form",{replaceUrl:!0}))):console.warn("FORM SUBMITTED INVALID ",this.formGroup.value)}ngAfterViewInit(){this.resetModel()}ngOnDestroy(){this.unsubject$.next()}nomCustomValidator=r=>r?.value&&r.value.length>=3?null:{custom:new An("Le nom est requis et doit contenir au moins 3 caract\xE8res",ie.PROPERTIES.nom)};resetModel(){setTimeout(r=>{this._personne=void 0,console.log("Reinit personne",this.personne)})}static \u0275fac=function(i){return new(i||l)(y(Ta),y(U),y(Yi))};static \u0275cmp=E({type:l,selectors:[["app-demo-xreactive-form"]],decls:116,vars:1,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoXReactiveFormComponent.html#template"],["zacErrors","",3,"formGroup","ngSubmit",4,"zacIf"],["href","https://angular.io/guide/reactive-forms","target","_blank"],["href","https://angular.io/guide/forms","target","_blank"],["href","https://angular.io/guide/forms-overview","target","_blank"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"zacProvide"],["label","Nom"],[1,"txt-size-xs"],["required","","minlength","5",3,"formControlName","zacCreate","validators"],["label","Sexe"],["required","",1,"choice_button","--alignement_horizontal",3,"formControlName","zacCreate","choiceList"],["label","Nom de jeune fille","class","--zac_if",4,"zacIf"],["label","Coordonn\xE9es connues ?"],["required","",1,"choice_button","--alignement_horizontal",3,"formControlName","zacCreate"],["class","--zac_if",4,"zacIf"],["label","Nom de jeune fille",1,"--zac_if"],["required","",3,"formControlName","zacCreateAndRemove"],[1,"--zac_if"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2,"Reactive Form xtended"),t(),n(3,"section",1)(4,"section",2)(5,"app-source",3),_(6,zp,26,18,"form",4),t()(),n(7,"section",2)(8,"h2"),e(9,"Explications"),t(),n(10,"p"),e(11," La cr\xE9ation de formulaire en "),n(12,"a",5),e(13,"ReactiveFormModule"),t(),e(14," offre, par rapport \xE0 ceux en "),n(15,"a",6),e(16,"template driven (avec [(ngModel)]"),t(),e(17,", les avantages suivants (cf "),n(18,"a",7),e(19,"Forms overview"),t(),e(20,") : "),t(),n(21,"ul")(22,"li"),e(23," Meilleures performances (on \xE9vite pour chaque FormControl le binding bi-directionnel avec le mod\xE8le) "),t(),n(24,"li"),e(25," Un formulaire peut \xEAtre "),n(26,"b"),e(27,"decompos\xE9"),t(),e(28," en une cascade de sous formulaires "),t(),n(29,"li"),e(30,"Il est possible d'utiliser des validator custom"),t()(),n(31,"p"),e(32," De facto d\xE8s lors qu'on a affaire a de gros formulaires et qu'on veux d\xE9composer en sous-composants on est oblig\xE9 de recourir aux ReactiveFormModule. "),t(),n(33,"p"),e(34," Mais malheureusement en perdant des avantages importants du template driven : La creation/suppression et l'initialisation "),n(35,"b"),e(36,"automatique et directe dans le template html"),t(),e(37," (sans devoir les cr\xE9er programmatiquement dans le contr\xF4leur) des FormControl, particuli\xE8rement appr\xE9ciable quand ils sont conditionn\xE9s par une directive structurelle comme *ngIf. "),t(),n(38,"p"),e(39," Les directives et utilitaires pr\xE9sent\xE9s dans le code de cette page permettent de profiter des avantages du RecativeFormModule tout en retrouvant ceux des template driven forms "),t(),n(40,"ul")(41,"li"),e(42," La directive "),n(43,"code"),e(44,"zacCreate"),t(),e(45,", accol\xE9e a une directive "),n(46,"code"),e(47,"formControlName"),t(),e(48," permet de "),n(49,"b"),e(50,"cr\xE9er et \xE9ventuellement ajouter des validators et initialiser automatiquement "),t(),e(51," le FormControl et \xE9vite donc de le faire dans le contr\xF4leur typescript "),t(),n(52,"li"),e(53," La directive "),n(54,"code"),e(55,"zacCreateAndRemove"),t(),e(56,", accol\xE9e a une directive "),n(57,"code"),e(58,"formControlName"),t(),e(59," permet "),n(60,"b"),e(61,"en plus"),t(),e(62," de "),n(63,"b"),e(64,"supprimer automatiquement"),t(),e(65," un FormControl (et ses validators associ\xE9s) qui serait conditionn\xE9 par une directive "),n(66,"code"),e(67,"zacIf"),t(),e(68," positionn\xE9e au dessus dans la hi\xE9rarchie structurelle. A noter que cela implique la cr\xE9ation et l'\xE9coute d'un nouveau listener sur "),n(69,"code"),e(70,"zacIf"),t(),e(71," pour chaque usage de "),n(72,"code"),e(73,"zacCreateAndRemove"),t(),e(74,". "),t(),n(75,"li"),e(76," La directive structurelle "),n(77,"code"),e(78,'zacIf="condition"'),t(),e(79," fait la m\xEAme chose que "),n(80,"code"),e(81,"ngIf"),t(),e(82," (sans le else cependant) en \xE9mettant un \xE9v\xE8nement chaque fois que la valeur true|false de la condition change, ce qui permet a des listeners d'activer du code, par exemple de suppression automatique des FormControl conditionn\xE9s : exactement ce que fera la directive "),n(83,"code"),e(84,"zacCreateAndRemove"),t(),e(85," ci-dessus "),t(),n(86,"li"),e(87," La directive "),n(88,"code"),e(89,'zacProvide="datas"'),t(),e(90," permet d'injecter des donn\xE9es qui pourront ensuite \xEAtre r\xE9cup\xE9r\xE9es par les sous-composants en s'injectant cette directive dans le constructeur, ce qui permet d'\xE9viter d'avoir a dupliquer le code de passation d'@Input fa\xE7on poup\xE9e russe de sous-composant en sous-composant "),t(),n(91,"li"),e(92," La super classe abstraite "),n(93,"code"),e(94,"AbstractConditionnalBloc"),t(),e(95," permet de factoriser l'abonnement \xE0 une directive "),n(96,"code"),e(97,"zacIf"),t(),e(98," positionn\xE9e au dessus dans l'arbre des composants et l'appel a une m\xE9thode abstraite "),n(99,"code"),e(100,"onCondition(condition: boolean)"),t(),e(101," de fa\xE7on par exemple \xE0 centraliser le code de cr\xE9ation / suppression des FormControl en une seule m\xE9thode et une seule fois. "),t(),n(102,"li"),e(103," La m\xE9thode utilitaire "),n(104,"code"),e(105,"ClassUtil.getRecordOfPropertiesNamesFor(new Personne())"),t(),e(106," permet de g\xE9n\xE9rer un type Record d\xE9finissant sous forme de constante la cha\xEEne string associ\xE9e a chaque propri\xE9t\xE9 d'un mod\xE8le donn\xE9 ce qui permet d'\xE9viter l'inconv\xE9nient majeur en ReactiveFormModule de devoir r\xE9f\xE9rencer les name des FormControl par des string en dur et permet donc les remplacer par des "),n(107,"b"),e(108,"constantes"),t(),e(109," de fa\xE7on \xE0 "),n(110,"b"),e(111," rendre sans douleur tout renommage du nom des propri\xE9t\xE9s"),t()()(),n(112,"p"),e(113," Nous vous invitons \xE0 tout simplement examiner le code de cet exemple qui se compose ainsi de plusieurs champs conditionn\xE9s et de plusieurs sous-composants imbriqu\xE9s "),t(),n(114,"p"),e(115," On notera aussi par ailleurs dans le code la technique utilis\xE9e au sein des sous-composant imbriqu\xE9s pour r\xE9cup\xE9rer le FormGroup en s'injectant la directive FormGroupDirective ce qui \xE9vite de passer ce formGroup en @Input. "),t()()()()),i&2&&(m(6),u("zacIf",o.formGroup&&o.personne))},dependencies:()=>[N,ne,R,q,w,z,H,Tn,te,_e,xn,A,Na,Cr,fe,it,k,_i,L,eo,Le,st,oe,ce],styles:[`.--zac_if{display:block;outline:1px dashed gray;position:relative}
`],encapsulation:2,changeDetection:0})},Cr=class l{constructor(r,i){this.formGroupDirective=r;this.provideDirective=i}PERSONNE_PROPERTIES=ie.PROPERTIES;personne;ngOnInit(){this.personne=this.provideDirective?.getData()}static \u0275fac=function(i){return new(i||l)(y(te),y(_i))};static \u0275cmp=E({type:l,selectors:[["app-saisie-adresse"]],decls:1,vars:1,consts:[[3,"formGroup",4,"zacIf"],[3,"formGroup"],["label","Adresse"],[1,"txt-size-xs"],["required","",3,"formControlName","zacCreateAndRemove"],["class","--zac_if",4,"zacIf"],[1,"--zac_if"]],template:function(i,o){i&1&&_(0,Fp,9,4,"ng-container",0),i&2&&u("zacIf",o.personne)},dependencies:()=>[L,it,ne,q,w,z,H,te,_e,st,Ia],encapsulation:2})},Ia=class l extends Cr{static \u0275fac=(()=>{let r;return function(o){return(r||(r=dn(l)))(o||l)}})();static \u0275cmp=E({type:l,selectors:[["app-saisie-commune"]],features:[tt],decls:1,vars:1,consts:[[3,"formGroup",4,"zacIf"],[3,"formGroup"],["label","Commune"],["required","",3,"formControlName","zacCreateAndRemove"]],template:function(i,o){i&1&&_(0,Rp,3,3,"ng-container",0),i&2&&u("zacIf",o.personne)},dependencies:[ne,q,w,z,H,te,_e,L,st,it],encapsulation:2})},Na=class l extends Ts{constructor(i,o,a){super(i);this.formGroupDirective=o;this.provideDirective=a}PERSONNE_PROPERTIES=ie.PROPERTIES;personne;ngOnInit(){this.personne=this.provideDirective?.getData()}onCondition(i){let o=this.formGroupDirective.form;i?(fa(o,ie.PROPERTIES.email,void 0,this.personne?.email),fa(o,ie.PROPERTIES.telephone,void 0,this.personne?.telephone)):(o.removeControl(ie.PROPERTIES.email),o.removeControl(ie.PROPERTIES.telephone))}static \u0275fac=function(o){return new(o||l)(y(It),y(te),y(_i))};static \u0275cmp=E({type:l,selectors:[["app-infos-complementaires"]],features:[tt],decls:1,vars:1,consts:[[3,"formGroup",4,"zacIf"],[3,"formGroup"],["label","Email"],["required","",3,"formControlName"],["label","T\xE9l\xE9phone"]],template:function(o,a){o&1&&_(0,qp,16,3,"ng-container",0),o&2&&u("zacIf",a.formGroup&&a.condition&&a.personne)},dependencies:[ne,q,w,z,H,te,_e,L,it],encapsulation:2})},Ta=class l{getPersonne(){return this._personne}savePersonne(r){Object.keys(Mt).map(i=>Mt[i]=void 0),Object.assign(Mt,r),this._personne=r}_personne=Mt;static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};var Sr=class l{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-a11y"]],decls:94,vars:0,consts:[["xmlns","http://www.w3.org/1999/html"],["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],[1,"sub_section"],["target","_blank","href","https://design.numerique.gouv.fr/accessibilite-numerique/cadre-legal/"],["href","https://accessibilite.numerique.gouv.fr/"],["href","https://www.nvda.fr/"],["target","_blank","routerLink","/a11y-page-transition"],["target","_blank","routerLink","/demo-autofocus"],["target","_blank","routerLink","/demo-labelliser"],["target","_blank","routerLink","/demo-form-field"],["target","_blank","routerLink","/demo-zac-label"],["target","_blank","routerLink","/demo-single-choice"],["target","_blank","routerLink","/demo-error"]],template:function(i,o){i&1&&(n(0,"main",0)(1,"h1",1),e(2," G\xE9n\xE9ralit\xE9 sur l'accessibilit\xE9 "),t(),n(3,"div")(4,"section",2)(5,"section",3)(6,"h2"),e(7,"Obligation"),t(),n(8,"p"),e(9," Tous les sites web de l'\xE9tat \xE0 destination des usagers doivent en principe \xEAtre "),n(10,"a",4),e(11,"accessible \xE0 100% sous peine d'amende"),t(),e(12,". "),t(),n(13,"p"),e(14," A iMSA cela concerne donc tout l'internet et l'extranet. Sans doute aussi l'intranet a terme. "),t()(),n(15,"section",3)(16,"h2"),e(17,"Responsabilit\xE9"),t(),n(18,"p"),e(19," La mise en oeuvre de l'accessibilit\xE9 est une responsabilit\xE9 partag\xE9e de la ma\xEEtrise d'ouvrage (sp\xE9cification) et du d\xE9veloppement m\xE9tier. "),t()(),n(20,"section",3)(21,"h2"),e(22,"D\xE9veloppement"),t(),n(23,"p"),e(24," Le d\xE9veloppement d'application web accessible est facilit\xE9 par les Design System iMSA et le bon usage des librairies zac-ng-lib et zac-charte-sass. "),t(),n(25,"p")(26,"strong"),e(27,"Pr\xE9requis :"),t(),e(28," Il n\xE9cessite n\xE9anmoins des \xE9quipiers (MO et dev) correctement form\xE9s \xE0 l'accessibilit\xE9 (et bien s\xFBr au d\xE9veloppement front). "),t(),n(29,"p"),e(30," En terme de dev pour \xEAtre accessible une application web doit obligatoirement respecter "),n(31,"a",5),e(32," tous les crit\xE8res du RGAA"),t(),e(33," avec "),n(34,"strong"),e(35,"deux gros principes cardinaux :"),t()(),n(36,"ul")(37,"li")(38,"strong"),e(39,"\xEAtre totalement compr\xE9hensible au moyen d'un lecteur d'\xE9cran"),t(),e(40," qui "),n(41,"b"),e(42,"verbalise/lit"),t(),e(43," le contenu html (pour simuler un lecteur d'\xE9cran sur un poste de dev => "),n(44,"a",6),e(45,"NVDA"),t(),e(46,") "),t(),n(47,"li"),e(48,"et "),n(49,"strong"),e(50,"enti\xE8rement utilisable au clavier"),t()()(),n(51,"p")(52,"strong"),e(53,"Pour cela voici qques techniques : "),t()(),n(54,"ul")(55,"li"),e(56," Configurer les features "),n(57,"a",7),e(58,"de gestion accessible des changements de page"),t()(),n(59,"li"),e(60," Utiliser la directive "),n(61,"a",8),e(62,"zacAutofocus"),t(),e(63," pour forcer le focus sur un contenu quelconque d'une page pour forcer la vocalisation de celui-ci \xE0 chaque changement de page logique "),t(),n(64,"li"),e(65," Structurer le contenu a l'aide des balises html de titre s\xE9mantique (h1 et +) "),t(),n(66,"li"),e(67," Pour "),n(68,"a",9),e(69,"labelliser les champs de formulaire"),t(),e(70," utiliser le composant "),n(71,"a",10),e(72,"zac-form-field"),t(),e(73," pour que le label soit g\xE9n\xE9r\xE9 de mani\xE8re accessible. "),p(74,"br"),n(75,"b"),e(76,"Attention "),t(),e(77," \xE0 partir de zac-ng-lib v19 l'utilisation directe d'un "),n(78,"code")(79,"a",11),e(80,"zac-label for='id_champ'"),t()(),e(81," en dehors d'un zac-form-field "),n(82,"b"),e(83,"ne garantie plus"),t(),e(84," le lien d'accessibilit\xE9 entre un label et un \xE9l\xE9ment de formulaire. "),t(),n(85,"li"),e(86," Utiliser des \xE9l\xE9ments de formulaire natif (input) ainsi que tous les \xE9l\xE9ments de formulaire zac ("),n(87,"a",12),e(88,"zac-single-choice"),t(),e(89," , zac-select, ...), qui g\xE8rent l'accessibilit\xE9 "),t(),n(90,"li"),e(91," Pour les formulaires et la gestion des erreurs, utilisez "),n(92,"a",13),e(93,"zacErrors/zac-error"),t()()()()()()())},dependencies:[N,no,fe,xn,he],encapsulation:2})};function Vp(l,r){if(l&1){let i=x();n(0,"form",6,0),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(2,"div",7)(3,"zac-label",8),e(4,"Nom :"),t(),n(5,"input",9),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.nom,a)||(s.personne.nom=a),f(a)}),t(),p(6,"zac-error",10),t(),n(7,"div",7)(8,"zac-label",11),e(9,"R\xE9gime Alsace/Moselle ? :"),t(),n(10,"zac-boolean-choice",12),v("ngModelChange",function(a){d(i);let s=g();return b(s.personne.isRegimeAlsaceMoselle,a)||(s.personne.isRegimeAlsaceMoselle=a),f(a)}),t(),p(11,"zac-error",13),t(),n(12,"button",14),e(13,"Valider"),t()()}if(l&2){let i=g();m(5),S("ngModel",i.personne.nom),m(5),S("ngModel",i.personne.isRegimeAlsaceMoselle)}}var br=class l{personne=new ie;constructor(){}onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-label"]],decls:56,vars:1,consts:[["ngForm","ngForm"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoLabelComponent.html#template"],["zacErrors","",3,"ngSubmit",4,"ngIf"],["href","https://angular.dev/api/forms/ControlValueAccessor"],["zacErrors","",3,"ngSubmit"],[1,"form_field_wrapper"],["for","nom"],["id","nom","name","nom","required","",3,"ngModelChange","ngModel"],["id","error-nom","controlName","nom"],["for","alsaceMoselle"],["id","alsaceMoselle","name","alsaceMoselle","required","",3,"ngModelChange","ngModel"],["id","error-alsaceMoselle","controlName","alsaceMoselle"],["type","submit",1,"button","--button_primary"]],template:function(i,o){i&1&&(n(0,"h1"),e(1,"D\xE9mo du composant zac-label"),t(),n(2,"div",1)(3,"section",2)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",3),_(7,Vp,14,2,"form",4),t()(),n(8,"section",2)(9,"h2"),e(10,"Explications"),t(),n(11,"p"),e(12,"Cet \xE9cran d\xE9montre le fonctionnement du composant zac-label."),t(),p(13,"p"),n(14,"p"),e(15," Ce composant est celui qui fait le lien "),n(16,"b"),e(17,"accessible"),t(),e(18," entre un champ de formulaire et son label. "),t(),n(19,"p"),e(20," Il s'utilise comme et en remplacement de l'\xE9l\xE9ment html natif "),n(21,"code"),e(22,"label"),t(),e(23,", en g\xE9n\xE9ral en pr\xE9cisant avec le param\xE8tre "),n(24,"code"),e(25,"for"),t(),e(26," l'id du champ. "),t(),n(27,"p"),e(28,"Il est en effet pr\xE9f\xE9rable d'utiliser "),n(29,"code"),e(30,"zac-label"),t(),e(31," plut\xF4t que "),n(32,"code"),e(33,"label"),t(),e(34," parce que lorsque ce dernier est associ\xE9 via le param\xE8tre "),n(35,"code"),e(36,"for"),t(),e(37," \xE0 un \xE9l\xE9ment de formulaire angular de type "),n(38,"a",5),e(39,"ControlValueAccessor"),t(),e(40," comme le sont tous les \xE9l\xE9ments de formulaire de zac-ng-lib (zac-boolean-choice, zac-single-choice, ...) alors le lien accessible n'est pas fait \xE0 cause d'une limite d'angular, et cela entra\xEEne des "),n(41,"strong"),e(42,"signalements d'erreurs par certains \xE9diteurs (comme chrome) ou linters"),t(),e(43,"."),t(),n(44,"p"),e(45,"Ces signalement sont des faux positif parce que ce probl\xE8me de lien accessible est fix\xE9 par tous les composants zac, simplement l'analyse de chrome rel\xE8ve l'erreur avant que le code de zac puisse la corriger."),t(),n(46,"p"),e(47,"C'est pour cette raison que nous conseillons d'utiliser "),n(48,"code"),e(49,"zac-label"),t(),e(50,"."),t(),n(51,"p"),e(52,"L'utilisation de "),n(53,"code"),e(54,"label"),t(),e(55," reste cependant fonctionnelle et accessible, malgr\xE9 le faux positif."),t()()()),i&2&&(m(7),u("ngIf",o.personne))},dependencies:[N,W,P,R,q,w,z,H,V,O,ae,A,to,ue,Fn,k,Ge,vs,oe],encapsulation:2})};var ln=l=>({choice_button:l}),ai=()=>({updateOn:"change"}),km=(c=>(c.EMPLOYEUR="Employeur: Mes salari\xE9s, mes cotisations",c.ENTREPRISE="Coordonn\xE9es Entreprise, situation parcellaire",c.SANTE="Sant\xE9, Carte Vitale, Remboursement, CMU, invalidit\xE9",c.FAMILLE="Famille, Allocation familiales, aides au logement",c.RSA="RSA, Prime d'activit\xE9",c.RETRAITE="Retraite, carri\xE8re",c))(km||{}),Op={themeSelectionne:""},vr=class l{constructor(r){this.router=r}themes=km;input;textarea;message=Op;ngForm;onSubmit(){this.ngForm.valid&&this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-single-choice"))}onSelected(r){console.log("value selected ",r)}onBlur(){console.log("single-choice blur")}onNgModelChange(r){console.log("value onNgModelChange ",r)}styleChanged(){}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-labelliser"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},features:[Ie([])],decls:136,vars:55,consts:[["ngForm","ngForm"],["choice_style",""],["readOnly","ngModel"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoSingleChoiceComponent.html#template"],["zacErrors","",3,"ngSubmit","zacReadonly"],[1,"form_field_wrapper"],["for","input"],["id","input","name","input","required","",3,"ngModelChange","ngModel"],["controlName","input"],["for","first"],["id","first","name","first","required","",3,"ngModelChange","ngModel"],["controlName","first"],["label","zac-form-field > input :"],["id","second","name","second","required","",3,"ngModelChange","ngModel"],["label","en principe pas prise en compte puisque zac-label fournis"],["for","third"],["id","third","name","third","required","",3,"ngModelChange","ngModel"],["for","textarea"],["id","textarea","name","textarea","required","",3,"ngModelChange","ngModel"],["controlName","textarea"],["for","textarea1"],["id","textarea1","name","textarea1","required","",3,"ngModelChange","ngModel"],["controlName","textarea1"],["label","zac-form-field > zac-textarea"],["id","textarea2","name","textarea2","required","",3,"ngModelChange","ngModel"],["for","textarea3"],["id","textarea3","name","textarea3","required","",3,"ngModelChange","ngModel"],["for","theme"],["id","theme","name","theme","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],["controlName","theme"],["for","theme2"],["id","theme2","name","theme2","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],["controlName","theme2"],["role","group"],["id","theme3","name","theme3","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],["controlName","theme3"],["label","zac-form-field > zac-single-choice :"],["id","theme4","name","theme4","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],["label","En principe pas pris en compte"],["for","theme5",1,"test"],["id","theme5","name","theme5","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],["id","label-theme6",1,"zac-label"],["id","theme6","name","theme6","aria-labelledby","label-theme6","required","",3,"ngModelChange","selectedValue","blur","ngClass","choiceList","ngModel","ngModelOptions"],[1,"control_bar"],["type","submit",1,"button","--button_primary"],["type","reset",1,"button","--button_secondary"],["target","_blank","routerLink","/demo-form-field"],[1,"title-subsection"],["role","group",3,"ngClass"],["name","choice_style","id","choice_style_1","value","","type","radio","checked","",3,"change"],["for","choice_style_1"],["name","choice_style","id","choice_style_2","value","choice_button","type","radio",3,"change"],["for","choice_style_2"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1"),e(1,"D\xE9mo des diff\xE9rentes fa\xE7ons de lier label et \xE9l\xE9ment de formulaire"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5)(7,"form",6,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"div",7)(10,"label",8),e(11,"label + input :"),t(),n(12,"input",9),v("ngModelChange",function(c){return d(a),b(o.input,c)||(o.input=c),f(c)}),t(),p(13,"zac-error",10),t(),n(14,"div",7)(15,"zac-label",11),e(16,"zac-label + input :"),t(),n(17,"input",12),v("ngModelChange",function(c){return d(a),b(o.input,c)||(o.input=c),f(c)}),t(),p(18,"zac-error",13),t(),n(19,"zac-form-field",14)(20,"input",15),v("ngModelChange",function(c){return d(a),b(o.input,c)||(o.input=c),f(c)}),t()(),n(21,"zac-form-field",16)(22,"zac-label",17)(23,"strong"),e(24,"zac-form-field > (projection zac-label + input) :"),t()(),n(25,"input",18),v("ngModelChange",function(c){return d(a),b(o.input,c)||(o.input=c),f(c)}),t()(),n(26,"div",7)(27,"label",19),e(28,"label + zac-textarea => console.warn ! :"),t(),n(29,"zac-textarea",20),v("ngModelChange",function(c){return d(a),b(o.textarea,c)||(o.textarea=c),f(c)}),t(),p(30,"zac-error",21),t(),n(31,"div",7)(32,"zac-label",22),e(33,"zac-label + zac-textarea => console.warn ! :"),t(),n(34,"zac-textarea",23),v("ngModelChange",function(c){return d(a),b(o.textarea,c)||(o.textarea=c),f(c)}),t(),p(35,"zac-error",24),t(),n(36,"zac-form-field",25)(37,"zac-textarea",26),v("ngModelChange",function(c){return d(a),b(o.textarea,c)||(o.textarea=c),f(c)}),t()(),n(38,"zac-form-field",16)(39,"zac-label",27)(40,"strong"),e(41,"zac-form-field > (projection zac-label + zac-textarea) :"),t()(),n(42,"zac-textarea",28),v("ngModelChange",function(c){return d(a),b(o.textarea,c)||(o.textarea=c),f(c)}),t()(),n(43,"div",7)(44,"label",29),e(45,"label + zac-single-choice => console.warn ! :"),t(),n(46,"zac-single-choice",30),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t(),p(47,"zac-error",31),t(),n(48,"div",7)(49,"zac-label",32),e(50,"zac-label + zac-single-choice => console.warn ! :"),t(),n(51,"zac-single-choice",33),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t(),p(52,"zac-error",34),t(),n(53,"div",7)(54,"fieldset",35)(55,"legend"),e(56,"fieldset > (legend + zac-single-choice) => console.warn ! :"),t(),n(57,"zac-single-choice",36),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t(),p(58,"zac-error",37),t()(),n(59,"zac-form-field",38)(60,"zac-single-choice",39),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t()(),n(61,"zac-form-field",40)(62,"zac-label",41)(63,"strong"),e(64,"zac-form-field > (projection zac-label + zac-single-choice) : "),t()(),n(65,"zac-single-choice",42),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t()(),n(66,"div",43),e(67,"FormField sans label inclu : sans legend - fieldset"),t(),n(68,"zac-form-field")(69,"zac-single-choice",44),v("ngModelChange",function(c){return d(a),b(o.message.themeSelectionne,c)||(o.message.themeSelectionne=c),f(c)}),h("ngModelChange",function(c){return d(a),f(o.onNgModelChange(c))})("selectedValue",function(c){return d(a),f(o.onSelected(c))})("blur",function(){return d(a),f(o.onBlur())}),t()(),n(70,"div",45)(71,"button",46),e(72,"Valider"),t(),n(73,"button",47),e(74,"Reset"),t()()(),n(75,"p"),e(76),t()()(),n(77,"section",4)(78,"h2"),e(79,"Explications"),t(),n(80,"p"),e(81," Cette page teste et d\xE9montre diff\xE9rentes mani\xE8res de lier un label a un \xE9l\xE9ment de formulaire, qu'il soit natif ou un \xE9l\xE9ment zac impl\xE9mentant ControlValueAccessor. "),t(),n(82,"p"),e(83,"Nous vous invitons \xE0 regarder le code g\xE9n\xE9r\xE9 en regard du code source de chaque cas."),t(),n(84,"ul")(85,"li"),e(86," A partir de la version zac-ng-lib v19 il est "),n(87,"b"),e(88,"fortement conseill\xE9 d'utiliser syst\xE9matiquement"),t(),e(89," le composant "),n(90,"a",48),e(91,"zac-form-field"),t(),e(92," qui permet d'\xE9viter de coder (en les g\xE9n\xE9rant) les composants zac-label et zac-error associ\xE9 a un champ de formulaire, ce qui garantit l'accessibilit\xE9 et la gestion des messages d'erreur. "),t(),n(93,"li")(94,"b"),e(95,"Attention :"),t(),e(96," A partir de la version zac-ng-lib v19, l'utilisation directe d'un "),n(97,"code"),e(98,"zac-label for='id'"),t(),e(99," \xE0 la place ou en dehors d'un "),n(100,"code"),e(101,"zac-form-field"),t(),e(102,"\xA0 "),n(103,"b"),e(104,"ne garantit plus l'accessibilit\xE9"),t(),e(105," (cela entra\xEEne aussi l'affichage d'un warning dans la console javascript). "),t(),n(106,"li"),e(107,"Il est possible mais d\xE9conseill\xE9 d'utiliser "),n(108,"code"),e(109,"label for='id'"),t(),e(110," pour un \xE9l\xE9ment de formulaire zac car l'accessibilit\xE9 n'est plus garantie et cela provoque dans certain cas des violation de la norme HTML ainsi que la g\xE9n\xE9ration d'un warning dans la console javascript. "),t()(),n(111,"h2",49),e(112,"Style des boutons"),t(),n(113,"section")(114,"p"),e(115," A noter qu'il est possible de changer facilement le style des boutons en appliquant la classe css `choice_button` de zac-charte-sass. "),t(),n(116,"div",7)(117,"div",50)(118,"ul")(119,"li")(120,"input",51),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(121,"label",52),e(122,"Style simple"),t()(),n(123,"li")(124,"input",53,1),h("change",function(){return d(a),f(o.styleChanged())}),t(),n(126,"label",54),e(127,"Style choice_button"),t()()()()()(),n(128,"h2"),e(129,"Lecture seule :"),t(),n(130,"section")(131,"p"),e(132,"A noter par ailleurs que la propri\xE9t\xE9 `[readonly]='true|false'` permet de basculer le champ en readonly"),t(),n(133,"zac-form-field",55),p(134,"zac-boolean-choice",56,2),t()()()()}if(i&2){let a=M(125),s=M(135);m(7),u("zacReadonly",s.value),m(5),S("ngModel",o.input),m(5),S("ngModel",o.input),m(3),S("ngModel",o.input),m(5),S("ngModel",o.input),m(4),S("ngModel",o.textarea),m(5),S("ngModel",o.textarea),m(3),S("ngModel",o.textarea),m(5),S("ngModel",o.textarea),m(4),u("ngClass",be(35,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(37,ai)),m(5),u("ngClass",be(38,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(40,ai)),m(6),u("ngClass",be(41,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(43,ai)),m(3),u("ngClass",be(44,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(46,ai)),m(5),u("ngClass",be(47,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(49,ai)),m(4),u("ngClass",be(50,ln,a.checked))("choiceList",o.themes),S("ngModel",o.message.themeSelectionne),u("ngModelOptions",G(52,ai)),m(7),D("Theme selectionn\xE9 : ",o.message.themeSelectionne,""),m(41),u("ngClass",be(53,ln,a.checked))}},dependencies:[N,vn,P,R,q,w,z,H,V,O,ae,A,xn,he,Ge,ue,L,Ht,Le,k,oe,mt],encapsulation:2})};function Lp(l,r){if(l&1&&(Q(0),n(1,"b"),p(2,"fa-icon",34),e(3,"\xA0Onglet avec label "),n(4,"i"),e(5,"riche"),t(),e(6,"\xA0"),p(7,"fa-icon",34),t(),J()),l&2){let i=g(2);m(2),u("icon",i.iconRich),m(5),u("icon",i.iconRich)}}function Bp(l,r){if(l&1){let i=x();n(0,"form",13),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-error",14),n(2,"h2",15),e(3,"Ici le titre de mes onglets"),t(),n(4,"p",16),e(5," Ici une description de mes onglets uniquement pour les screen readers "),t(),n(6,"zac-tab-group",17,0),v("selectedIndexChange",function(a){d(i);let s=g();return b(s.selectedTabIndex,a)||(s.selectedTabIndex=a),f(a)}),h("selectedTabChange",function(a){d(i);let s=g();return f(s.onSelectedTabChange(a))}),n(8,"zac-tab",18)(9,"zac-form-field",19),p(10,"input",20),t(),n(11,"zac-form-field",21),p(12,"input",22),t()(),n(13,"zac-tab",23),Q(14,24),p(15,"zac-form-group-generator",25),J(),t(),n(16,"zac-tab",26)(17,"zac-form-field",27),p(18,"input",28),t(),n(19,"zac-form-field",29),p(20,"input",30),t(),n(21,"zac-form-field",31),p(22,"input",32),t()(),n(23,"zac-tab"),_(24,Lp,8,2,"ng-container",33),n(25,"p"),e(26,"Onglet tout simple ne faisant pas partie du form"),t()()(),p(27,"zac-control-bar"),t()}if(l&2){let i=M(7),o=g();u("formGroup",o.formGroup),m(),Ct("xFieldValidator",i.validatorName),m(5),S("selectedIndex",o.selectedTabIndex),m(2),u("icon",o.iconPerson),m(5),u("icon",o.iconAdress),m(),u("formGroup",o.coordonneesFormGroup),m(),u("model",o.dossier.coordonnees)("modelType",o.Coordonnees),m(),u("icon",o.iconPhone)}}var Pa=class{nom;prenom},sn=class{rue=void 0;codePostal=void 0;commune=void 0};ye([we({label:"Rue",validators:[Ee.required]})],sn.prototype,"rue",2),ye([we({label:"Code postal",validators:[Ee.required]})],sn.prototype,"codePostal",2),ye([we({label:"Commune",validators:[Ee.required]})],sn.prototype,"commune",2);var za=class{fixe;portable;email},Aa=class{personne=new Pa;coordonnees=new sn;coordonneesElectroniques=new za},Gm=new Aa,xr=class l{constructor(r,i){this.selectStyle=r;this.router=i}selectedTabIndex=0;iconSearch=Ji;iconDataBase=Ki;iconPerson=Es;iconAdress=_s;iconPhone=Cs;iconRich=Ss;dossier;formGroup;ngOnInit(){this.selectStyle.style="intranet",this.dossier=Gm,this.initFormGroup(),this.formGroup?.patchValue(this.dossier)}personneFormGroup=new le({nom:new me("",Ee.required),prenom:new me("",Ee.required)});coordonneesFormGroup=new le({});coordonneesElectroniquesFormGroup=new le({fixe:new me("",Ee.required),portable:new me("",Ee.required),email:new me("",Ee.required)});tab5=new le({});initFormGroup(){this.formGroup=new le({personne:this.personneFormGroup,coordonnees:this.coordonneesFormGroup,coordonneesElectroniques:this.coordonneesElectroniquesFormGroup})}onSelectedTabChange(r){console.log("onSelectedTabChange",r)}onSubmit(){console.log("DemoFormTab formGroup",this.formGroup),this.formGroup?.valid&&(Object.assign(Gm,this.formGroup.value),this.router.navigateByUrl("demo-error").then(()=>this.router.navigateByUrl("demo-form-tab")))}Coordonnees=sn;static \u0275fac=function(i){return new(i||l)(y(Ne),y(U))};static \u0275cmp=E({type:l,selectors:[["app-demo-form-tab"]],decls:135,vars:2,consts:[["tabGroup",""],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"section"],["src","components/DemoFormTabComponent.html#template"],[1,"--flex_row"],["for","index"],["id","index","zacPositiveNumber","3,0","autoSize","true",3,"ngModelChange","ngModel"],["zacErrors","",3,"formGroup","ngSubmit",4,"zacIf"],[1,"demo-section"],["href","https://www.w3.org/WAI/ARIA/apg/patterns/tabs/","target","_blank"],["routerLink","/demo-tab","target","_blank"],[1,"warning"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"xFieldValidator"],["id","tab-label"],["id","tab-description",1,"sr-only"],["aria-labelledby","tab-label","aria-describedby","tab-description",3,"selectedIndexChange","selectedTabChange","selectedIndex"],["label","Personne","formGroupName","personne",3,"icon"],["label","Nom"],["formControlName","nom"],["label","Pr\xE9nom"],["formControlName","prenom"],["label","Coordonn\xE9es","formGroupName","coordonnees",3,"icon"],[3,"formGroup"],[3,"model","modelType"],["label","Coordonn\xE9es \xE9lectroniques","formGroupName","coordonneesElectroniques",3,"icon"],["label","Tel. fixe"],["formControlName","fixe"],["label","Tel. portable"],["formControlName","portable"],["label","email"],["formControlName","email"],[4,"zacTabLabel"],[3,"icon"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",1),e(2,"D\xE9mo d'usage d'un formulaire \xE0 onglets"),t(),n(3,"div",2)(4,"section",3)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",4)(8,"div",5)(9,"label",6),e(10,"Selected Index :\xA0"),t(),n(11,"input",7),v("ngModelChange",function(s){return b(o.selectedTabIndex,s)||(o.selectedTabIndex=s),s}),t()(),p(12,"br"),_(13,Bp,28,9,"form",8),t()(),n(14,"section",9)(15,"h2"),e(16,"Explications"),t(),n(17,"p"),e(18," Cette page illustre comment faire un formulaire d\xE9coup\xE9 en (c.a.d. contenant) plusieurs onglets. S'il existe une erreur de validation sur un champ, qque soit l'onglet alors : "),t(),n(19,"ul")(20,"li"),e(21," Le formulaire ne valide pas et l'onglet ou les onglets contenant des champs en erreur appara\xEEt visuellement en exergue. "),t(),n(22,"li"),e(23," Une erreur globale au formulaire est lev\xE9e et peut \xEAtre affich\xE9 a une position au choix. "),t()(),p(24,"br"),n(25,"p"),e(26," La fa\xE7on de faire cela est tr\xE8s similaire a celle d'un syst\xE8me a onglets simple, "),n(27,"i"),e(28,"a qques exceptions pr\xE8s"),t(),e(29,". "),t(),n(30,"ul")(31,"li")(32,"i"),e(33,"Au pr\xE9alable cot\xE9 controller"),t(),e(34," il faut d\xE9finir une instance racine de "),n(35,"code"),e(36,"FormGroup"),t(),e(37," qui sera associ\xE9e a notre "),n(38,"code"),e(39,"form"),t(),e(40," et qui d\xE9finit tous les onglets participants au form, sous la forme d'un sous "),n(41,"code"),e(42,"FromGroup"),t(),e(43," par onglet, nomm\xE9 comme vous voulez, et chacun d'eux contenant bien \xE9videmment tous les champs de cet onglet. Cette arborescence de FormGroup est "),n(44,"b"),e(45,"obligatoire"),t(),e(46,". "),t(),n(47,"li")(48,"code"),e(49,"zac-tab-group"),t(),e(50," est le conteneur des onglets. "),n(51,"p")(52,"i"),e(53,"Le "),n(54,"code"),e(55,"FormGroup"),t(),e(56," racine d\xE9finit dans le controller doit lui \xEAtre \xEAtre associ\xE9 via la directive "),n(57,"code"),e(58,"[formGroup]"),t()()()(),n(59,"li")(60,"code"),e(61,"zac-tab"),t(),e(62," est le conteneur d'un onglet au sein du "),n(63,"code"),e(64,"zac-tab-group"),t(),e(65,". "),n(66,"p")(67,"i"),e(68,"S'il participe au formulaire alors il faut obligatoirement lui appliquer la directive "),n(69,"code"),e(70,"formGroupName"),t(),e(71," valoris\xE9 avec le nom donn\xE9 dans le controller pour le sous-form group de cet onglet."),t()()(),n(72,"li")(73,"code"),e(74,"zacTabLabel"),t(),e(75," est une directive de marquage permettant de pr\xE9ciser un label html riche, au sein d'un "),n(76,"code"),e(77,"zac-tab"),t(),e(78,", si le param\xE8tre "),n(79,"code"),e(80,"zac-tabel label='...'"),t(),e(81," ne suffit pas. "),t(),n(82,"li")(83,"i"),e(84,"Enfin il est possible de positionner ou vous voulez un "),n(85,"code"),e(86,'zac-error xFieldValidator="..." '),t(),e(87,"dont le nom peut \xEAtre r\xE9cup\xE9r\xE9 aupr\xE8s de la propri\xE9t\xE9 "),n(88,"code"),e(89,"validatorName"),t(),e(90," du "),n(91,"code"),e(92,"zac-tab-group"),t()(),e(93," et qui contiendra un message de validation global au formulaire \xE0 onglet. "),t()(),p(94,"br"),n(95,"h3")(96,"b"),e(97,"Hors DS extranet"),t()(),n(98,"p"),e(99," Attention ce composant est ath\xE9matique mais \xE0 l'heure actuelle les syst\xE8mes \xE0 onglets ne sont pas autoris\xE9s dans le DS extranet, aussi dans ce DS l'affichage n'est pas garanti. "),t(),p(100,"br"),n(101,"h3")(102,"b"),e(103,"Accessibilit\xE9"),t()(),n(104,"p"),e(105," Le composant "),n(106,"code"),e(107,"zac-tab-group"),t(),e(108," applique le pattern de conception "),n(109,"a",10),e(110,"Tabs pattern"),t(),e(111," pour rendre accessible la s\xE9lection des onglets. "),t(),n(112,"p"),e(113," Il reste a la charge de l'application m\xE9tier de fournir un label et une description, par exemple au moyen des propri\xE9t\xE9s "),n(114,"code"),e(115,"aria-labelledby"),t(),e(116," et "),n(117,"code"),e(118,"aria-describedby"),t(),e(119," comme dans cet exemple. "),t(),p(120,"br"),n(121,"h3")(122,"b"),e(123,"Formulaire simple (non partie de formulaire)"),t()(),n(124,"p"),e(125," Cette page illustre le cas d'un formulaire \xE0 onglets, cas particulier d'un syst\xE8me \xE0 onglet. "),t(),n(126,"p"),e(127," Pour un syst\xE8me \xE0 onglet tout simple, non partie de formulaire, cf "),n(128,"a",11),e(129,"demo onglets"),t()(),p(130,"br"),n(131,"p",12)(132,"b"),e(133,"Attention : "),t(),e(134,"Ce composant est en pre-release : l'API est stable, le composant fonctionnel, mais son aspect graphique en particulier n'est pas finalis\xE9. "),t()()()()),i&2&&(m(11),S("ngModel",o.selectedTabIndex),m(2),u("zacIf",o.formGroup&&o.dossier))},dependencies:[P,R,q,w,z,V,ne,te,_e,Bt,A,Ln,k,it,Ge,bo,vo,L,Qe,vt,Vt,ce,xo,he],encapsulation:2,changeDetection:0})};var yr=class l{compteur1s=0;constructor(){}ngAfterViewInit(){document.querySelector("#button")?.addEventListener("click",this.onClick.bind(this))}onClick(){console.log("click")}ngAfterViewChecked(){console.log("ngAfterViewChecked")}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-test-zone"]],decls:12,vars:2,consts:[["compteur2",""],["name","compteur2"],["id","button"],["id","button2",3,"click"]],template:function(i,o){if(i&1){let a=x();n(0,"p"),e(1,"test-zone works!"),t(),n(2,"p"),e(3),t(),p(4,"input",1,0),n(6,"p"),e(7),t(),n(8,"button",2),e(9,"Click"),t(),n(10,"button",3),h("click",function(){return d(a),f(o.onClick())}),e(11,"Clac"),t()}if(i&2){let a=M(5);m(3),D("Modif au bout de 1s = ",o.compteur1s,""),m(4),D("Valeur de compteur2 = ",a.value,"")}},dependencies:[P],encapsulation:2,changeDetection:0})};var Dr=class{id;col1;col2;col3};var kp=()=>({updateOn:"blur"}),Gp=()=>["T","Table"],jp=()=>["L","Liste"],Wp=(l,r)=>[l,r];function Hp(l,r){l&1&&(n(0,"th",43),e(1,"No."),t())}function Up(l,r){if(l&1&&(n(0,"td",44),e(1),t()),l&2){let i=r.$implicit;m(),De(i.id)}}function Zp(l,r){l&1&&(n(0,"th",45),e(1," Colonne n\xB01 "),t())}function Qp(l,r){if(l&1&&(n(0,"td",44),e(1),t()),l&2){let i=r.$implicit;m(),De(i.col1)}}function Jp(l,r){l&1&&(n(0,"th",46),e(1," Colonne n\xB02 "),t())}function Kp(l,r){if(l&1&&(n(0,"td",44),e(1),t()),l&2){let i=r.$implicit;m(),De(i.col2)}}function Xp(l,r){l&1&&(n(0,"th",47),e(1," Colonne n\xB03 "),t())}function Yp(l,r){if(l&1&&(n(0,"td",44),e(1),t()),l&2){let i=r.$implicit;m(),D(" ",i.col3?"Oui":"Non"," ")}}function $p(l,r){l&1&&p(0,"tr",48)}function ed(l,r){l&1&&p(0,"tr",49)}function td(l,r){if(l&1&&(n(0,"table",31,4),Q(2,32),_(3,Hp,2,0,"th",33)(4,Up,2,1,"td",34),J(),Q(5,35),_(6,Zp,2,0,"th",36)(7,Qp,2,1,"td",34),J(),Q(8,37),_(9,Jp,2,0,"th",38)(10,Kp,2,1,"td",34),J(),Q(11,39),_(12,Xp,2,0,"th",40)(13,Yp,2,1,"td",34),J(),_(14,$p,1,0,"tr",41)(15,ed,1,0,"tr",42),t()),l&2){let i=g(2);u("dataSource",i.myHttpDataSourceService)("trackBy",i.trackByFn),m(14),u("cdkHeaderRowDef",i.displayedColumns),m(),u("cdkRowDefColumns",i.displayedColumns)}}function nd(l,r){if(l&1&&(n(0,"article",51)(1,"h3"),e(2),t(),n(3,"p",52),e(4),t(),n(5,"p",53),e(6),t(),n(7,"p",54),e(8),t()()),l&2){let i=r.$implicit;m(2),De(i.id),m(2),D("Colonne n\xB01 : ",i.col1,""),m(2),D("Colonne n\xB02 : ",i.col2,""),m(2),D(" Colonne n\xB03 : ",i.col3?"Oui":"Non"," ")}}function id(l,r){if(l&1&&(n(0,"section"),Q(1),_(2,nd,9,4,"article",50),J(),t()),l&2){let i=r.ngIf,o=g(2);m(2),u("ngForOf",i)("ngForTrackBy",o.trackByFn)}}function od(l,r){if(l&1){let i=x();Q(0),n(1,"p",27),e(2),t(),_(3,td,16,4,"table",28)(4,id,3,2,"section",18),n(5,"zac-paginator",29,3),h("page",function(a){d(i);let s=g();return f(s.onPage(a))}),t(),n(7,"zac-button",30),h("action",function(){d(i);let a=g();return f(a.goToPage(2))}),t(),J()}if(l&2){let i=M(6),o=g(),a=M(62),s=M(67),c=M(72);m(2),D(" ",i.length," \xE9l\xE9ments "),m(),u("ngIf",o.forme!=="L"),m(),u("ngIf",o.forme==="L"&&(o.myHttpDataSourceService==null?null:o.myHttpDataSourceService.page)),m(),u("hidePageSize",a.value)("pageSizeOptions",s.value==null?null:s.value.split(","))("showFirstLastButtons",c.value)("pageIndex",o.indexPage)}}var Fa=class l extends om{url="api/tableContent";elementType=Dr;static \u0275fac=(()=>{let r;return function(o){return(r||(r=dn(l)))(o||l)}})();static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})},wr=class l{constructor(r,i){this.myHttpDataSourceService=r;this.selectStyle=i}displayedColumns=["id","col1","col2","col3"];sortDirective;paginatorComponent;indexPage=3;_filter;get filter(){return this._filter}set filter(r){this.myHttpDataSourceService.filter=r,this._filter=r}_forme="T";get forme(){return this._forme}set forme(r){this._forme=r,this.connectDatasourceToSortAndPaginator()}ngOnInit(){this.selectStyle.style="intranet"}ngAfterViewInit(){this.connectDatasourceToSortAndPaginator()}trackByFn(r,i){return i.id}onSort(r){}connectDatasourceToSortAndPaginator(){setTimeout(()=>{this.myHttpDataSourceService&&(this.myHttpDataSourceService.paginator=this.paginatorComponent,this.myHttpDataSourceService.sort=this.sortDirective,this.sortDirective?.initializeSortState({columnName:"col1",direction:"asc"},!1))})}goToPage(r){this.paginatorComponent.pageIndex=r-1}onPage(r){console.debug("onPage ",r)}static \u0275fac=function(i){return new(i||l)(y(Fa),y(Ne))};static \u0275cmp=E({type:l,selectors:[["app-demo-data-source"]],viewQuery:function(i,o){if(i&1&&(Y(jt,5),Y(Wt,5)),i&2){let a;$(a=ee())&&(o.sortDirective=a.first),$(a=ee())&&(o.paginatorComponent=a.first)}},decls:84,vars:14,consts:[["hidePageSize","ngModel"],["pageSizeOptions","ngModel"],["showFirstLastButtons","ngModel"],["paginator",""],["table",""],[1,"demo-title-section"],["href","https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html"],[1,"demo-section_reverse"],[1,"demo-section"],[1,"title-subsection"],["src","components/DemoDataSourceComponent.html#template"],["label","Page index"],["type","number",3,"ngModelChange","ngModel","ngModelOptions"],["label","Filtrer les \xE9l\xE9ments sur la valeur (Oui ou Non ) de colonne 3 ="],["id","filtre",1,"choice_button","--alignement_horizontal",3,"ngModelChange","ngModel"],["label","Visualisation sous forme de :"],["id","forme",1,"choice_button","--alignement_horizontal",3,"ngModelChange","choiceList","ngModel"],["zacSort","",1,"zac-table--wrapper",3,"zacSortChange"],[4,"ngIf"],["href","https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html"],["routerLink","/demo-table"],["label","hidePageSize : true | false"],["id","hidePageSize","name","hidePageSize",1,"choice_button","--alignement_horizontal",3,"ngModel"],["label","pageSizeOptions : un tableau de number"],["id","pageSizeOptions","name","pageSizeOptions","ngModel","10,20"],["label","showFirstLastButtons : true | false"],["id","showFirstLastButtons","name","showFirstLastButtons",1,"choice_button","--alignement_horizontal",3,"ngModel"],["id","table-elements",1,"table-elements"],["aria-labelledby","table-zac-label","aria-describedby","table-element","cdk-table","",3,"dataSource","trackBy",4,"ngIf"],["id","paginator","aria-label","Naviguez dans les pages de la table",3,"page","hidePageSize","pageSizeOptions","showFirstLastButtons","pageIndex"],["name","Secondary","label","Aller programmatiquement sur page 2",3,"action"],["aria-labelledby","table-zac-label","aria-describedby","table-element","cdk-table","",3,"dataSource","trackBy"],["cdkColumnDef","id"],["cdk-header-cell","",4,"cdkHeaderCellDef"],["cdk-cell","",4,"cdkCellDef"],["cdkColumnDef","col1"],["cdk-header-cell","","zac-sort-header","col1",4,"cdkHeaderCellDef"],["cdkColumnDef","col2"],["cdk-header-cell","","zac-sort-header","col2",4,"cdkHeaderCellDef"],["cdkColumnDef","col3"],["cdk-header-cell","","zac-sort-header","col3",4,"cdkHeaderCellDef"],["cdk-header-row","",4,"cdkHeaderRowDef"],["cdk-row","",4,"cdkRowDef","cdkRowDefColumns"],["cdk-header-cell",""],["cdk-cell",""],["cdk-header-cell","","zac-sort-header","col1"],["cdk-header-cell","","zac-sort-header","col2"],["cdk-header-cell","","zac-sort-header","col3"],["cdk-header-row",""],["cdk-row",""],["zacCard","",4,"ngFor","ngForOf","ngForTrackBy"],["zacCard",""],["zac-sort-header","col1"],["zac-sort-header","col2"],["zac-sort-header","col3"]],template:function(i,o){if(i&1){let a=x();n(0,"main")(1,"h1",5),e(2," D\xE9mo d'usage d'une table usant du service ZacHttpDataSource r\xE9cup\xE9rant les pages, tri\xE9es, filtr\xE9es, via un appel http REST selon l' "),n(3,"a",6),e(4,"API spring data Page"),t()(),n(5,"div",7)(6,"section",8)(7,"h2",9),e(8,"Exemple"),t(),n(9,"app-source",10)(10,"zac-form-field",11)(11,"input",12),v("ngModelChange",function(c){return d(a),b(o.indexPage,c)||(o.indexPage=c),f(c)}),t()(),n(12,"zac-form-field",13)(13,"zac-boolean-choice",14),v("ngModelChange",function(c){return d(a),b(o.filter,c)||(o.filter=c),f(c)}),t()(),n(14,"zac-form-field",15)(15,"zac-single-choice",16),v("ngModelChange",function(c){return d(a),b(o.forme,c)||(o.forme=c),f(c)}),t()(),n(16,"div",17),h("zacSortChange",function(c){return d(a),f(o.onSort(c))}),_(17,od,8,7,"ng-container",18),t()()(),p(18,"br"),n(19,"section",8)(20,"h2",9),e(21,"Usage"),t(),n(22,"p"),e(23," Cette page pr\xE9sente la fa\xE7on d'utiliser le service "),n(24,"code"),e(25,"ZacHttpDataSource"),t(),e(26," pour aller chercher des donn\xE9es pagin\xE9es, tri\xE9es et filtr\xE9es via un appel http REST selon l'"),n(27,"a",6),e(28,"API spring data Page"),t(),e(29," qui r\xE9sulterait par exemple d'un appel a un "),n(30,"a",19),e(31,"PagingAndSortingRepository"),t()(),n(32,"p"),e(33," En effet sur la page "),n(34,"a",20),e(35,"demo-table"),t(),e(36," illustrant le fonctionnement des composants zac et cdk permettant d'afficher une table pagin\xE9e, tri\xE9e et filtr\xE9e nous nous sommes appuy\xE9s sur une impl\xE9mentation basique de DataSource n\xE9cessitant de lui passer l'ensemble des donn\xE9es. "),t(),n(37,"p"),e(38," Cependant dans un contexte projet il est fort possible que ce soit trop couteux et qu'il soit pr\xE9f\xE9rable d'utiliser une impl\xE9mentation qui fait un appel REST par op\xE9ration (page, tri et filtre) pour r\xE9cup\xE9rer uniquement les donn\xE9es n\xE9cessaires. "),t(),n(39,"p"),e(40," Pour cela il suffit, comme c'est visible dans l'onglet source, de cr\xE9er une impl\xE9mentation d'un service \xE9tendant "),n(41,"code"),e(42,"ZacHttpDataSource"),t(),e(43," : il suffit ensuite juste de pr\xE9ciser l'url de l'appel REST ainsi que le type du contenu d'une page, puis de connecter les propri\xE9t\xE9s sort et paginator de cette instance au \xE9ventuels composants ZacSort et ZacPaginator, exactement comme dans "),n(44,"a",20),e(45,"demo-table"),t(),e(46,", c'est juste l'instance concr\xE8te de DataSource qui change. "),t(),n(47,"p"),e(48," Par ailleurs cette page illustre comment utiliser ce m\xEAme service pour afficher les donn\xE9es sous forme de liste plut\xF4t que de table. "),t(),n(49,"p"),e(50," La requ\xEAte REST utilis\xE9e pour r\xE9cup\xE9rer les donn\xE9es (bouchonn\xE9e mais visible dans les logs de la console javascript) est la suivante : "),t(),n(51,"pre")(52,"code"),e(53,"GET /api/tableContent?page=0&size=10&sortDirection=asc&filter=true"),t()(),n(54,"p"),e(55," A noter que si le filtre n\xE9cessite un type complexe alors c'est une requ\xEAte POST qui sera utilis\xE9e avec le corps de la requ\xEAte contenant les param\xE8tres (la m\xE9thode est overridable si besoin). "),t(),p(56,"br"),n(57,"h2"),e(58,"Param\xE8tres d'entr\xE9e du zac-paginator"),t(),n(59,"section",8)(60,"zac-form-field",21),p(61,"zac-boolean-choice",22,0),n(63,"p"),e(64,"Permet d'afficher ou non le choix du nombre de lignes par page"),t()(),n(65,"zac-form-field",23),p(66,"input",24,1),n(68,"p"),e(69,"Tableau de choix de tailles de page possibles"),t()(),n(70,"zac-form-field",25),p(71,"zac-boolean-choice",26,2),n(73,"p"),e(74," Permet d'afficher ou non les boutons de navigation premi\xE8re et derni\xE8re page "),t()(),n(75,"h3"),e(76,"Initialisation de l'\xE9tat initial du tri"),t(),n(77,"p"),e(78," Selon l'\xE9tat initial des donn\xE9es on peut vouloir afficher d\xE8s le d\xE9part sur quelle colonne principale celle-ci sont tri\xE9es ou alors on peut vouloir effectuer un tri sur ces donn\xE9es d\xE8s le d\xE9part. "),t(),n(79,"p"),e(80," La m\xE9thode "),n(81,"code"),e(82,"SortDirective.initializeSortState(sortEvent: SortEvent, toSort?: boolean)"),t(),e(83," permet de le faire (cf source). "),t()()()()()}i&2&&(m(11),S("ngModel",o.indexPage),u("ngModelOptions",G(8,kp)),m(2),S("ngModel",o.filter),m(2),u("choiceList",nt(11,Wp,G(9,Gp),G(10,jp))),S("ngModel",o.forme),m(2),u("ngIf",o.myHttpDataSourceService),m(44),u("ngModel",!1),m(10),u("ngModel",!0))},dependencies:[N,St,W,nm,_o,go,kn,Gn,jn,Hn,Eo,Wn,ho,fo,Co,jt,Ys,Wt,ae,A,P,q,Lt,w,V,L,oe,Le,Bn,he,Oe],styles:[`#filtre,#forme{display:inline-flex}[for=filtre],[for=forme]{display:inline-block;min-width:20rem}article{border:1px darkgrey dashed;margin:1rem;display:flex;flex-direction:row;justify-content:space-between;align-items:baseline}
`],encapsulation:2,changeDetection:0})};var Mr=class l{constructor(r,i){this.router=r;this.stepBarService=i}demarrer(){this.router.navigateByUrl("demo-step-bar/etape1/sousetape1"),this.stepBarService.reset(),this.stepBarService.nextStep()}static \u0275fac=function(i){return new(i||l)(y(U),y(rt))};static \u0275cmp=E({type:l,selectors:[["app-accueil"]],decls:72,vars:6,consts:[[1,"select"],[1,"button","--button_primary",3,"click"]],template:function(i,o){i&1&&(n(0,"p"),e(1,"Pour ajouter le composant dans une application :"),t(),n(2,"p"),e(3,"D\xE9finir les diff\xE9rentes \xE9tapes de la barre au format Step[]"),t(),n(4,"pre"),e(5,"  "),n(6,"code"),e(7),t(),e(8,`
`),t(),n(9,"p"),e(10,"Par exemple dans cette d\xE9mo :"),t(),n(11,"pre"),e(12,"  "),n(13,"code"),e(14),t(),e(15,`
`),t(),n(16,"p"),e(17,`"Provider" le service StepBarService au niveau de l'application, g\xE9n\xE9ralement dans app.module.ts. La d\xE9finition prend en param\xE8tre la liste des \xE9tapes d\xE9finie.`),t(),n(18,"pre"),e(19,"  "),n(20,"code"),e(21),t(),e(22,`
`),t(),n(23,"p"),e(24,"Ajouter le composant StepBar \xE0 l'application, g\xE9n\xE9ralement dans app.component.html."),t(),n(25,"pre"),e(26,"  "),n(27,"code"),e(28,`
<zac-step-bar></zac-step-bar>
  `),t(),e(29,`
`),t(),n(30,"p"),e(31,"C'est ensuite \xE0 l'application de g\xE9rer le passage \xE0 l'\xE9tape suivante ou pr\xE9c\xE9dente en utilisant les fonctions du StepBarService "),n(32,"b"),e(33,"nextStep()"),t(),e(34," et "),n(35,"b"),e(36,"previousStep()"),t(),e(37,"."),t(),n(38,"pre"),e(39,"  "),n(40,"code"),e(41,`
this.stepBarService.nextStep();
this.stepBarService.previousStep();
  `),t(),e(42,`
`),t(),n(43,"p"),e(44," StepBarService fournit \xE9galement une fonction qui permet d'aller directement \xE0 une \xE9tape avec le num\xE9ro d'\xE9tape en param\xE8tre, "),n(45,"b"),e(46,"navigateToPrevious(stepNumber: number)"),t()(),n(47,"pre"),e(48,"  "),n(49,"code"),e(50,`
this.stepBarService.navigateToPrevious(1);
  `),t(),e(51,`
`),t(),n(52,"p"),e(53,"Par d\xE9faut la barre d'\xE9tape ne s'affiche pas, il faut faire un premier "),n(54,"b"),e(55,"nextStep()"),t(),e(56," pour d\xE9marrer la premi\xE8re \xE9tape et afficher la barre d'\xE9tape sur la page suivante."),t(),n(57,"p"),e(58,`Par exemple ici on est sur la page d'accueil, au clic sur "D\xE9marrer" on appelle `),n(59,"b"),e(60,"nextStep()"),t(),e(61," pour d\xE9marrer l'\xE9tape 1 et afficher la barre sur la page suivante."),t(),n(62,"pre"),e(63,"  "),n(64,"code"),e(65),n(66,"span",0),e(67,"this.stepBarService.nextStep();"),t(),e(68,`
}
  `),t(),e(69,`
`),t(),n(70,"button",1),h("click",function(){return o.demarrer()}),e(71,"D\xE9marrer"),t()),i&2&&(m(7),D(`
export class Step `,"{",`
    /**
     * Libelle affich\xE9 dans la barre d'\xE9tape
     */
    libelle: string;

    /**
     * Path correspondant au d\xE9but de l'\xE9tape
     */
    path: string;
}
  `),m(7),vl(`
static readonly stepsList: Step[] = [
    `,"{",`libelle: 'Etape 1', path: 'demo-step-bar/etape1/sousetape1'},
    `,"{",`libelle: 'Etape 2', path: 'demo-step-bar/etape2/sousetape1'},
    `,"{",`libelle: 'Etape 3', path: 'demo-step-bar/etape3/sousetape1'}
];
  `),m(7),D(`
providers: [
    `,"{",`
    provide: StepBarService,
    useValue: new StepBarService(Constants.stepsList)
  }
]
  `),m(44),D(`
demarrer() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape1/sousetape1');
  `))},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var Ir=class l{constructor(r){this.router=r}goSuivant(){this.router.navigateByUrl("demo-step-bar/etape1/sousetape2")}static \u0275fac=function(i){return new(i||l)(y(U))};static \u0275cmp=E({type:l,selectors:[["app-etape1-sousetape1"]],decls:18,vars:1,consts:[[3,"click"]],template:function(i,o){i&1&&(n(0,"h2"),e(1,"ETAPE 1"),t(),n(2,"h3"),e(3,"Sous \xE9tape 1"),t(),n(4,"p"),e(5,"Il peut y avoir plusieurs pages dans une \xE9tape, tant qu'on appelle pas "),n(6,"b"),e(7,"nextStep()"),t(),e(8," sur le suivant les pages suivantes restent dans la m\xEAme \xE9tape."),t(),n(9,"p"),e(10,"Ici il y a 2 pages dans cette \xE9tape donc on n'appelle rien au clic sur suivant."),t(),n(11,"pre"),e(12,"  "),n(13,"code"),e(14),t(),e(15,`
`),t(),n(16,"button",0),h("click",function(){return o.goSuivant()}),e(17,"Suivant"),t()),i&2&&(m(14),D(`
  goSuivant() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape1/sousetape2');
  }
  `))},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var Nr=class l{constructor(r,i){this.router=r;this.stepBarService=i}goSuivant(){this.router.navigateByUrl("demo-step-bar/etape2/sousetape1"),this.stepBarService.nextStep()}goPrecedent(){this.router.navigateByUrl("demo-step-bar/etape1/sousetape1")}static \u0275fac=function(i){return new(i||l)(y(U),y(rt))};static \u0275cmp=E({type:l,selectors:[["app-etape1-sousetape2"]],decls:28,vars:2,consts:[[1,"select"],[3,"click"]],template:function(i,o){i&1&&(n(0,"h2"),e(1,"ETAPE 1"),t(),n(2,"h3"),e(3,"Sous \xE9tape 2"),t(),n(4,"p"),e(5,"Ici la page suivante fait partie de l'\xE9tape 2, donc on appelle "),n(6,"b"),e(7,"nextStep()"),t(),e(8," sur le suivant."),t(),n(9,"pre"),e(10,"  "),n(11,"code"),e(12),n(13,"span",0),e(14,"this.stepBarService.nextStep();"),t(),e(15,`
  }
  `),t(),e(16,`
`),t(),n(17,"p"),e(18,"Par contre la page pr\xE9c\xE9dente faisant partie de l'\xE9tape 1, on appelle rien sur le pr\xE9c\xE9dent."),t(),n(19,"pre"),e(20,"  "),n(21,"code"),e(22),t(),e(23,`
`),t(),n(24,"button",1),h("click",function(){return o.goPrecedent()}),e(25,"Precedent"),t(),n(26,"button",1),h("click",function(){return o.goSuivant()}),e(27,"Suivant"),t()),i&2&&(m(12),D(`
  goSuivant() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape2');
    `),m(10),D(`
  goPrecedent() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape1/sousetape1');
  }
  `))},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var Tr=class l{constructor(r,i){this.router=r;this.stepBarService=i}goSuivant(){this.router.navigateByUrl("demo-step-bar/etape3/sousetape1"),this.stepBarService.nextStep()}goPrecedent(){this.router.navigateByUrl("demo-step-bar/etape1/sousetape2"),this.stepBarService.previousStep()}static \u0275fac=function(i){return new(i||l)(y(U),y(rt))};static \u0275cmp=E({type:l,selectors:[["app-etape2-sousetape1"]],decls:34,vars:2,consts:[[1,"select"],[3,"click"]],template:function(i,o){i&1&&(n(0,"h2"),e(1,"ETAPE 2"),t(),n(2,"h3"),e(3,"Sous \xE9tape 1"),t(),n(4,"p"),e(5,"Ici la page suivante fait partie de l'\xE9tape 3, donc on appelle "),n(6,"b"),e(7,"nextStep()"),t(),e(8," sur le suivant."),t(),n(9,"pre"),e(10,"  "),n(11,"code"),e(12),n(13,"span",0),e(14,"this.stepBarService.nextStep();"),t(),e(15,`
  }
  `),t(),e(16,`
`),t(),n(17,"p"),e(18,"La page pr\xE9c\xE9dente fait partie de l'\xE9tape 1, on appelle "),n(19,"b"),e(20,"previousStep()"),t(),e(21," sur le pr\xE9c\xE9dent."),t(),n(22,"pre"),e(23,"  "),n(24,"code"),e(25),n(26,"span",0),e(27,"this.stepBarService.previousStep();"),t(),e(28,`
  }
  `),t(),e(29,`
`),t(),n(30,"button",1),h("click",function(){return o.goPrecedent()}),e(31,"Precedent"),t(),n(32,"button",1),h("click",function(){return o.goSuivant()}),e(33,"Suivant"),t()),i&2&&(m(12),D(`
  goSuivant() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape3');
    `),m(13),D(`
  goPrecedent() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape1/sousetape2');
    `))},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var Pr=class l{constructor(r,i){this.router=r;this.stepBarService=i}goSuivant(){this.router.navigateByUrl("demo-step-bar/confirmation"),this.stepBarService.nextStep()}goPrecedent(){this.router.navigateByUrl("demo-step-bar/etape2/sousetape1"),this.stepBarService.previousStep()}goEtape11(){this.stepBarService.navigateToPrevious(1),this.router.navigateByUrl("demo-step-bar/etape1/sousetape1")}goEtape12(){this.stepBarService.navigateToPrevious(1),this.router.navigateByUrl("demo-step-bar/etape1/sousetape2")}goEtape2(){this.stepBarService.navigateToPrevious(2),this.router.navigateByUrl("demo-step-bar/etape2/sousetape1")}static \u0275fac=function(i){return new(i||l)(y(U),y(rt))};static \u0275cmp=E({type:l,selectors:[["app-etape3-sousetape1"]],decls:56,vars:3,consts:[[1,"select"],[3,"click"]],template:function(i,o){i&1&&(n(0,"h2"),e(1,"ETAPE 3"),t(),n(2,"h3"),e(3,"Sous \xE9tape 1"),t(),n(4,"p"),e(5,"Les boutons dessous permettent de revenir \xE0 une page pr\xE9c\xE9dente, pour mettre l'\xE9tape \xE0 jour en cons\xE9quence on appelle "),n(6,"b"),e(7,"navigateToPrevious(stepNumber: number)"),t(),e(8,"."),t(),n(9,"p"),e(10,'Exemple pour le clic sur "Back Etape1 - 1" :'),t(),n(11,"pre"),e(12,"  "),n(13,"code"),e(14),n(15,"span",0),e(16,"this.stepBarService.navigateToPrevious(1);"),t(),e(17,`
  }
  `),t(),e(18,`
`),t(),n(19,"div")(20,"button",1),h("click",function(){return o.goEtape11()}),e(21,"Back Etape1 - 1"),t(),n(22,"button",1),h("click",function(){return o.goEtape12()}),e(23,"Back Etape1 - 2"),t(),n(24,"button",1),h("click",function(){return o.goEtape2()}),e(25,"Back Etape2"),t()(),n(26,"p"),e(27,"Ici on est sur la derni\xE8re page, la page suivante est la page de confirmation o\xF9 la barre d'\xE9tape ne s'affiche pas, on appelle "),n(28,"b"),e(29,"nextStep()"),t(),e(30,` sur le suivant pour "sortir" de la barre d'\xE9tape et ne plus l'afficher sur la page suivante.`),t(),n(31,"pre"),e(32,"  "),n(33,"code"),e(34),n(35,"span",0),e(36,"this.stepBarService.nextStep();"),t(),e(37,`
  }
  `),t(),e(38,`
`),t(),n(39,"p"),e(40,"La page pr\xE9c\xE9dente fait partie de l'\xE9tape 3, on appelle "),n(41,"b"),e(42,"previousStep()"),t(),e(43," sur le pr\xE9c\xE9dent."),t(),n(44,"pre"),e(45,"  "),n(46,"code"),e(47),n(48,"span",0),e(49,"this.stepBarService.previousStep();"),t(),e(50,`
  }
  `),t(),e(51,`
`),t(),n(52,"button",1),h("click",function(){return o.goPrecedent()}),e(53,"Pr\xE9c\xE9dent"),t(),n(54,"button",1),h("click",function(){return o.goSuivant()}),e(55,"Suivant"),t()),i&2&&(m(14),D(`
  goEtape11() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape1/sousetape1');
    `),m(20),D(`
  goSuivant() `,"{",`
    this.router.navigateByUrl('demo-step-bar/dest');
    `),m(13),D(`
  goPrecedent() `,"{",`
    this.router.navigateByUrl('demo-step-bar/etape2');
    `))},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var zr=class l{static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-confirmation"]],decls:6,vars:0,template:function(i,o){i&1&&(n(0,"h2"),e(1,"CONFIRMATION"),t(),n(2,"p"),e(3,"Confirmation que la demande a \xE9t\xE9 faite."),t(),n(4,"p"),e(5,"On est sorti des pages faisant parties de la barre d'\xE9tape, celle-ci ne s'affiche plus."),t())},styles:[`pre{background:#272822;color:#f8f8f2;max-width:700px;padding-left:16px}pre .select{background-color:#ff0;color:#272822}h1{margin-top:20px}
`],encapsulation:2,changeDetection:0})};var jm=[{path:"demo-step-bar",loadComponent:()=>import("./chunk-ILK2GBJ5.js"),children:[{path:"",redirectTo:"/demo-step-bar/accueil",pathMatch:"full"},{path:"accueil",component:Mr},{path:"etape1/sousetape1",component:Ir},{path:"etape1/sousetape2",component:Nr},{path:"etape2/sousetape1",component:Tr},{path:"etape3/sousetape1",component:Pr},{path:"confirmation",component:zr}]}];function rd(l,r){if(l&1){let i=x();n(0,"zac-form-field",14)(1,"zac-textarea",15),v("ngModelChange",function(a){d(i);let s=g();return b(s.text,a)||(s.text=a),f(a)}),t()()}if(l&2){let i=g(),o=M(31);m(),S("ngModel",i.text),u("maxlength",o.value)("row",10)("cols",10)}}function ad(l,r){if(l&1){let i=x();n(0,"zac-form-field",14)(1,"zac-textarea",16),v("ngModelChange",function(a){d(i);let s=g();return b(s.text,a)||(s.text=a),f(a)}),t()()}if(l&2){let i=g();m(),S("ngModel",i.text)}}var Ar=class l{text="Le Lorem Ipsum est simplement du faux texte qui ne veut rien dire, utilis\xE9 dans la composition et la mise en page avant impression. Le Lorem Ipsum est le faux texte standard de l'imprimerie depuis les ann\xE9es 1500, quand un imprimeur anonyme assembla ensemble des morceaux de texte pour r\xE9aliser un livre sp\xE9cimen de polices de texte. Il n'a pas fait que survivre cinq si\xE8cles, mais s'est aussi adapt\xE9 \xE0 la bureautique informatique, sans que son contenu n'en soit modifi\xE9. Il a \xE9t\xE9 popularis\xE9 dans les ann\xE9es 1960 gr\xE2ce \xE0 la vente de feuilles Letraset contenant des passages du Lorem Ipsum, et, plus r\xE9cemment, par son inclusion dans des applications de mise en page de texte.";constructor(){}onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-textarea"]],decls:46,vars:4,consts:[["ngForm","ngForm"],["caseNoMaxLength",""],["maxLength","ngModel"],["readOnly","ngModel"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoTextAreaComponent.html#template"],["zacErrors","",3,"ngSubmit","zacReadonly"],["label","Vos commentaires :",4,"ngIf","ngIfElse"],["type","submit",1,"button","--button_primary"],["label","maxLength (0 par d\xE9faut)"],["ngModel","10","type","number","name","maxLength"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"],["label","Vos commentaires :"],["name","text","required","",3,"ngModelChange","ngModel","maxlength","row","cols"],["name","text","required","",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let a=x();n(0,"h1"),e(1,"D\xE9mo du composant zac-textarea (ControlValueAccessor)"),t(),n(2,"div",4)(3,"section",5)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",6)(7,"form",7,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),_(9,rd,2,4,"zac-form-field",8)(10,ad,2,1,"ng-template",null,1,Sn),n(12,"button",9),e(13,"Valider"),t(),n(14,"p"),e(15,"Valeur de text : "),t(),n(16,"p"),e(17),t()()()(),n(18,"section",5)(19,"section",5)(20,"h2"),e(21,"Explications"),t(),n(22,"p"),e(23,"Affiche un textarea avec un compteur de caract\xE8res restant si "),n(24,"code"),e(25,"maxLength > 0 "),t()()(),n(26,"section",5)(27,"h2"),e(28,"Param\xE8tres"),t(),n(29,"zac-form-field",10),p(30,"input",11,2),t(),n(32,"zac-form-field",12)(33,"p"),e(34," Affiche le composant en lecture seule, disabled au sens angular (mais pas html pour raison d'accessibilit\xE9), a "),n(35,"b"),e(36,"appliquer sur le zac-form-field parent et non le composant lui-m\xEAme"),t()(),p(37,"zac-boolean-choice",13,3),t(),n(39,"p"),e(40,"Autres param\xE8tres :"),t(),n(41,"ul")(42,"li"),e(43,"cols : largeur exprim\xE9e en nombre de caract\xE8re (indicatif, la css \xE0 la priorit\xE9)"),t(),n(44,"li"),e(45,"row : nombre de lignes (indicatif, la css \xE0 la priorit\xE9)"),t()()()()()}if(i&2){let a,s=M(11),c=M(31),C=M(38);m(7),u("zacReadonly",C.value),m(2),u("ngIf",(a=c==null?null:c.value)!==null&&a!==void 0?a:!1)("ngIfElse",s),m(8),De(o.text)}},dependencies:[P,R,q,Lt,w,z,H,Pn,V,O,k,L,Ht,A,oe,W,mt],encapsulation:2,changeDetection:0})};function ld(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}function sd(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}function md(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}function cd(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}function ud(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}function pd(l,r){if(l&1){let i=x();n(0,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),p(1,"zac-form-group-generator",4),n(2,"nav"),p(3,"zac-navigation-bar"),t()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(),u("formGroupConfig",i.config)("model",i.model)("progressive",!1)}}var ve={page0:"demo-navigation/demo-navigation-page0",page1:"demo-navigation/demo-navigation-page1",subpage1:"demo-navigation/demo-navigation-subpage1",page2:"demo-navigation/demo-navigation-page2",page3:"demo-navigation/demo-navigation-page3",page4:"demo-navigation/demo-navigation-page4"},je=Object.assign({},_a,{custom:"custom"}),dd=[{pagePath:ve.page0,initial:!0,transitions:[[je.Suivant,ve.page1],[je.Abandonner,ve.page0]]},{pagePath:ve.page1,transitions:[[je.Precedent,ve.page0],[je.Suivant,ve.subpage1],[je.Abandonner,ve.page1]]},{pagePath:ve.subpage1,transitions:[[je.Precedent,ve.page1],[je.Suivant,ve.page2],[je.Abandonner,ve.page1]],stepBarPath:ve.page1},{pagePath:ve.page2,transitions:[[je.Precedent,ve.subpage1],[je.Suivant,ve.page3],[je.Abandonner,ve.page1]]},{pagePath:ve.page3,transitions:[[je.Precedent,ve.page2],[je.Suivant,ve.page4],[je.Abandonner,ve.page1]]},{pagePath:ve.page4,transitions:[[je.Precedent,ve.page3],[je.Abandonner,ve.page0]]}],fd=[{path:ve.page1,libelle:"Page 1"},{path:ve.page2,libelle:"Page 2"},{path:ve.page3,libelle:"Page 3"}],Ra=class l extends at{constructor(r,i,o){super(r,i,o)}customNavigateForEventAndFromPage(r,i){return Ce(this,null,function*(){return r===je.Abandonner?this.router.navigateByUrl("demo-navigation").then(o=>i):null})}static \u0275fac=function(i){return new(i||l)(Be(U),Be(Ci),Be(rt,8))};static \u0275prov=se({token:l,factory:l.\u0275fac})},Fr=class l{constructor(r){this.navigationService=r}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation"]],decls:53,vars:1,consts:[[1,"demo-title-section"],[1,"demo-section_reverse"],["src","components/DemoNavigationComponent.html#template"],[1,"demo-section"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,"Machine a \xE9tat navigationnelle"),t(),n(2,"section",1)(3,"section")(4,"app-source",2),p(5,"zac-step-bar")(6,"br"),n(7,"p"),e(8),t(),p(9,"router-outlet"),t()(),n(10,"section",3)(11,"p"),e(12," Le NgModule ZacNavigationModule propose un moyen de d\xE9coupler la responsabilit\xE9 de la navigation des pages en l'exprimant dans une machine \xE0 \xE9tat navigationnelle. "),t(),n(13,"p"),e(14," En effet selon le principe de responsabilit\xE9 unique les pages devraient juste avoir la responsabilit\xE9 de s'afficher (et de g\xE9rer leur \xE9v\xE8nements) et non pas de d\xE9cider vers o\xF9 aller. "),t(),n(15,"p"),e(16," L'avantage est qu'ensuite la navigation peut \xEAtre remani\xE9e juste en touchant la configuration de la machine a \xE9tat, sans impacter les composants pages. "),t(),n(17,"p"),e(18," Le principe propos\xE9 est que les pages \xE9mettent des \xE9v\xE8nements de navigation via une instance de "),n(19,"code"),e(20,"NavigationService"),t(),e(21," configur\xE9e de fa\xE7on ad-hoc pour chaque application, et c'est ces \xE9v\xE8nements qui sont traduit en routage effectif vers des pages rout\xE9s angular. "),t(),n(22,"code")(23,"pre"),e(24,`    {{
      pagePath: Pages.page2,
      transitions: [
        [ApplicationEvents.Precedent, Pages.page1],
        [ApplicationEvents.Suivant, Pages.page3]
      ]
  },
    `),t()(),n(25,"p"),e(26," La pr\xE9sence d'une "),n(27,"code"),e(28,"StepBar"),t(),e(29," est automatiquement d\xE9tect\xE9e et g\xE9r\xE9e de fa\xE7on ad\xE9quate et coordonn\xE9es, pour les \xE9tapes constitu\xE9s d'une seule page, si les paths utilis\xE9s dans le fichier de config de NavigationService et celui de StepBarService sont les m\xEAmes. Pour les cas o\xF9 des \xE9tapes seraient constitu\xE9es de plusieurs pages il suffit en g\xE9n\xE9ral de pr\xE9ciser dans la configuration du NavigationService qu'une page appartient a une \xE9tape diff\xE9rente "),t(),n(30,"code")(31,"pre"),e(32,`    {{
    pagePath: PAGES.subpage1,
    transitions: [
      [CUSTOM_EVENTS.Precedent, PAGES.page1],
      [CUSTOM_EVENTS.Suivant, PAGES.page2],
      [CUSTOM_EVENTS.Abandonner, PAGES.page1],
    ],
    stepBarPath: PAGES.page1
    },
    `),t()(),e(33,". "),n(34,"p"),e(35," Il est aussi possible d'\xE9tendre le comportement de "),n(36,"code"),e(37,"NavigationService"),t(),e(38," en overridant les m\xE9thode d'extension de pr\xE9vus a cet effet. "),t(),n(39,"p"),e(40," Ce service sera automatiquement utilis\xE9 par un "),n(41,"code"),e(42,"NavigationBarComponent"),t(),e(43," pour d\xE9terminer les boutons de validation (suivant & pr\xE9c\xE9dent en particulier) et d'abandon d'une page donn\xE9e \xE0 partir de ses transitions possibles. "),t(),n(44,"p"),e(45," Enfin ce service sera aussi automatiquement utilis\xE9 par une "),n(46,"code"),e(47,"NavigationGuard"),t(),e(48," pour v\xE9rifier que les urls saisie directement correspondent \xE0 des \xE9tats initiaux valides. "),t(),n(49,"h3"),e(50,"Boostrapping avec un AppComponent standalone (angular 15+)"),t(),n(51,"p"),e(52,"Attention dans ce cas il est n\xE9cessaire de d\xE9clarer tous les providers au m\xEAme niveau que les routes angular, comme dans cet exemple (cf a la fin de la classe DemoNavigationComponent)."),t()()()),i&2&&(m(8),D("PagePath = ",o.navigationService.currentPagePath,""))},dependencies:[A,Js,Bi],encapsulation:2,changeDetection:0})};var Kt=class l{constructor(r){this.navigationService=r}pageNo=1;step="step 1";formGroup;static MODEL=new ie;get model(){return l.MODEL}config=[{name:ie.PROPERTIES.nom,label:"Nom"},{name:ie.PROPERTIES.prenom,label:"Pr\xE9nom"},{name:ie.PROPERTIES.nomJeuneFille,label:"Nom de jeune fille"}];ngOnInit(){this.formGroup=new le({})}onSubmit(){this.formGroup?.valid&&(Object.assign(this.model,this.formGroup.value),this.navigationService.publishEvent(_a.Suivant))}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-page1"]],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,ld,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},qa=class l extends Kt{pageNo=0;step="hors StepBar";static MODEL=new ie;get model(){return Di.MODEL}constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-page0"]],features:[tt],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,sd,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},Va=class l extends Kt{pageNo=1.1;step="hors StepBar";static MODEL=new ie;get model(){return l.MODEL}constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-subpage1"]],features:[tt],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,md,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},Oa=class l extends Kt{pageNo=2;step="step 2";static MODEL=new ie;get model(){return l.MODEL}constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-page2"]],features:[tt],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,cd,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},Di=class l extends Kt{pageNo=3;step="step 3";static MODEL=new ie;get model(){return l.MODEL}constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-page3"]],features:[tt],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,ud,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},La=class l extends Kt{pageNo=4;step="hors StepBar";static MODEL=new ie;get model(){return Di.MODEL}constructor(r){super(r)}static \u0275fac=function(i){return new(i||l)(y(at))};static \u0275cmp=E({type:l,selectors:[["app-demo-navigation-page4"]],features:[tt],decls:7,vars:3,consts:[["zacAutofocus","",1,"demo-title-section"],[1,"demo-section"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"formGroupConfig","model","progressive"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2),t(),n(3,"section",1)(4,"h3"),e(5,"Naviguez avec les boutons ci-dessous ou la barre d'\xE9tape"),t(),_(6,pd,4,4,"form",2),t()()),i&2&&(m(2),Xe("Page ",o.pageNo," - ",o.step," "),m(4),u("ngIf",o.formGroup))},dependencies:[N,W,ne,R,z,te,k,Qe,nn],encapsulation:2,changeDetection:0})},Wm=[{path:"demo-navigation",component:Fr,canActivateChild:[Si],runGuardsAndResolvers:"always",providers:[Si,{provide:at,useClass:Ra},{provide:Ci,useValue:new Ci(ve,dd)},{provide:rt,useValue:new rt(fd)}],children:[{path:"",redirectTo:"/demo-navigation/demo-navigation-page0",pathMatch:"full"},{path:"demo-navigation-page0",component:qa},{path:"demo-navigation-page1",component:Kt},{path:"demo-navigation-subpage1",component:Va},{path:"demo-navigation-page2",component:Oa},{path:"demo-navigation-page3",component:Di},{path:"demo-navigation-page4",component:La}]}];function gd(l,r){if(l&1&&(n(0,"li",11),qi(1),n(2,"h2",12),e(3),t(),n(4,"div",13)(5,"zac-form-field",14)(6,"zac-label",15),e(7," Nom de la ressource "),t(),p(8,"input",16),t(),n(9,"zac-form-field",17)(10,"zac-label",15),e(11," Date du virement "),t(),p(12,"input",18),t()()()),l&2){let i=r.index,o=g().index;u("formGroupName",i);let a="_"+(o+1)+"_"+(i+1);m(3),D("",i+1,". Ressource"),m(3),u("for","ressource"+a),m(2),Ze("id","ressource"+a)("name","ressource"+a),m(2),u("for","date"+a),m(2),Ze("id","date"+a)("name","date"+a)}}function hd(l,r){if(l&1&&(n(0,"li",7)(1,"h3",8),e(2),t(),n(3,"ul",9),_(4,gd,13,8,"li",10),t()()),l&2){let i=r.index,o=g(2);u("formGroupName",i),m(2),D("",i+1," - Individu"),m(2),u("ngForOf",o.getRessources(i).controls)}}function Ed(l,r){if(l&1){let i=x();n(0,"form",2),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),n(1,"ul",3),_(2,hd,5,3,"li",4),t(),n(3,"div",5)(4,"button",6),e(5,"Valider la soumission"),t()()()}if(l&2){let i=g();u("formGroup",i.formGroup),m(2),u("ngForOf",i.individus.controls)}}var Rr=class l{fb=B(kt);formGroup=this.fb.group({individus:this.fb.array([this.fb.group({ressources:this.fb.array([this.fb.group({ressource:["",Ee.required],date:[""]}),this.fb.group({ressource:["",Ee.required],date:[""]})])}),this.fb.group({ressources:this.fb.array([this.fb.group({ressource:["",Ee.required],date:[""]}),this.fb.group({ressource:["",Ee.required],date:[""]})])})])});get individus(){return this.formGroup.get("individus")}getRessources(r){return this.individus.at(r).get("ressources")}onSubmit(){this.formGroup.updateValueAndValidity(),this.formGroup?.valid?console.log("submited ",this.formGroup.value):console.warn("FORM SUBMITTED INVALID ",this.formGroup?.value)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-form-reactive-component"]],decls:2,vars:1,consts:[["role","main",1,"main-container"],["zacErrors","",3,"formGroup"],["zacErrors","",3,"ngSubmit","formGroup"],["formArrayName","individus",1,"list:no-style"],["class","margin-bottom:24px",3,"formGroupName",4,"ngFor","ngForOf"],[1,"button-group"],[1,"button--primary"],[1,"margin-bottom:24px",3,"formGroupName"],[1,"text-style:title-XL","margin-bottom:16px"],["formArrayName","ressources",1,"list:no-style"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"text-style:title-L","margin:16px"],[1,"grid-container"],[1,"grid-col:4","grid-col-start:2"],[3,"for"],["type","text","formControlName","ressource"],["label","Date",1,"grid-col:4"],["type","date","formControlName","date"]],template:function(i,o){i&1&&(n(0,"main",0),_(1,Ed,6,2,"form",1),t()),i&2&&(m(),Ae(o.formGroup?1:-1))},dependencies:[ne,R,q,w,z,te,_e,Bt,os,k,L,ue,St],encapsulation:2})};function _d(l,r){if(l&1&&(n(0,"h2",11),e(1,"Personne saisie"),t(),n(2,"section"),e(3),K(4,"json"),t()),l&2){let i=g();m(3),D(" ",X(4,1,i.personneSaisie)," ")}}var qr=class l{constructor(r){this.modalService=r}personneSaisie;openModal(){this.modalService.open(wt,void 0,{title:"toto"}).subscribe(r=>{console.log("sortie modale =",r),this.personneSaisie=r})}openModalWithOutHeader(){this.modalService.open(ti).subscribe(r=>console.log("sortie modale sans header =",r))}openModalLotOfContent(){this.modalService.open(ni).subscribe(r=>console.log("sortie modale avec beaucoup de contenu =",r))}openModalWithoutCloseButton(){this.modalService.open(ii,void 0,{title:"toto",closeButton:!1}).subscribe(r=>{console.log("sortie modale =",r),this.personneSaisie=r})}static \u0275fac=function(i){return new(i||l)(y(Gt))};static \u0275cmp=E({type:l,selectors:[["app-demo-modal2"]],decls:150,vars:1,consts:[[1,"main-container"],[1,"demo-title-section"],[1,"demo-section"],["target","_blank","routerLink","/demo-autofocus"],["src","components/ModalContentComponent.html#template"],["src","components/DemoModalComponent.html#template"],["id","open-modal-1",1,"button","--button_primary",3,"click"],[3,"ngIf"],[1,"button","--button_secondary",3,"click"],[1,"button","--button_primary",3,"click"],[1,"button","--button_tertiary",3,"click"],[1,"title-subsection"]],template:function(i,o){i&1&&(n(0,"main",0)(1,"h1",1),e(2,"D\xE9mo du composant zac-modal"),t(),n(3,"section",2)(4,"h2"),e(5,"D\xE9claration de la modale"),t(),n(6,"p"),e(7,"Un composant "),n(8,"code"),e(9,"zac-modal"),t(),n(10,"b"),e(11," unique"),t(),e(12," doit \xEAtre pos\xE9 sur la single page application, en g\xE9n\xE9ral au niveau root dans le "),n(13,"code"),e(14,"AppComponent.html"),t(),e(15,"."),t(),n(16,"p"),e(17,"C'est lui qui va contenir le contenu de la modale qui sera ouvert par appel de "),n(18,"code"),e(19,"ModalService.openDialog(...)"),t(),e(20,", lequel "),n(21,"code"),e(22,"ModalService"),t(),n(23,"b"),e(24," doit aussi \xEAtre provid\xE9 une seule fois"),t(),e(25," au niveau le plus haut."),t()(),n(26,"section",2)(27,"h2"),e(28,"Contenu de la modale"),t(),n(29,"p"),e(30,"Le contenu affich\xE9 par la modale est un composant normal, qui peut "),n(31,"b"),e(32,"aussi"),t(),e(33," \xEAtre utilis\xE9 comme tout autre composant, comme ci-dessous, mais qui doit en plus impl\xE9menter l'interface "),n(34,"code")(35,"b"),e(36,"ModalContentApi"),t()(),e(37,' "\xE0 vide" ( cf code source ci-contre ) puis \xEAtre "ouvert" via '),n(38,"code")(39,"b"),e(40,"ModalService"),t()(),e(41," (ci-apr\xE8s). "),t(),n(42,"h2"),e(43,"Payload"),t(),n(44,"p"),e(45,"Un payload peut \xEAtre pass\xE9 lors de l'ouverture de la modale, qu'il sera possible de r\xE9cup\xE9rer dans le composant via ModalContentApi. "),t(),n(46,"p"),e(47,"Idem \xE0 la fermeture de la modale"),t(),n(48,"h2"),e(49,"Options d'ouverture de la modale"),t(),n(50,"p"),e(51,"Des options peuvent aussi \xEAtre pass\xE9es lors de l'ouverture de la modale"),t(),n(52,"ul")(53,"li"),e(54,"closeButton : True (d\xE9faut) pour afficher le bouton de fermeture dans le header de la modale."),t(),n(55,"li"),e(56,"backgroundClose : True (d\xE9faut) pour permettre la fermeture de la modale qd on clicke \xE0 l'ext\xE9rieur de celle-ci. "),t(),n(57,"li"),e(58,"showOnInit : False (d\xE9faut) pour ne pas afficher la modale des que le composant est charg\xE9."),t(),n(59,"li"),e(60,"title : Titre de la modale (accessibilit\xE9)."),t(),n(61,"li"),e(62,"typePopin : Type de pop-in pour utilisation optimale de l'accessibilit\xE9 : alertdialog pour les popins de gestion, alert sinon "),t(),n(63,"li"),e(64,"width : Largeur de la modale"),t()(),n(65,"h2"),e(66,"Accessibilit\xE9"),t(),n(67,"p")(68,"b"),e(69,"Attention :"),t(),e(70,"Veillez a pr\xE9ciser o\xF9 mettre le focus \xE0 l'ouverture de la modale en ajoutant la directive "),n(71,"a",3),e(72,"zacAutofocus"),t(),e(73,"."),t(),n(74,"app-source",4),p(75,"app-modal-content"),t()(),n(76,"section",2)(77,"h2"),e(78,"Appel de la modale"),t(),n(79,"p"),e(80,"L'appel de la modale d\xE9clar\xE9e ci-dessus se fait via "),n(81,"code")(82,"b"),e(83,"ModalService"),t()(),e(84,', cf code ci-contre, onglets "source" et "template"'),t(),n(85,"app-source",5)(86,"section",2)(87,"h4"),e(88," Modale Header + avec un formulaire sans footer "),t(),n(89,"button",6),h("click",function(){return o.openModal()}),e(90,"Modale ouvre-toi !"),t(),_(91,_d,5,3,"ng-template",7),t(),n(92,"section",2)(93,"h4"),e(94," Modale sans header + alignement des boutons particulier dans le footer "),t(),n(95,"button",8),h("click",function(){return o.openModalWithOutHeader()}),e(96,"Modale ouvre-toi !"),t()(),n(97,"section",2)(98,"h4"),e(99," Modale sans bouton de fermeture "),t(),n(100,"button",9),h("click",function(){return o.openModalWithoutCloseButton()}),e(101,"Modale ouvre-toi !"),t()(),n(102,"section",2)(103,"h4"),e(104," Modale avec \xE9norm\xE9ment de contenu et un alignement simple des boutons dans le footer "),t(),n(105,"button",10),h("click",function(){return o.openModalLotOfContent()}),e(106,"Modale ouvre-toi !"),t()(),n(107,"section",2)(108,"strong"),e(109," Seulement pour avoir du scroll sur la page pour tester la modale"),t(),n(110,"p"),e(111,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(112,"p"),e(113,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(114,"p"),e(115,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(116,"p"),e(117,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(118,"p"),e(119,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(120,"p"),e(121,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(122,"p"),e(123,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(124,"p"),e(125,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(126,"p"),e(127,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(128,"p"),e(129,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t(),n(130,"p"),e(131,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Adipisci est explicabo natus possimus totam ullam. Architecto atque consequatur minima neque nobis nulla perferendis sapiente voluptas voluptates. Amet consequatur libero quidem."),t(),n(132,"p"),e(133,"Ab accusantium inventore, maiores minus quas repudiandae rerum velit voluptatibus! At esse est labore libero natus nemo quae quia recusandae repellat, reprehenderit sequi, unde voluptatem. Culpa mollitia nam obcaecati quam."),t(),n(134,"p"),e(135,"Ab accusamus accusantium atque consequatur deserunt distinctio dolor facilis fugit id illum inventore maiores minima molestias natus, obcaecati odit quam quod repudiandae temporibus vitae. Beatae cum est fuga fugit qui."),t(),n(136,"p"),e(137,"Ad consectetur eos est illum impedit incidunt, iste itaque laudantium magni modi natus pariatur, perspiciatis quas quibusdam rem, similique soluta sunt tempore. Cumque enim expedita, iste quam quibusdam totam veniam!"),t(),n(138,"p"),e(139,"Autem dolorem eius, ipsa iusto odio velit. Amet cumque deleniti dicta eius facilis illum inventore itaque iusto labore nemo nesciunt quae quaerat quas qui saepe similique soluta tempore, vero voluptatem."),t(),n(140,"p"),e(141,"A beatae cupiditate, impedit ipsum, iure magni molestias neque nesciunt nostrum officia quae quas quidem rerum suscipit tempore velit vitae. Aut expedita laudantium mollitia possimus quae quam recusandae! Aliquam, voluptate."),t(),n(142,"p"),e(143,"Accusamus aspernatur debitis deserunt dignissimos distinctio doloremque doloribus, enim ex, facere incidunt itaque iure maiores natus nemo possimus velit, vitae. Facilis illo iure nam quas qui quia, ratione repudiandae voluptas."),t(),n(144,"p"),e(145,"A accusamus aspernatur debitis deleniti dolores eum explicabo facilis id in ipsam, itaque laboriosam molestiae molestias nobis nulla numquam officia optio pariatur porro quibusdam, quisquam, reiciendis repudiandae similique vero voluptatum!"),t(),n(146,"p"),e(147,"Alias, cumque explicabo repellat rerum veniam vero! Aliquid deleniti deserunt dignissimos dolor ducimus eligendi eos hic ipsa ipsam maiores molestias mollitia nemo, odit perferendis porro quis, repellat vel vero voluptates?"),t(),n(148,"p"),e(149,"Aliquid, et facere fugiat ipsam libero minima nam numquam odio, provident rem repudiandae, ullam! Asperiores aut autem dolorum ea enim hic laudantium maxime minus non quam, quisquam recusandae, sit voluptatum."),t()()()()()),i&2&&(m(91),u("ngIf",o.personneSaisie))},dependencies:[N,W,ge,ae,A,he,wt],encapsulation:2})};var Cd=(l,r)=>r.get("code");function Sd(l,r){if(l&1){let i=x();n(0,"div",4)(1,"zac-form-field",7)(2,"input",8),h("blur",function(a){let s=d(i).$index,c=g(2);return f(c.onLibelleChange(a,s))}),t()(),n(3,"zac-form-field",9),p(4,"input",10),t()()}if(l&2){let i=r.$implicit;u("formGroup",i)}}function bd(l,r){if(l&1){let i=x();n(0,"header",0)(1,"h1",1),e(2,"Options"),t()(),n(3,"section")(4,"p",2),e(5),t(),n(6,"form",3),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),hn(7,Sd,5,1,"div",4,Cd),p(9,"br"),n(10,"button",5),h("click",function(a){d(i);let s=g();return f(s.onAjouterOption(a))}),e(11," Ajouter un \xE9l\xE9ment "),t(),p(12,"br")(13,"br"),n(14,"zac-control-bar",6),h("action",function(a){d(i);let s=g();return f(s.onAction(a))}),t()()()}if(l&2){let i=g();m(5),D("Ajoutez les options de votre champ ",i.name(),"."),m(),u("formGroup",i.formGroup()),m(),En(i.formArray.controls)}}var Vr=class l{name=ft();options=ft();elementRef=B(_t);formGroup=gt(()=>{let r=this.options()??[],i=new Qi(r.map(o=>new le({code:new me(o[0]),libelle:new me(o[1])})));return r.length===0&&i.push(new le({code:new me,libelle:new me})),new le({options:i})});get formArray(){return this.formGroup().get("options")}set modalPayload(r){r?.options?this.options.set([...r.options]):this.options.set([]),r?.name?this.name.set(r.name):this.name.set("")}ngOnInit(){return Ce(this,null,function*(){yield this.giveFocusOnFirstNewInput()})}close(r){}onAjouterOption(r){return Ce(this,null,function*(){this.formArray.push(new le({code:new me,libelle:new me})),yield this.giveFocusOnFirstNewInput()})}onSubmit(){this.formGroup().valid&&this.close(this.formGroup().controls.options.value?.map(r=>[r.code,r.libelle]))}onLibelleChange(r,i){r.target instanceof HTMLInputElement&&(this.formGroup().controls.options.value[i].code||this.formGroup().controls.options?.at(i).get("code")?.patchValue(this.suggestCodeValue(r.target.value)))}onAction(r){r==="Abandonner"&&this.close(void 0)}giveFocusOnFirstNewInput(){return Ce(this,null,function*(){yield Re.waitMilliseconds(200),this.elementRef.nativeElement.querySelector(".option:last-of-type input")?.focus()})}suggestCodeValue(r){return r.substring(0,3).toUpperCase()}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-edit-options"]],inputs:{name:[1,"name"],options:[1,"options"]},outputs:{name:"nameChange",options:"optionsChange"},decls:1,vars:1,consts:[[1,"zac-margin-bottom:8px"],[1,"zac-text-style:title-XL-medium"],[1,"zac-margin-bottom:4px"],[3,"ngSubmit","formGroup"],[1,"option","zac-grid-container",3,"formGroup"],["type","button",1,"button","--button_secondary",3,"click"],[3,"action"],["label","Libelle",1,"zac-grid-col:6"],["type","text","formControlName","libelle",3,"blur"],["label","Code",1,"zac-grid-col:6"],["type","text","formControlName","code"]],template:function(i,o){i&1&&_(0,bd,15,2),i&2&&Ae(o.options()?0:-1)},dependencies:[L,ne,R,q,w,z,te,_e,ce],encapsulation:2,changeDetection:0})};var ut=class l{$buildingFormGroupConfig=Se(void 0);$formControlNames=gt(()=>this.$buildingFormGroupConfig()?this.$buildingFormGroupConfig().controls.config.value.filter(r=>!!r.name).map(r=>[r.name,`valeur de ${r.name}`]):[]);static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function vd(l,r){if(l&1&&(Q(0),n(1,"zac-form-field",12),p(2,"zac-autocomplete",13),t(),J()),l&2){let i=g();m(),u("formGroup",i.getConditionFormGroup()),m(),u("choiceList",i.$formControlNames())("minInputSize",0)}}var Or=class l{condition=ft.required();uiGeneratorStateService=B(ut);formGroup=gt(()=>{let r=new le({condition:new le({op1:new me,operator:new me,op2:new me})}),i=this.condition();return i&&setTimeout(()=>{let o=this.parseCondition(i);o&&r.setControl("condition",o)}),r});elementRef=B(_t);notificationBanner=en(Dt);set modalPayload(r){this.condition.set(r.condition)}ngOnInit(){}close(r){}parseCondition(r){this.notificationBanner()?.clear();let i=/console\.log\(['"](.*?)['"]\);/,o=r.match(i);if(!o){this.notificationBanner()?.notify({level:"error",message:`Format de condition invalide : ${r}`});return}let a=o[1].trim(),s=/^(['"]?\w+['"]?)\s*(<=|>=|==|!=)\s*(['"]?\w+['"]?)?$/,c=a.match(s);if(!c){this.notificationBanner()?.notify({level:"error",message:`Format de condition invalide : ${r}`});return}let[,C,I,j]=c;return new le({op1:new me(C),operator:new me(I),op2:new me(j||null)})}generateFunctionString(r){let i=r.get(["condition","op1"])?.value,o=r.get(["condition","operator"])?.value,a=r.get(["condition","op2"])?.value;if(o==="isNull!"?(o="==",a="undefined"):o==="notNull!"&&(o="!=",a="undefined"),!i||!o)throw new Error("Les valeurs op1 et operator sont obligatoires");let s=`(formGroup) => {console.log('${i} ${o} ${a}');  var op1 = formGroup.get('${i}') ? formGroup.get('${i}').value : ${i}; var op2 = formGroup.get('${a}') ? formGroup.get('${a}').value : ${a}; if ('' == op1) {op1 = undefined;} if ('' == op2) {op2 = undefined;} var result = ( op1 ${o} op2 ); console.debug('op1=', op1, '${o} op2=', op2, '=', result); return result;}`;try{return as(s,window),s}catch(c){this.notificationBanner()?.notify({level:"error",message:`Fonction de condition g\xE9n\xE9r\xE9e invalide : ${c} pour ${s}`});return}}onSubmit(){return Ce(this,null,function*(){if(this.formGroup().updateValueAndValidity(),yield Re.waitMilliseconds(100),this.formGroup().valid){let r=this.generateFunctionString(this.formGroup());r&&this.close(r)}})}$formControlNames=gt(()=>this.uiGeneratorStateService.$formControlNames());operatorOptions=[["notNull!","notNull"],["isNull!","isNull"],["==","=="],["!=","!="],["!=","!="],[">",">"],[">=",">="],["<=","<="]];withOp2(){return!this.formGroup().get(["condition","operator"])?.value?.includes("Null!")}getConditionFormGroup(){return this.formGroup().get("condition")}onAction(r){r==="Abandonner"&&this.close(void 0)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-edit-condition"]],viewQuery:function(i,o){i&1&&tn(o.notificationBanner,Dt,5),i&2&&_n()},inputs:{condition:[1,"condition"]},outputs:{condition:"conditionChange"},decls:23,vars:5,consts:[["notificationBanner",""],["cb",""],[1,"zac-text-style:title-XL-medium"],[1,"zac-text-style:text-S-regular"],["zacErrors","",3,"ngSubmit","formGroup"],["formGroupName","condition",1,"zac-grid-container"],["label","op1",1,"zac-grid-col:4"],["name","op1","formControlName","op1","freeEntry","true","required","",3,"choiceList","minInputSize"],["label","operator",1,"zac-grid-col:3"],["name","operator","formControlName","operator","required","",3,"choiceList"],[4,"zacIf"],[3,"action"],["label","op2",1,"zac-grid-col:4",3,"formGroup"],["name","op2","formControlName","op2","freeEntry","true","zacCreateAndRemove","","required","",3,"choiceList","minInputSize"]],template:function(i,o){if(i&1){let a=x();n(0,"header")(1,"h1",2),e(2,"Condition"),t()(),p(3,"br"),n(4,"p",3),e(5,` Les op\xE9randes repr\xE9sentent soient une valeur d'un champ a s\xE9lectionner, soit une valeur libre parmi :
`),t(),n(6,"ul",3)(7,"li"),e(8,'string entre "double quote" comme "toto"'),t(),n(9,"li"),e(10,"valeur num\xE9rique comme 3"),t()(),p(11,"zac-notification-banner",null,0),n(13,"form",4),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(14,"div",5)(15,"zac-form-field",6),p(16,"zac-autocomplete",7),t(),n(17,"zac-form-field",8),p(18,"zac-select",9),t(),_(19,vd,3,3,"ng-container",10),t(),p(20,"br"),n(21,"zac-control-bar",11,1),h("action",function(c){return d(a),f(o.onAction(c))}),t()()}i&2&&(m(13),u("formGroup",o.formGroup()),m(3),u("choiceList",o.$formControlNames())("minInputSize",0),m(2),u("choiceList",o.operatorOptions),m(),u("zacIf",o.withOp2()))},dependencies:[L,ne,R,w,z,H,te,_e,Bt,ce,Dt,yt,ot,it,st,k],encapsulation:2,changeDetection:0})};function xd(l,r){if(l&1){let i=x();n(0,"button",20),h("click",function(a){d(i);let s=g();return f(s.onCondition(a))}),e(1,"if "),t()}}function yd(l,r){if(l&1){let i=x();n(0,"button",21),h("click",function(a){d(i);let s=g();return f(s.onCondition(a))}),e(1,"if "),t()}if(l&2){let i=g();Ze("disabled",i.isWithoutName())}}function Dd(l,r){if(l&1){let i=x();n(0,"button",25),h("click",function(a){d(i);let s=g(2);return f(s.onOptions(a))}),e(1,"Op "),t()}}function wd(l,r){if(l&1){let i=x();n(0,"button",26),h("click",function(a){d(i);let s=g(2);return f(s.onOptions(a))}),e(1,"Op "),t()}}function Md(l,r){if(l&1&&(n(0,"div",1)(1,"p",22),e(2,"Option"),t(),_(3,Dd,2,0,"button",23)(4,wd,2,0,"button",24),t()),l&2){let i=g();m(3),Ae(i.isWithOptionsChoosed()?3:4)}}var Lr=class l{static withOptions=[6,4,7,8];index=ke.required();formGroup=ke.required();delete=fn();modaleService=B(Gt);uiGeneratorStateService=B(ut);model=new mm;natureOptions=Object.entries(Un).filter(r=>isNaN(Number.parseInt(r[1]))).map(r=>[Number.parseInt(r[0]),r[1]]);get required(){return this.formGroup().get("validators")?.value.includes("required")}set required(r){r?this.formGroup().setControl("validators",new me(["required"])):this.formGroup().setControl("validators",new me([]))}constructor(){console.log()}ngOnInit(){this.formGroup().addControl("validators",new me([])),this.formGroup().addControl("options",new me([])),this.formGroup().addControl("condition",new me(void 0)),this.formGroup().addControl("nature",new me(void 0))}onOptions(r){this.modaleService.open(Vr,{name:this.formGroup().get("name")?.value,options:this.formGroup().get("options")?.value}).subscribe(i=>{this.formGroup().get("options").setValue(i)})}ControlNatureEnum=Un;isWithOptions(){return l.withOptions.includes(this.formGroup().get("nature")?.value)}isWithOptionsChoosed(){return this.formGroup().get("options")?.value?.length>0}isWithConditionSet(){return this.formGroup().get("condition")?.value?.length>0}onCondition(r){setTimeout(()=>{this.modaleService.open(Or,{condition:this.formGroup().get("condition")?.value}).subscribe(i=>{this.formGroup().get("condition").setValue(i)})})}isWithoutName(){return this.formGroup().get("name")?.value?.length>0?null:!0}faTrash=us;onDelete(r){this.delete.emit(r)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-form-control"]],hostAttrs:[1,"ui-form-control"],inputs:{index:[1,"index"],formGroup:[1,"formGroup"]},outputs:{delete:"delete"},decls:24,vars:7,consts:[[1,"zac-grid-container"],[1,"zac-grid-col:1"],["title","Cr\xE9er une condition d'ex\xE9cution",1,"label","zac-text-style:text-M-medium"],["type","button","title","Modifier une condition d'ex\xE9cution",1,"button","--button_primary"],["type","button","title","Cr\xE9er la condition d'ex\xE9cution",1,"button","--button_secondary"],[3,"formGroup"],["label","Name",1,"zac-grid-col:2"],["formControlName","name","required","","zacCreate",""],["label","Label",1,"zac-grid-col:3"],["formControlName","label","required","","zacCreate",""],["label","Nature",1,"zac-grid-col:3"],["formControlName","nature","required","",3,"choiceList"],[1,"zac-grid-col:1","zac-grid-col-start:11"],["title","Obligatoire",1,"label","zac-text-style:text-M-medium"],["label"," ","title","Obligatoire"],["type","checkbox","name","required",3,"ngModelChange","ngModel"],[1,"zac-grid-col:1","zac-grid-col-start:12"],["title","Supprimer",1,"label","zac-text-style:text-M-medium"],["type","button","title","Supprimer",1,"button","--button_tertiary","--button_ghost",3,"click"],[3,"icon"],["type","button","title","Modifier une condition d'ex\xE9cution",1,"button","--button_primary",3,"click"],["type","button","title","Cr\xE9er la condition d'ex\xE9cution",1,"button","--button_secondary",3,"click"],["title","Cr\xE9er les options de choix",1,"label","zac-text-style:text-M-medium"],["type","button","title","Modifier les options de choix",1,"button","--button_primary"],["type","button","title","Cr\xE9er les options de choix",1,"button","--button_secondary"],["type","button","title","Modifier les options de choix",1,"button","--button_primary",3,"click"],["type","button","title","Cr\xE9er les options de choix",1,"button","--button_secondary",3,"click"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"p",2),e(3,"If"),t(),_(4,xd,2,0,"button",3)(5,yd,2,1,"button",4),t(),Q(6,5),n(7,"zac-form-field",6),p(8,"input",7),t(),n(9,"zac-form-field",8),p(10,"input",9),t(),n(11,"zac-form-field",10),p(12,"zac-select",11),t(),J(),_(13,Md,5,1,"div",1),n(14,"div",12)(15,"p",13),e(16,"Obl."),t(),n(17,"zac-form-field",14)(18,"input",15),v("ngModelChange",function(s){return b(o.required,s)||(o.required=s),s}),t()()(),n(19,"div",16)(20,"p",17),e(21,"Delete"),t(),n(22,"button",18),h("click",function(){return o.onDelete(o.index())}),p(23,"fa-icon",19),t()()()),i&2&&(m(4),Ae(o.isWithConditionSet()?4:5),m(2),u("formGroup",o.formGroup()),m(6),u("choiceList",o.natureOptions),m(),Ae(o.isWithOptions()?13:-1),m(5),S("ngModel",o.required),Ze("id","required"+o.index()),m(5),u("icon",o.faTrash))},dependencies:[ne,q,wn,w,z,H,te,_e,L,P,V,ot,eo,vt,Vt],styles:[`.ui-form-control .zac-grid-container{margin-bottom:1rem}.ui-form-control button{margin-top:4px;padding:8px;min-width:unset}.ui-form-control zac-select input{height:42px}.ui-form-control .label{height:32px}.ui-form-control .select.combobox .combobox-input-container input{font-size:smaller}.ui-form-control .select.combobox .combobox-list-container{width:auto}.ui-form-control .select.combobox .combobox-list-content li{padding:4px;font-size:smaller}
`],encapsulation:2,changeDetection:0})};function Id(l,r){if(l&1){let i=x();n(0,"app-ui-form-control",6),h("delete",function(){let a=d(i).index,s=g(2);return f(s.onDelete(a))}),t()}if(l&2){let i=r.$implicit,o=r.index;u("index",o)("formGroup",i)}}function Nd(l,r){if(l&1){let i=x();n(0,"form",1),h("ngSubmit",function(){d(i);let a=g();return f(a.onSubmit())}),_(1,Id,1,2,"app-ui-form-control",2),p(2,"br"),n(3,"button",3),h("click",function(a){d(i);let s=g();return f(s.onAjouter(a))}),e(4,"Ajouter un \xE9l\xE9ment de formulaire"),t(),p(5,"br")(6,"br"),n(7,"div",4),p(8,"zac-button",5),t()()}if(l&2){let i=g();u("formGroup",i.formGroup()),m(),u("ngForOf",i.configFormArray.controls),m(7),u("label","Valider et g\xE9n\xE9rer le formulaire")}}var li=class l{config=ft();uiGeneratorState=B(ut);formGroup=gt(()=>this.generateFormArrayForConfig(this.config()??[]));elementRef=B(_t);get configFormArray(){return this.formGroup().get("config")}ngOnInit(){this.config()||this.config.set([])}generateFormArrayForConfig(r){let i=new Qi([]),o=new le({config:i});return r.forEach(a=>{i.push(new le({}))}),setTimeout(()=>{try{i.patchValue(r),this.uiGeneratorState.$buildingFormGroupConfig.set(o)}catch(a){ht({level:"error",message:`Erreur de parsing : ${a} de la config json : ${r}`})}}),o}onAjouter(r){return Ce(this,null,function*(){this.configFormArray.push(new le({})),yield Re.waitMilliseconds(100),this.elementRef.nativeElement.querySelector("app-ui-form-control:last-of-type input")?.focus(),this.uiGeneratorState.$buildingFormGroupConfig.set(this.formGroup())})}onSubmit(){return Ce(this,null,function*(){yield Re.skipTurn(),this.formGroup().updateValueAndValidity(),yield Re.skipTurn(),this.formGroup().valid&&(console.log(">>>>",this.formGroup().value.config),this.config.set(this.formGroup().value.config))})}onDelete(r){this.formGroup().get("config")?.removeAt(r)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-form-group"]],inputs:{config:[1,"config"]},outputs:{config:"configChange"},decls:1,vars:1,consts:[["zacErrors","",3,"formGroup"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"index","formGroup","delete",4,"ngFor","ngForOf"],["type","button",1,"button","--button_secondary","uig-button",3,"click"],[1,"control_bar"],["name","Valider",1,"uig-button",3,"label"],[3,"delete","index","formGroup"]],template:function(i,o){i&1&&_(0,Nd,9,3,"form",0),i&2&&Ae(o.config()&&o.formGroup()?0:-1)},dependencies:[ne,R,z,te,Lr,St,k,Oe],encapsulation:2,changeDetection:0})};function Td(l,r){if(l&1){let i=x();n(0,"form",2),h("ngSubmit",function(){d(i);let a=g(2);return f(a.onSubmit())}),p(1,"zac-form-group-generator",3)(2,"zac-control-bar"),t()}if(l&2){let i=r.ngIf,o=g(2);u("formGroup",i),m(),u("model",o.model)("formGroup",i)("formGroupConfig",o.config())}}function Pd(l,r){if(l&1&&_(0,Td,3,4,"form",1),l&2){let i=g();u("ngIf",i.formGroup())}}var si=class l{config=ke();model={};formGroup=gt(()=>{if(this.config())return new le({})});onSubmit(){console.debug("Valeurs soumises ",this.formGroup()?.getRawValue())}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-generated"]],inputs:{config:[1,"config"]},decls:1,vars:1,consts:[["zacErrors","",3,"formGroup"],["zacErrors","",3,"formGroup","ngSubmit",4,"ngIf"],["zacErrors","",3,"ngSubmit","formGroup"],[3,"model","formGroup","formGroupConfig"]],template:function(i,o){i&1&&_(0,Pd,1,1,"form",0),i&2&&Ae(o.config()?0:-1)},dependencies:[ne,R,z,te,Qe,W,k,ce],encapsulation:2,changeDetection:0})};function zd(l,r){if(l&1){let i=x();Q(0),n(1,"textarea",3),h("blur",function(a){d(i);let s=g();return f(s.onBlur(a))}),t(),J()}if(l&2){let i=g();m(),u("value",i.$jsonConfig())}}var Br=class l{config=ft();modalService=B(Gt);$show=Se(!0);$jsonConfig=Se("");ngOnChanges(r){r.config&&(this.$show.set(!1),setTimeout(()=>{let i=JSON.stringify(this.config(),(o,a)=>typeof a=="function"?a.toString():a,2);this.$jsonConfig.set(i),this.$show.set(!0)},100))}onBlur(r){ht();let i=r.target?.value;if(i)try{this.config.set(JSON.parse(i))}catch(o){console.error("Erreur de parsing de la config json",o),console.error("Contenu json",i),ht({level:"error",message:`Erreur de parsing de la config json : ${o}`})}}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-config"]],inputs:{config:[1,"config"]},outputs:{config:"configChange"},features:[Fi],decls:8,vars:1,consts:[[1,"zac-text-style:text-S-regular"],["routerLink","/demo-form-generator"],[4,"ngIf"],["id","ui-config","name","ui-config","cols","30","rows","10",3,"blur","value"]],template:function(i,o){i&1&&(n(0,"p",0),e(1,"La configuration JSON ci-dessus peut \xEAtre copi\xE9e-coll\xE9e pour alimenter un "),n(2,"a",1),e(3,"composant de g\xE9n\xE9ration de formulaire "),n(4,"code"),e(5,"FormGroupGenerator"),t()(),e(6," qui g\xE9n\xE8rera alors les m\xEAmes champs de formulaire que ci-contre"),t(),_(7,zd,2,1,"ng-container",2)),i&2&&(m(7),u("ngIf",o.$show()))},dependencies:[he,W],encapsulation:2})};function Ad(l,r){if(l&1){let i=x();n(0,"section",5)(1,"h3",6),e(2,"Configuration g\xE9n\xE9r\xE9e"),t(),n(3,"app-ui-config",7),h("configChange",function(a){d(i);let s=g(2);return f(s.onConfigChange(a))}),t()()}if(l&2){let i=g(2);m(3),u("config",i.config)}}function Fd(l,r){if(l&1){let i=x();n(0,"article",3)(1,"div",4)(2,"section",5)(3,"h3",6),e(4,"Configuration du formulaire"),t(),n(5,"app-ui-form-group",7),h("configChange",function(a){d(i);let s=g();return f(s.onConfigChange(a))}),t()(),p(6,"br"),_(7,Ad,4,1,"section",8),p(8,"br"),t(),n(9,"section",9)(10,"h3",6),e(11,"Formulaire g\xE9n\xE9r\xE9"),t(),p(12,"app-ui-generated",10),t()()}if(l&2){let i=g();m(5),u("config",i.config),m(2),u("ngIf",i.isNaN(i.idxPage())),m(5),u("config",i.config)}}var kr=class l{idxPage=ke(-1,{transform:Pt});idxBloc=ke(-1,{transform:Pt});$generated=Se(!1);$refresh=Se(1);config;selectStyle=B(Ne);uiGeneratorState=B(ut);appGeneratorConfig=B(ct,{optional:!0});ngOnInit(){this.selectStyle.style="intranet",this.appGeneratorConfig&&this.idxPage()>=0&&(this.config=this.appGeneratorConfig.pages?.[this.idxPage()].sections?.[this.idxBloc()]?.formControlConfigs??[])}onConfigChange(r){return Ce(this,null,function*(){ht(),this.config=void 0,this.$refresh.update(i=>i+1),yield Re.skipTurn(),this.config=r,yield Re.skipTurn(),this.$refresh.update(i=>i+1),yield Re.skipTurn()})}NaN=NaN;isNaN=isNaN;static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-generator"]],hostAttrs:[1,"ui-generator"],inputs:{idxPage:[1,"idxPage"],idxBloc:[1,"idxBloc"]},decls:10,vars:1,consts:[[1,"title-section","zac-text-style:title-XL-medium","zac-margin-bottom:8px"],["routerLink","/demo-form-generator"],["standalone","false"],[1,"zac-flex-row"],[1,"--half_width"],[1,"content-container"],[1,"content-container--title"],[3,"configChange","config"],["class","content-container",4,"ngIf"],[1,"content-container","--half_width"],[3,"config"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,` G\xE9n\xE9rateur de formulaire
`),t(),n(2,"p"),e(3," IHM permettant de g\xE9n\xE9rer la configuration JSON d'un "),n(4,"a",1),e(5,"composant de g\xE9n\xE9ration de formulaire "),n(6,"code"),e(7,"FormGroupGenerator"),t()()(),p(8,"zac-notification-banner",2),_(9,Fd,13,3,"article",3)),i&2&&(m(9),Ae(o.$refresh()?9:-1))},dependencies:[li,si,Br,Dt,he,W],styles:[`.ui-generator .--half_width{width:49%!important;margin:4px}
`],encapsulation:2})};var Rd=["standaloneNotificationBanner"],qd=["globalNotificationBanner"],Gr=class l{selectStyle=B(Ne);standaloneNotificationBannerComponent=en("standaloneNotificationBanner");globalNotificationBannerComponent=en("globalNotificationBanner");ngOnInit(){this.selectStyle.style="intranet"}onClearStandaloneNotification(){this.standaloneNotificationBannerComponent()?.clear()}onMethodCallNotificationBanner(){this.standaloneNotificationBannerComponent()?.notify({message:"Ce contenu est affich\xE9 programmatiquement par appel de <code>NotificationBanneComponent.notify()</code>.",level:"success"})}onFunctionCallGlobalNotificationBanner(){ht({message:`Ce contenu est affich\xE9 programmatiquement par appel de la fonction <code>zacNotifyBanner()</code> et va s'effacer automatiquement
      au bout de 5s`,level:"error"},5e3)}onFunctionCallGlobalClearNotificationBanner(){cm()}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-notification-banner"]],viewQuery:function(i,o){i&1&&(tn(o.standaloneNotificationBannerComponent,Rd,5),tn(o.globalNotificationBannerComponent,qd,5)),i&2&&_n(2)},decls:64,vars:1,consts:[["standaloneNotificationBanner",""],["globalNotificationBanner",""],[1,"zac-main-container"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"section"],["src","components/DemoNotificationBannerComponent.html#template"],[1,"zac-text-style:title-L-medium"],[1,"zac-grid-container"],[1,"content-container","zac-grid-col:5","zac-grid-col-start:2"],[3,"level"],[1,"content-container","zac-grid-col-start:8","zac-grid-col-end:12"],[1,"zac-button-group"],["type","button",1,"button","--button_secondary",3,"click"],["standalone","false"],[1,"demo-section"],["target","_blank","href","https://design-system.glpages.agora.msanet/zac-scss-orion/?path=/docs/composant-notification-banner--documentation"]],template:function(i,o){if(i&1){let a=x();n(0,"main",2)(1,"h1",3),e(2,"D\xE9mo d'usage des NotificationBanner"),t(),n(3,"div",4)(4,"section",5)(5,"h2"),e(6,"Exemple"),t(),n(7,"app-source",6)(8,"h2",7),e(9,"Notification standalone"),t(),n(10,"article",8)(11,"section",9)(12,"zac-notification-banner",10,0),e(14," Ce contenu est d\xE9finit statiquement dans un "),n(15,"code"),e(16,"zac-notification-banner"),t(),e(17,". "),t()(),n(18,"section",11)(19,"div",12)(20,"button",13),h("click",function(){return d(a),f(o.onClearStandaloneNotification())}),e(21," Clear par appel d'une m\xE9thode sur le composant. "),t(),n(22,"button",13),h("click",function(){return d(a),f(o.onMethodCallNotificationBanner())}),e(23," Notifier par appel d'une m\xE9thode sur le composant. "),t()()()(),n(24,"h2",7),e(25,"Notification globale"),t(),n(26,"article",8)(27,"section",9),p(28,"zac-notification-banner",14,1),t(),n(30,"section",11)(31,"div",12)(32,"button",13),h("click",function(){return d(a),f(o.onFunctionCallGlobalClearNotificationBanner())}),e(33," Clear par appel d'une fonction utilitaire sur le composant. "),t(),n(34,"button",13),h("click",function(){return d(a),f(o.onFunctionCallGlobalNotificationBanner())}),e(35," Notifier par appel d'une fonction utilitaire sur le composant. "),t()()()()()(),n(36,"section",15)(37,"h2"),e(38,"Explications"),t(),n(39,"p"),e(40," Cette page illustre l'utilisation du composant NotificationBannerComponent qui permet de mettre en place un bandeau de notification (et pouvant dispara\xEEtre au bout d'un temps donn\xE9) , pr\xE9sent actuellement uniquement dans le cf "),n(41,"a",16),e(42," DS intranet "),t()(),n(43,"p"),e(44,"Il existe 2 mani\xE8res d'afficher une notification"),t(),n(45,"ul")(46,"li"),e(47,"Un NotificationBannerComponent avec un "),n(48,"code"),e(49,"input standalone=true"),t()(),e(50," affichera les notifications qui lui seront pass\xE9es via une m\xE9thode "),n(51,"code"),e(52,"notify"),t(),e(53," sur son instance, qu'il faut donc r\xE9cup\xE9rer via un "),n(54,"code"),e(55,"ViewChild"),t(),n(56,"li"),e(57,"Tout NotificationBannerComponent avec un "),n(58,"code"),e(59,"input standalone=false"),t()(),e(60," affichera les notifications qui lui seront pass\xE9es via la fonction utilitaire "),n(61,"code"),e(62,"zacNotifyBanner"),t(),e(63,", utilisable de n'importe o\xF9 (sans besoin de s'injecter un service ou un ViewChild). Attention si 2 instances de NotificationBannerComponent sont pr\xE9sente, les 2 afficherons la m\xEAme notification. "),t()()()()}i&2&&(m(12),u("level","info"))},dependencies:[A,Dt],encapsulation:2,changeDetection:0})};var jr=class l{nom;onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-configuration"]],features:[Ie([Ot(Ge,{required:"Ce champ est obligatoire !!!"})])],decls:125,vars:1,consts:[[1,"demo-title-section"],[1,"demo-section"],["routerLink","demo-api-interceptor"],["routerLink","/demo-error"],["routerLink","/a11y-page-transition"],["routerLink","/demo-theme-icon"],[1,"demo-section_reverse"],["src","components/DemoConfigurationComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Nom"],["name","nom","required","",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(n(0,"main")(1,"h1",0),e(2," Configuration des composants et services de la librairie "),t(),n(3,"section",1)(4,"h2"),e(5,"Intention"),t(),n(6,"p"),e(7," zac-ng-lib offre un syst\xE8me de configuration homog\xE8ne pour tous les composants et services au moyen de 2 API fournissant des providers angular (\xE0 ajouter au tableau de providers de l'AppModule ou, en mode standalone component, a un app.config.ts) "),t(),n(8,"ul")(9,"li")(10,"code"),e(11,"provideZac(withZacFeature...) "),t(),e(12," permet d'ajouter les fonctionnalit\xE9s/feature zac de haut niveau/application "),n(13,"b"),e(14,"et uniquement \xE0 ce niveau le plus haut"),t(),e(15," (par d\xE9finition) "),t(),n(16,"li")(17,"code"),e(18,"configureZac([xyz]Component,) "),t(),e(19," permet d'"),n(20,"b"),e(21,"overrider la configuration par d\xE9faut"),t(),e(22," de plusieurs composants angular de zac a diff\xE9rents niveaux d'injection, du plus haut (application), en passant par NgModule et jusqu'au niveau d'un de vos composant applicatif (niveau le plus bas). "),t()()(),n(23,"div",1)(24,"h2"),e(25,"Ajout de fonctionnalit\xE9 zac de niveau application"),t(),n(26,"p"),e(27," Les fonctionnalit\xE9s zac de niveau application-wide sont ajout\xE9e par appel "),n(28,"code"),e(29,"provideZac(withZacFeature...)"),t(),e(30," au niveau racine de l'application, par exemple dans le fichier "),n(31,"code"),e(32,"app.config.ts"),t(),e(33," : "),t(),n(34,"code")(35,"pre"),e(36,`
  export const appConfig: ApplicationConfig = {
      providers: [
          provideZac(
             withZacFeatureApiInterceptorIMsa(),
             withZacFeatureTechnicalError(),
             withZacFeatureAccessibility()
          );
          ...

`),t()(),n(37,"p"),e(38,"Les fonctionnalit\xE9s zac sont :"),t(),n(39,"ul")(40,"li")(41,"code"),e(42,"withZacFeatureApiInterceptorIMsa()"),t(),n(43,"a",2),e(44,"intercepteur HttpClient pour l'ajout du fragment d'url n\xE9cessaire au routage vers le backend"),t()(),n(45,"li")(46,"code"),e(47,"withZacFeatureTechnicalError()"),t(),e(48," fonctionnalit\xE9 de "),n(49,"a",3),e(50,"gestion des erreurs techniques http"),t()(),n(51,"li")(52,"code"),e(53,"withZacFeatureAccessibility()"),t(),e(54," fonctionnalit\xE9 rendant accessible les changements de page logique (voir "),n(55,"a",4),e(56,"accessibilit\xE9 des changements de page"),t(),e(57,") "),t(),n(58,"li")(59,"code"),e(60,"withZacFeatureThemeExtranet|Intranet()"),t(),e(61," fonctionnalit\xE9 configurant, pour les composants angular, "),n(62,"a",5),e(63," le theme extranet ou intranet"),t()()()(),n(64,"div",6)(65,"section",1)(66,"h2"),e(67,"D\xE9mo"),t(),n(68,"app-source",7)(69,"article")(70,"h3"),e(71,"Exemple de d'override d'un message d'erreur"),t(),n(72,"form",8),h("ngSubmit",function(){return o.onSubmit()}),n(73,"zac-form-field",9)(74,"input",10),v("ngModelChange",function(s){return b(o.nom,s)||(o.nom=s),s}),t()(),p(75,"zac-control-bar"),t()()()(),n(76,"section",1)(77,"h2"),e(78,"Configuration overridable par configureZac"),t(),n(79,"p"),e(80," zac-ng-lib offre un syst\xE8me d'override de la configuration par d\xE9faut homog\xE8ne, pour tous les composants et services, et qui permet donc de surcharger/overrider la configuration par d\xE9faut (laquelle peut d\xE9pendre du th\xE8me/Design System positionn\xE9 via l'import de "),n(81,"code"),e(82,"ThemeModule.forIntranet()|forExtranet()"),t(),e(83,") a plusieurs niveaux d'injection/granularit\xE9. "),t(),n(84,"p"),e(85," La surcharge se fait via la fonction "),n(86,"code"),e(87,"configureZac(component: ConfigurableZacComponent, config: ConfigurationZac)"),t(),e(88," qui doit \xEAtre utilis\xE9e au sein d'un array de "),n(89,"code"),e(90,"Providers"),t(),e(91," angular que ce soit a un niveau racine de l'application ou m\xEAme au niveau d'un Component sp\xE9cifique de votre application. "),t(),n(92,"p"),e(93," A ce jour tous les composants et services n'utilisent pas encore ce syst\xE8me. Seuls les composants impl\xE9mentant l'interface de marquage "),n(94,"code"),e(95,"ConfigurableZacComponent"),t(),e(96," le peuvent, il s'agit de : "),t(),n(97,"ul")(98,"li")(99,"code"),e(100,"ErrorComponent"),t(),e(101," pour configurer les messages d'erreur "),t(),n(102,"li")(103,"code"),e(104,"ErrorsDirective"),t(),e(105," pour la cin\xE9matique d'affichage des erreurs en particulier quand afficher une erreur (on peut donc overrider le comportement par d\xE9faut qui veut que les messages ne soient visibles qu'a partir du moment ou on a soumis le formulaire) "),t(),n(106,"li")(107,"code"),e(108,"ControlBarComponent"),t(),e(109," pour configurer les boutons de validation et d'abandon "),t(),n(110,"li")(111,"code"),e(112,"EngagementHonneurComponent"),t(),e(113," pour configurer l'url o\xF9 aller en cas de refus "),t()(),p(114,"br"),n(115,"p"),e(116," L'objet de configuration doit \xEAtre de la sous-classe de "),n(117,"code"),e(118,"ConfigurationZac"),t(),e(119," accept\xE9e par le composant (\xE9tant typ\xE9 votre EDI vous proposera uniquement les valeurs possibles pour ce type) et fonctionne comme une surcharge c.a.d. que vous ne passez que les propri\xE9t\xE9s a red\xE9finir, les autres conserveront leur valeurs par d\xE9faut. "),t(),n(120,"p"),e(121,` Ainsi l'exemple ci-dessous (et visible dans l'onglet source) permet d'overrider uniquement le message de validation correspondant a la contrainte de validation "required", pour ce composant et tous ses enfants : `),t(),n(122,"code")(123,"pre"),e(124,`          @Component ({
            selector : 'app-demo-configuration',
            ...
            imports: [
              ErrorComponent,
              ...
              ],
            providers: [
              /**
              * Overriding de niveau Component de la conf par d\xE9faut zac.
              */
              configureZac(ErrorComponent, {
              required: 'Ce champ est obligatoire !!!'
          })]
      `),t()()()()()),i&2&&(m(74),S("ngModel",o.nom))},dependencies:[P,R,q,w,z,H,V,O,A,ce,L,k,he],encapsulation:2})};var Wr=class l{constructor(r){this.cdr=r;Ml(()=>{let i=this.counter();console.log("\u{1F300} Effect triggered - counter is now:",i)})}counter=Se(0);increment(){console.log("\u{1F9E8} increment() called"),this.counter.set(this.counter()+1),console.log("\u2705 signal.set done")}ngDoCheck(){console.log("\u{1F50D} ngDoCheck - Angular is checking the component")}static \u0275fac=function(i){return new(i||l)(y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-signal-trace"]],decls:4,vars:1,consts:[[3,"click"]],template:function(i,o){i&1&&(n(0,"h2"),e(1),t(),n(2,"button",0),h("click",function(){return o.increment()}),e(3,"Increment"),t()),i&2&&(m(),D("Counter: ",o.counter(),""))},encapsulation:2,changeDetection:0})};var Hr=class l{static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-a11y-page-transition"]],hostAttrs:[1,"app-a11y-page-transition"],decls:104,vars:0,consts:[[1,"demo-title-section"],[1,"demo-section"],["id","explication",1,"demo-section"],["id","mise-en-place",1,"demo-section"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,` Accessibilit\xE9 des changements de page logique
`),t(),n(2,"section",1)(3,"h2"),e(4,"Explications"),t(),n(5,"section",2)(6,"p"),e(7," Il est n\xE9cessaire de rendre accessible les changements de page logique, et pour cela, \xE0 chacun de ces changements : "),t(),n(8,"ol")(9,"li"),e(10," L'\xE9l\xE9ment html title de la Single Page Html doit changer dynamiquement pour refl\xE9ter le titre de chaque page logique "),t(),n(11,"li"),e(12," Par d\xE9faut, le focus doit \xEAtre repositionn\xE9 sur l'\xE9l\xE9ment body de la Single Page html "),t(),n(13,"li"),e(14," Par d\xE9faut le premier \xE9l\xE9ment de ce body doit \xEAtre un lien d'\xE9vitement vers le contenu principal (\xE9l\xE9ment main ou de classe .main-container), invisible tant qu'il n'a pas le focus. En tabulant depuis l'\xE9l\xE9ment body qui a le focus, il doit donc appara\xEEtre. "),t()(),p(15,"br"),n(16,"p")(17,"b"),e(18,"A noter : "),t(),e(19," ce comportement est "),n(20,"b")(21,"i"),e(22,"visible sur cette page"),t()()()()(),n(23,"section",3)(24,"h2"),e(25,"Mise en place"),t(),n(26,"section",1)(27,"p"),e(28," Pour mettre en place tout cela il suffit, au niveau des providers de l'application (dans l'app.config.ts d'une application standalone par exemple) il suffit de mettre : "),t(),n(29,"code")(30,"pre"),e(31,`    export const appConfig: ApplicationConfig = {
      providers: [
       provideZac(
           withZacFeatureAccessibility({ globalMain : false, otherLinks: [{libelle: 'menu',id: 'nav'}] }),
           ...)
    ),
    `),t()(),n(32,"p"),e(33,' Enfin les "title" de chaque page logique doivent \xEAtre configur\xE9s de la fa\xE7on standard en angular, dans la propri\xE9t\xE9 '),n(34,"code"),e(35,"title"),t(),e(36," de chaque route, par exemple "),t(),n(37,"code")(38,"pre"),e(39,`    {
      path: 'page1',
      component: Page1Component,
      title: 'Page 1'
    }
    `),t()()(),n(40,"section",1)(41,"h2"),e(42,"Explications"),t(),n(43,"section",1)(44,"ul")(45,"li")(46,"code"),e(47,"withZacFeatureAccessibility()"),t(),e(48," : met en place tous les points 1., 2. et 3. "),p(49,"br"),e(50,"A noter qu'il est possible de passer l'ensemble des propri\xE9t\xE9s de configuration de "),n(51,"code"),e(52,"withZacFeatureAccessiblePageTransition"),t(),e(53," et de "),n(54,"code"),e(55,"withZacFeatureSkipLink"),t(),e(56," (cf ci-dessous). "),t(),n(57,"li")(58,"code"),e(59,"withZacFeatureAccessibleTitle()"),t(),e(60," : met en place juste le point 1. "),t(),n(61,"li")(62,"code"),e(63,"withZacFeatureAccessiblePageTransition()"),t(),e(64," : met en place les points 1. et 2. "),p(65,"br"),e(66,"A noter qu'il est possible de passer une propri\xE9t\xE9 de configuration "),n(67,"code"),e(68,"focusTargetSelector: string"),t(),e(69," contenant un s\xE9lecteur css permettant de repositionner le focus sur l'\xE9l\xE9ment cible de ce s\xE9lecteur. "),t(),n(70,"li")(71,"code"),e(72,"withZacFeatureSkipLink()"),t(),e(73," : met en place le point 3. "),p(74,"br"),e(75,"- Le param\xE8tre facultatif "),n(76,"code"),e(77,"globalMain: boolean"),t(),e(78,", true par d\xE9faut, doit \xEAtre mis a false uniquement si l'\xE9l\xE9ment html main est d\xE9fini dans le html de chaque page logique (et non pas une seule fois au niveau de l'AppComponent.html par exemple)"),p(79,"br"),e(80,"- le param\xE8tre facultatif "),n(81,"code"),e(82,"otherLinks"),t(),e(83," permet d'ajouter des liens d'\xE9vitement en plus de celui vers le contenu principal, dans un format "),n(84,"code"),e(85,"[{libelle: 'Libelle', 'id: 'elementId'},...]"),t(),e(86," ou "),n(87,"code"),e(88,"[[libelle, id cible]...]"),t(),p(89,"br"),e(90,"- le param\xE8tre facultatif "),n(91,"code"),e(92,"otherLinksByPath"),t(),e(93," permet d'ajouter des liens d'\xE9vitement "),n(94,"b"),e(95,"par url de page"),t(),e(96," en plus de celui vers le contenu principal, dans un format "),n(97,"code"),e(98,"{ page1: "),t(),n(99,"code"),e(100,"[{libelle: 'Libelle', 'id: 'elementId'},...]"),t(),e(101," ou "),n(102,"code"),e(103,"[[libelle, id cible]...]"),t()()()()()())},styles:[`.app-a11y-page-transition li+li{margin-top:1rem}
`],encapsulation:2,changeDetection:0})};var Ur=class l{dialogService=B(Cm);personne=new ie;openModal(){this.dialogService.open(wt,this.personne,{title:"Titre de la modale",width:"500px"}).subscribe(r=>{this.personne=r})}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-dialog"]],decls:12,vars:1,consts:[[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoDialogComponent.html#template"],["label","Ouvrir la modale","iconPosition","none",3,"action","name"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,"D\xE9mo des Dialog"),t(),n(2,"div",1)(3,"section",2)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",3)(7,"zac-button",4),h("action",function(){return o.openModal()}),t()()(),n(8,"section",2)(9,"h2"),e(10,"Explications"),t(),e(11," bla bla bla... to do "),t()()),i&2&&(m(7),u("name","Primary"))},dependencies:[A,P,Oe],encapsulation:2,changeDetection:0})};var Hm=()=>({updateOn:"blur"}),Um=()=>["F","Femme"],Zm=()=>["H","Homme"],Qm=(l,r)=>[l,r],Zr=class l{prenom;sexe;onSubmit(){}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-required-or-optional"]],decls:104,vars:20,consts:[["ngForm","ngForm"],["readOnly","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoFormFieldComponent.html#template"],["zacCard","","actionnable","false"],["zacErrors","","zacRequiredFields","",3,"ngSubmit","ngFormOptions"],["label","Pr\xE9nom","hint","Vos pr\xE9noms s\xE9par\xE9s pas une virgule"],["name","prenom","required","",3,"ngModelChange","ngModel"],["label","Sexe"],["name","sexe",3,"ngModelChange","ngModel","choiceList"],["type","submit",1,"button","--button_primary"],["internalMode","optional"],["zacErrors","","zacOptionalFields","",3,"ngSubmit","ngFormOptions"],["label","readonly : true | false",1,"parametre"],["id","readonly","name","readonly","ngModel","false"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",2),e(1,"D\xE9mo du composant FormField"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5)(7,"h2"),e(8,"Exemple 1"),t(),n(9,"div",6)(10,"form",7,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),p(12,"zac-required-or-optional-sentence"),n(13,"zac-form-field",8)(14,"input",9),v("ngModelChange",function(c){return d(a),b(o.prenom,c)||(o.prenom=c),f(c)}),t()(),n(15,"zac-form-field",10)(16,"zac-single-choice",11),v("ngModelChange",function(c){return d(a),b(o.sexe,c)||(o.sexe=c),f(c)}),t()(),n(17,"button",12),e(18,"Valider"),t()()(),n(19,"h2"),e(20,"Exemple 2"),t(),n(21,"div",6),p(22,"zac-required-or-optional-sentence",13),n(23,"form",14,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(25,"zac-form-field",8)(26,"input",9),v("ngModelChange",function(c){return d(a),b(o.prenom,c)||(o.prenom=c),f(c)}),t()(),n(27,"zac-form-field",10)(28,"zac-single-choice",11),v("ngModelChange",function(c){return d(a),b(o.sexe,c)||(o.sexe=c),f(c)}),t()(),n(29,"button",12),e(30,"Valider"),t()()()()(),n(31,"section",4)(32,"h2"),e(33,"Explications"),t(),n(34,"p"),e(35," La forme et la gestion des champs de saisie au "),n(36,"b"),e(37,"sein d'un formulaire"),t(),e(38," (sur les erreurs en particulier) selon le Design System \xE9tant toujours la m\xEAme et n\xE9cessitant syst\xE9matiquement d'accompagner un \xE9l\xE9ment de form par un \xE9l\xE9ment conteneur, un \xE9l\xE9ment label et un \xE9l\xE9ment zac-error, "),t(),p(39,"br"),n(40,"pre"),e(41,`    <form zacErrors>
      .../...
      <div class="form_field_wrapper">
        <zac-label for="nom">Nom :</zac-label>
        <input id="nom" name="nom" [(ngModel)]="personne.nom" required>
        <zac-error id="error-nom" controlName="nom"></zac-error>
      </div>
      .../...
    </form>
  `),t(),n(42,"p"),e(43," ce "),n(44,"b"),e(45,"composant permet de g\xE9n\xE9rer tout cela, de fa\xE7on accessible"),t(),e(46,", pour l'\xE9l\xE9ment de form donn\xE9 comme fils, que celui-ci soit un \xE9l\xE9ment de form HTML natif ou un composant Angular respectant l'API ControlValueAccessor. "),t(),p(47,"br"),n(48,"pre"),e(49,`     <form zacErrors>
        .../...
        <zac-form-field label="Pr\xE9nom">
            <input name="prenom" [(ngModel)]="personne.prenom" required>
        </zac-form-field>
        .../...
     </form>
    `),t(),n(50,"p")(51,"b"),e(52,"Label riche"),t(),e(53,` : Si vous avez besoin d'ajouter un label riche, contenant du HTML, vous pouvez utiliser ("projeter" en terme angular) pour ce faire le composant `),n(54,"code"),e(55,"zac-label"),t(),e(56," tel que dans l'exemple avec les champs sexe et ville. "),t(),p(57,"br"),n(58,"p")(59,"b"),e(60,"Accessibilit\xE9"),t(),e(61," : Le lien accessible entre l'\xE9l\xE9ment de formulaire, son label et son message d'erreur est garanti par "),n(62,"code"),e(63,"zac-form-field"),t(),e(64," cependant il faudra faire attention \xE0 n'utiliser comme label que du texte pur ou si le zac-label est projet\xE9 que des balises de texte inline car ce contenu est inject\xE9 soit dans un "),n(65,"b"),e(66,"label"),t(),e(67," soit un "),n(68,"b"),e(69,"p"),t(),e(70,". "),t(),p(71,"br"),n(72,"p")(73,"b"),e(74,"Last but not least : "),t(),e(75,"Comme on le voit dans l'exemple ci-dessus, ce composant permet aussi d'omettre sans risque l'id de l'input (obligatoire pour l'accessibilit\xE9, pour que le label puisse r\xE9f\xE9rencer cet id) : dans ce cas s'il est omis le composant lui donnera la m\xEAme valeur que le name du contr\xF4le. "),t(),p(76,"br"),n(77,"h2"),e(78,"Param\xE8tres d'entr\xE9e errorPosition et hintPosition **indicatifs**"),t(),n(79,"p"),e(80," Les param\xE8tres permettent de faire varier le positionnement du message d'erreur (error-position) et du message d'aide (hint-position) sont indicatifs car uniquement structurels. "),t(),n(81,"p"),e(82," En effet le positionnement de ces textes est impos\xE9, sans exception, par les Design System et forc\xE9 par les css \xE0 partir de zac-charte-extranet@1.3 (a venir pour intranet) "),t(),p(83,"br"),n(84,"h2"),e(85,"Lecture seule :"),t(),n(86,"p"),e(87,"A noter par ailleurs que la propri\xE9t\xE9 `[readonly]='true|false'` permet de basculer le champ en readonly, pour ceux se trouvant dans un zac-form-field"),t(),n(88,"p")(89,"b"),e(90,"Attention :"),t(),e(91," Veuillez noter que le `[readonly]=true|false(d\xE9faut)` doit \xEAtre plac\xE9 sur le `zac-form-field` et "),n(92,"b"),e(93,"NON PAS"),t(),e(94," directement sur le composant de formulaire projet\xE9."),t(),n(95,"p"),e(96," Par ailleurs ce composant est, de plus, sensible \xE0 la directive `[zacReadonly]=true|false` plac\xE9e sur un composant "),n(97,"b"),e(98,"parent"),t(),e(99," qui permet la m\xEAme chose pour un groupe de champs."),t(),p(100,"br"),n(101,"zac-form-field",15),p(102,"zac-boolean-choice",16,1),t()()()}i&2&&(m(10),u("ngFormOptions",G(8,Hm)),m(4),S("ngModel",o.prenom),m(2),S("ngModel",o.sexe),u("choiceList",nt(11,Qm,G(9,Um),G(10,Zm))),m(7),u("ngFormOptions",G(14,Hm)),m(3),S("ngModel",o.prenom),m(2),S("ngModel",o.sexe),u("choiceList",nt(17,Qm,G(15,Um),G(16,Zm))))},dependencies:[so,oe,k,L,P,R,q,w,z,H,V,O,Le,A,Bn,Vs,mo],encapsulation:2,changeDetection:0})};function Vd(l,r){if(l&1&&(n(0,"p"),e(1),t()),l&2){let i=g(2);m(),Xe(" Num\xE9ro complet : +",i.telephone.indicatif," ",i.telephone.numero," ")}}function Od(l,r){if(l&1&&(n(0,"div",10)(1,"h3"),e(2,"Valeurs saisies :"),t(),n(3,"p"),e(4),t(),n(5,"p"),e(6),t(),_(7,Vd,2,2,"p",11),t()),l&2){let i=g();m(4),D("Indicatif : ",i.telephone.indicatif||"Non d\xE9fini",""),m(2),D("Num\xE9ro : ",i.telephone.numero||"Non d\xE9fini",""),m(),u("ngIf",i.telephone.indicatif&&i.telephone.numero)}}var Qr=class l{constructor(r,i){this.router=r;this.cdr=i}telephone;ngForm;onSubmit(){this.ngForm.valid&&(console.log("Num\xE9ro de t\xE9l\xE9phone soumis:",this.telephone),setTimeout(()=>{this.router.navigateByUrl("/demo-phone-number").then(()=>this.cdr.detectChanges())}))}static \u0275fac=function(i){return new(i||l)(y(U),y(Fe))};static \u0275cmp=E({type:l,selectors:[["app-demo-phone-number"]],viewQuery:function(i,o){if(i&1&&Y(O,5),i&2){let a;$(a=ee())&&(o.ngForm=a.first)}},decls:46,vars:4,consts:[["ngForm","ngForm"],["phoneNumberCtrl","ngModel"],[1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoPhoneNumberComponent.html#template"],["zacErrors","",3,"ngSubmit"],["label","Num\xE9ro de t\xE9l\xE9phone :"],["id","telephone","name","telephone","required","",3,"ngModelChange","ngModel"],["class","demo-result",4,"ngIf"],[1,"demo-result"],[4,"ngIf"]],template:function(i,o){if(i&1){let a=x();n(0,"h1",2),e(1,"D\xE9mo du composant Phone Number"),t(),n(2,"div",3)(3,"section",4)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",5)(7,"form",6,0),h("ngSubmit",function(){return d(a),f(o.onSubmit())}),n(9,"zac-form-field",7)(10,"zac-phone-number",8,1),v("ngModelChange",function(c){return d(a),b(o.telephone,c)||(o.telephone=c),f(c)}),t()(),_(12,Od,8,3,"div",9),n(13,"nav"),p(14,"zac-control-bar"),t()()()(),n(15,"section",4)(16,"h2"),e(17,"Explications"),t(),n(18,"p"),e(19," Ce composant permet de saisir un num\xE9ro de t\xE9l\xE9phone international avec s\xE9lection du pays. Il est compos\xE9 de deux parties : "),t(),n(20,"ul")(21,"li"),e(22,"Un s\xE9lecteur de code pays (pr\xE9fixe t\xE9l\xE9phonique)"),t(),n(23,"li"),e(24,"Un champ de saisie pour le num\xE9ro de t\xE9l\xE9phone"),t()(),n(25,"h3"),e(26,"Utilisation"),t(),n(27,"p"),e(28," Le composant s'utilise avec "),n(29,"code"),e(30,"ngModel"),t(),e(31," et retourne un objet avec deux propri\xE9t\xE9s : "),t(),n(32,"pre")(33,"code"),e(34),t()(),n(35,"h3"),e(36,"Validation"),t(),n(37,"p"),e(38," Le composant inclut une validation int\xE9gr\xE9e qui v\xE9rifie : "),t(),n(39,"ul")(40,"li"),e(41,"Que l'indicatif est renseign\xE9 si un num\xE9ro est saisi"),t(),n(42,"li"),e(43,"Que le num\xE9ro est valide pour le pays s\xE9lectionn\xE9"),t(),n(44,"li"),e(45,"Que le num\xE9ro est au format international valide"),t()()()()}i&2&&(m(10),S("ngModel",o.telephone),m(2),u("ngIf",o.telephone&&((o.telephone==null?null:o.telephone.indicatif)||(o.telephone==null?null:o.telephone.numero))),m(22),Xe("","{",`
  indicatif: string;  // Code du pays (ex: '33' pour la France)
  numero: string;     // Num\xE9ro de t\xE9l\xE9phone sans l'indicatif
`,"}",""))},dependencies:[N,W,P,R,w,z,H,V,O,L,co,ce,A,k],encapsulation:2,changeDetection:0})};function mc(l){let r=l.cloneNode(!0),i=r.querySelectorAll("[id]"),o=l.nodeName.toLowerCase();r.removeAttribute("id");for(let a=0;a<i.length;a++)i[a].removeAttribute("id");return o==="canvas"?Xm(l,r):(o==="input"||o==="select"||o==="textarea")&&Km(l,r),Jm("canvas",l,r,Xm),Jm("input, textarea, select",l,r,Km),r}function Jm(l,r,i,o){let a=r.querySelectorAll(l);if(a.length){let s=i.querySelectorAll(l);for(let c=0;c<a.length;c++)o(a[c],s[c])}}var Ld=0;function Km(l,r){r.type!=="file"&&(r.value=l.value),r.type==="radio"&&r.name&&(r.name=`mat-clone-${r.name}-${Ld++}`)}function Xm(l,r){let i=r.getContext("2d");if(i)try{i.drawImage(l,0,0)}catch{}}function Qa(l){let r=l.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function ja(l,r,i){let{top:o,bottom:a,left:s,right:c}=l;return i>=o&&i<=a&&r>=s&&r<=c}function Ii(l,r,i){l.top+=r,l.bottom=l.top+l.height,l.left+=i,l.right=l.left+l.width}function Ym(l,r,i,o){let{top:a,right:s,bottom:c,left:C,width:I,height:j}=l,re=I*r,ze=j*r;return o>a-ze&&o<c+ze&&i>C-re&&i<s+re}var Jr=class{_document;positions=new Map;constructor(r){this._document=r}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:Qa(i)})})}handleScroll(r){let i=Ei(r),o=this.positions.get(i);if(!o)return null;let a=o.scrollPosition,s,c;if(i===this._document){let j=this.getViewportScrollPosition();s=j.top,c=j.left}else s=i.scrollTop,c=i.scrollLeft;let C=a.top-s,I=a.left-c;return this.positions.forEach((j,re)=>{j.clientRect&&i!==re&&i.contains(re)&&Ii(j.clientRect,C,I)}),a.top=s,a.left=c,{top:C,left:I}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function cc(l,r){let i=l.rootNodes;if(i.length===1&&i[0].nodeType===r.ELEMENT_NODE)return i[0];let o=r.createElement("div");return i.forEach(a=>o.appendChild(a)),o}function Ja(l,r,i){for(let o in r)if(r.hasOwnProperty(o)){let a=r[o];a?l.setProperty(o,a,i?.has(o)?"important":""):l.removeProperty(o)}return l}function mi(l,r){let i=r?"":"none";Ja(l.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function $m(l,r,i){Ja(l.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},i)}function Kr(l,r){return r&&r!="none"?l+" "+r:l}function ec(l,r){l.style.width=`${r.width}px`,l.style.height=`${r.height}px`,l.style.transform=Xr(r.left,r.top)}function Xr(l,r){return`translate3d(${Math.round(l)}px, ${Math.round(r)}px, 0)`}function tc(l){let r=l.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(l)*r}function Bd(l){let r=getComputedStyle(l),i=ka(r,"transition-property"),o=i.find(C=>C==="transform"||C==="all");if(!o)return 0;let a=i.indexOf(o),s=ka(r,"transition-duration"),c=ka(r,"transition-delay");return tc(s[a])+tc(c[a])}function ka(l,r){return l.getPropertyValue(r).split(",").map(o=>o.trim())}var kd=new Set(["position"]),Wa=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(r,i,o,a,s,c,C,I,j,re){this._document=r,this._rootElement=i,this._direction=o,this._initialDomRect=a,this._previewTemplate=s,this._previewClass=c,this._pickupPositionOnPage=C,this._initialTransform=I,this._zIndex=j,this._renderer=re}attach(r){this._preview=this._createPreview(),r.appendChild(this._preview),nc(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(r){this._preview.style.transform=r}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(r){this._preview.classList.add(r)}getTransitionDuration(){return Bd(this._preview)}addEventListener(r,i){return this._renderer.listen(this._preview,r,i)}_createPreview(){let r=this._previewTemplate,i=this._previewClass,o=r?r.template:null,a;if(o&&r){let s=r.matchSize?this._initialDomRect:null,c=r.viewContainer.createEmbeddedView(o,r.context);c.detectChanges(),a=cc(c,this._document),this._previewEmbeddedView=c,r.matchSize?ec(a,s):a.style.transform=Xr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else a=mc(this._rootElement),ec(a,this._initialDomRect),this._initialTransform&&(a.style.transform=this._initialTransform);return Ja(a.style,{"pointer-events":"none",margin:nc(a)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},kd),mi(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("popover","manual"),a.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(s=>a.classList.add(s)):a.classList.add(i)),a}};function nc(l){return"showPopover"in l}var Gd={passive:!0},ic={passive:!1},jd={passive:!1,capture:!0},Wd=800,oc=new Set(["position"]),Ha=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Se(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new de;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=mn.EMPTY;_pointerUpSubscription=mn.EMPTY;_scrollSubscription=mn.EMPTY;_resizeSubscription=mn.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(r){r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(i=>mi(i,r)))}_disabled=!1;beforeStarted=new de;started=new de;released=new de;ended=new de;entered=new de;exited=new de;dropped=new de;moved=this._moveEvents;data;constrainPosition;constructor(r,i,o,a,s,c,C){this._config=i,this._document=o,this._ngZone=a,this._viewportRuler=s,this._dragDropRegistry=c,this._renderer=C,this.withRootElement(r).withParent(i.parentDragRef||null),this._parentPositions=new Jr(o),c.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(o=>Rt(o)),this._handles.forEach(o=>mi(o,this.disabled)),this._toggleNativeDragInteractions();let i=new Set;return this._disabledHandles.forEach(o=>{this._handles.indexOf(o)>-1&&i.add(o)}),this._disabledHandles=i,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){let i=Rt(r);return i!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[qt(this._renderer,i,"mousedown",this._pointerDown,ic),qt(this._renderer,i,"touchstart",this._pointerDown,Gd),qt(this._renderer,i,"dragstart",this._nativeDragStart,ic)]),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?Rt(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),mi(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),mi(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){let r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){let r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=r=>{if(this.beforeStarted.next(),this._handles.length){let i=this._getTargetHandle(r);i&&!this._disabledHandles.has(i)&&!this.disabled&&this._initializeDragSequence(i,r)}else this.disabled||this._initializeDragSequence(this._rootElement,r)};_pointerMove=r=>{let i=this._getPointerPositionOnPage(r);if(!this._hasStartedDragging()){let a=Math.abs(i.x-this._pickupPositionOnPage.x),s=Math.abs(i.y-this._pickupPositionOnPage.y);if(a+s>=this._config.dragStartThreshold){let C=Date.now()>=this._dragStartTime+this._getDragStartDelay(r),I=this._dropContainer;if(!C){this._endDragSequence(r);return}(!I||!I.isDragging()&&!I.isReceiving())&&(r.cancelable&&r.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(r)))}return}r.cancelable&&r.preventDefault();let o=this._getConstrainedPointerPosition(i);if(this._hasMoved=!0,this._lastKnownPointerPosition=i,this._updatePointerDirectionDelta(o),this._dropContainer)this._updateActiveDropContainer(o,i);else{let a=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=o.x-a.x+this._passiveTransform.x,s.y=o.y-a.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:o,event:r,distance:this._getDragDistance(o),delta:this._pointerDirectionDelta})})};_pointerUp=r=>{this._endDragSequence(r)};_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let i=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){wi(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let i=this._getShadowRoot(),o=this._dropContainer;if(i&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=qt(this._renderer,i,"selectstart",Hd,jd)}),o){let a=this._rootElement,s=a.parentNode,c=this._placeholder=this._createPlaceholderElement(),C=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(C,a),this._initialTransform=a.style.transform||"",this._preview=new Wa(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,i)),$m(a,!1,oc),this._document.body.appendChild(s.replaceChild(c,a)),this.started.next({source:this,event:r}),o.start(),this._initialContainer=o,this._initialIndex=o.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(o?o.getScrollableParents():[])}_initializeDragSequence(r,i){this._parentDragRef&&i.stopPropagation();let o=this.isDragging(),a=wi(i),s=!a&&i.button!==0,c=this._rootElement,C=Ei(i),I=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+Wd>Date.now(),j=a?Yl(i):Xl(i);if(C&&C.draggable&&i.type==="mousedown"&&i.preventDefault(),o||s||I||j)return;if(this._handles.length){let Ke=c.style;this._rootElementTapHighlight=Ke.webkitTapHighlightColor||"",Ke.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ke=>this._updateOnScroll(Ke)),this._boundaryElement&&(this._boundaryRect=Qa(this._boundaryElement));let re=this._previewTemplate;this._pickupPositionInElement=re&&re.template&&!re.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,r,i);let ze=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ze.x,y:ze.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(r){$m(this._rootElement,!0,oc),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let i=this._dropContainer,o=i.getItemIndex(this),a=this._getPointerPositionOnPage(r),s=this._getDragDistance(a),c=i._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:s,dropPoint:a,event:r}),this.dropped.next({item:this,currentIndex:o,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:s,dropPoint:a,event:r}),i.drop(this,o,this._initialIndex,this._initialContainer,c,s,a,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:i},{x:o,y:a}){let s=this._initialContainer._getSiblingContainerFromPosition(this,r,i);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,i)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,r,i,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,a),this._dropContainer._sortItem(this,r,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,i):this._applyPreviewTransform(r-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let r=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);let i=this._preview.getTransitionDuration();return i===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(o=>{let a=C=>{(!C||this._preview&&Ei(C)===this._preview.element&&C.propertyName==="transform")&&(c(),o(),clearTimeout(s))},s=setTimeout(a,i*1.5),c=this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){let r=this._placeholderTemplate,i=r?r.template:null,o;return i?(this._placeholderRef=r.viewContainer.createEmbeddedView(i,r.context),this._placeholderRef.detectChanges(),o=cc(this._placeholderRef,this._document)):o=mc(this._rootElement),o.style.pointerEvents="none",o.classList.add("cdk-drag-placeholder"),o}_getPointerPositionInElement(r,i,o){let a=i===this._rootElement?null:i,s=a?a.getBoundingClientRect():r,c=wi(o)?o.targetTouches[0]:o,C=this._getViewportScrollPosition(),I=c.pageX-s.left-C.left,j=c.pageY-s.top-C.top;return{x:s.left-r.left+I,y:s.top-r.top+j}}_getPointerPositionOnPage(r){let i=this._getViewportScrollPosition(),o=wi(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,a=o.pageX-i.left,s=o.pageY-i.top;if(this._ownerSVGElement){let c=this._ownerSVGElement.getScreenCTM();if(c){let C=this._ownerSVGElement.createSVGPoint();return C.x=a,C.y=s,C.matrixTransform(c.inverse())}}return{x:a,y:s}}_getConstrainedPointerPosition(r){let i=this._dropContainer?this._dropContainer.lockAxis:null,{x:o,y:a}=this.constrainPosition?this.constrainPosition(r,this,this._initialDomRect,this._pickupPositionInElement):r;if(this.lockAxis==="x"||i==="x"?a=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||i==="y")&&(o=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:c}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,C=this._boundaryRect,{width:I,height:j}=this._getPreviewRect(),re=C.top+c,ze=C.bottom-(j-c),Ke=C.left+s,la=C.right-(I-s);o=rc(o,Ke,la),a=rc(a,re,ze)}return{x:o,y:a}}_updatePointerDirectionDelta(r){let{x:i,y:o}=r,a=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,c=Math.abs(i-s.x),C=Math.abs(o-s.y);return c>this._config.pointerDirectionChangeThreshold&&(a.x=i>s.x?1:-1,s.x=i),C>this._config.pointerDirectionChangeThreshold&&(a.y=o>s.y?1:-1,s.y=o),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,mi(this._rootElement,r))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(r=>r()),this._rootElementCleanups=void 0}_applyRootElementTransform(r,i){let o=1/this.scale,a=Xr(r*o,i*o),s=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=s.transform&&s.transform!="none"?s.transform:""),s.transform=Kr(a,this._initialTransform)}_applyPreviewTransform(r,i){let o=this._previewTemplate?.template?void 0:this._initialTransform,a=Xr(r,i);this._preview.setTransform(Kr(a,o))}_getDragDistance(r){let i=this._pickupPositionOnPage;return i?{x:r.x-i.x,y:r.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:i}=this._passiveTransform;if(r===0&&i===0||this.isDragging()||!this._boundaryElement)return;let o=this._rootElement.getBoundingClientRect(),a=this._boundaryElement.getBoundingClientRect();if(a.width===0&&a.height===0||o.width===0&&o.height===0)return;let s=a.left-o.left,c=o.right-a.right,C=a.top-o.top,I=o.bottom-a.bottom;a.width>o.width?(s>0&&(r+=s),c>0&&(r-=c)):r=0,a.height>o.height?(C>0&&(i+=C),I>0&&(i-=I)):i=0,(r!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:r})}_getDragStartDelay(r){let i=this.dragStartDelay;return typeof i=="number"?i:wi(r)?i.touch:i?i.mouse:0}_updateOnScroll(r){let i=this._parentPositions.handleScroll(r);if(i){let o=Ei(r);this._boundaryRect&&o!==this._boundaryElement&&o.contains(this._boundaryElement)&&Ii(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Wi(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,i){let o=this._previewContainer||"global";if(o==="parent")return r;if(o==="global"){let a=this._document;return i||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return Rt(o)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=r=>{if(this._handles.length){let i=this._getTargetHandle(r);i&&!this._disabledHandles.has(i)&&!this.disabled&&r.preventDefault()}else this.disabled||r.preventDefault()};_getTargetHandle(r){return this._handles.find(i=>r.target&&(r.target===i||i.contains(r.target)))}};function rc(l,r,i){return Math.max(r,Math.min(i,l))}function wi(l){return l.type[0]==="t"}function Hd(l){l.preventDefault()}function Xt(l,r,i){let o=ac(r,l.length-1),a=ac(i,l.length-1);if(o===a)return;let s=l[o],c=a<o?-1:1;for(let C=o;C!==a;C+=c)l[C]=l[C+c];l[a]=s}function ac(l,r){return Math.max(0,Math.min(r,l))}var Yr=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(r){this._dragDropRegistry=r}_previousSwap={drag:null,delta:0,overlaps:!1};start(r){this.withItems(r)}sort(r,i,o,a){let s=this._itemPositions,c=this._getItemIndexFromPointerPosition(r,i,o,a);if(c===-1&&s.length>0)return null;let C=this.orientation==="horizontal",I=s.findIndex(lt=>lt.drag===r),j=s[c],re=s[I].clientRect,ze=j.clientRect,Ke=I>c?1:-1,la=this._getItemOffsetPx(re,ze,Ke),zc=this._getSiblingOffsetPx(I,s,Ke),Ac=s.slice();return Xt(s,I,c),s.forEach((lt,Fc)=>{if(Ac[Fc]===lt)return;let tl=lt.drag===r,sa=tl?la:zc,nl=tl?r.getPlaceholderElement():lt.drag.getRootElement();lt.offset+=sa;let il=Math.round(lt.offset*(1/lt.drag.scale));C?(nl.style.transform=Kr(`translate3d(${il}px, 0, 0)`,lt.initialTransform),Ii(lt.clientRect,0,sa)):(nl.style.transform=Kr(`translate3d(0, ${il}px, 0)`,lt.initialTransform),Ii(lt.clientRect,sa,0))}),this._previousSwap.overlaps=ja(ze,i,o),this._previousSwap.drag=j.drag,this._previousSwap.delta=C?a.x:a.y,{previousIndex:I,currentIndex:c}}enter(r,i,o,a){let s=a==null||a<0?this._getItemIndexFromPointerPosition(r,i,o):a,c=this._activeDraggables,C=c.indexOf(r),I=r.getPlaceholderElement(),j=c[s];if(j===r&&(j=c[s+1]),!j&&(s==null||s===-1||s<c.length-1)&&this._shouldEnterAsFirstChild(i,o)&&(j=c[0]),C>-1&&c.splice(C,1),j&&!this._dragDropRegistry.isDragging(j)){let re=j.getRootElement();re.parentElement.insertBefore(I,re),c.splice(s,0,r)}else this._element.appendChild(I),c.push(r);I.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables?.forEach(r=>{let i=r.getRootElement();if(i){let o=this._itemPositions.find(a=>a.drag===r)?.initialTransform;i.style.transform=o||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(o=>o.drag===r)}updateOnScroll(r,i){this._itemPositions.forEach(({clientRect:o})=>{Ii(o,r,i)}),this._itemPositions.forEach(({drag:o})=>{this._dragDropRegistry.isDragging(o)&&o._sortFromLastPointerPosition()})}withElementContainer(r){this._element=r}_cacheItemPositions(){let r=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(i=>{let o=i.getVisibleElement();return{drag:i,offset:0,initialTransform:o.style.transform||"",clientRect:Qa(o)}}).sort((i,o)=>r?i.clientRect.left-o.clientRect.left:i.clientRect.top-o.clientRect.top)}_getItemOffsetPx(r,i,o){let a=this.orientation==="horizontal",s=a?i.left-r.left:i.top-r.top;return o===-1&&(s+=a?i.width-r.width:i.height-r.height),s}_getSiblingOffsetPx(r,i,o){let a=this.orientation==="horizontal",s=i[r].clientRect,c=i[r+o*-1],C=s[a?"width":"height"]*o;if(c){let I=a?"left":"top",j=a?"right":"bottom";o===-1?C-=c.clientRect[I]-s[j]:C+=s[I]-c.clientRect[j]}return C}_shouldEnterAsFirstChild(r,i){if(!this._activeDraggables.length)return!1;let o=this._itemPositions,a=this.orientation==="horizontal";if(o[0].drag!==this._activeDraggables[0]){let c=o[o.length-1].clientRect;return a?r>=c.right:i>=c.bottom}else{let c=o[0].clientRect;return a?r<=c.left:i<=c.top}}_getItemIndexFromPointerPosition(r,i,o,a){let s=this.orientation==="horizontal",c=this._itemPositions.findIndex(({drag:C,clientRect:I})=>{if(C===r)return!1;if(a){let j=s?a.x:a.y;if(C===this._previousSwap.drag&&this._previousSwap.overlaps&&j===this._previousSwap.delta)return!1}return s?i>=Math.floor(I.left)&&i<Math.floor(I.right):o>=Math.floor(I.top)&&o<Math.floor(I.bottom)});return c===-1||!this._sortPredicate(c,r)?-1:c}},Ua=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(r,i){this._document=r,this._dragDropRegistry=i}start(r){let i=this._element.childNodes;this._relatedNodes=[];for(let o=0;o<i.length;o++){let a=i[o];this._relatedNodes.push([a,a.nextSibling])}this.withItems(r)}sort(r,i,o,a){let s=this._getItemIndexFromPointerPosition(r,i,o),c=this._previousSwap;if(s===-1||this._activeItems[s]===r)return null;let C=this._activeItems[s];if(c.drag===C&&c.overlaps&&c.deltaX===a.x&&c.deltaY===a.y)return null;let I=this.getItemIndex(r),j=r.getPlaceholderElement(),re=C.getRootElement();s>I?re.after(j):re.before(j),Xt(this._activeItems,I,s);let ze=this._getRootNode().elementFromPoint(i,o);return c.deltaX=a.x,c.deltaY=a.y,c.drag=C,c.overlaps=re===ze||re.contains(ze),{previousIndex:I,currentIndex:s}}enter(r,i,o,a){let s=a==null||a<0?this._getItemIndexFromPointerPosition(r,i,o):a;s===-1&&(s=this._getClosestItemIndexToPointer(r,i,o));let c=this._activeItems[s],C=this._activeItems.indexOf(r);C>-1&&this._activeItems.splice(C,1),c&&!this._dragDropRegistry.isDragging(c)?(this._activeItems.splice(s,0,r),c.getRootElement().before(r.getPlaceholderElement())):(this._activeItems.push(r),this._element.appendChild(r.getPlaceholderElement()))}withItems(r){this._activeItems=r.slice()}withSortPredicate(r){this._sortPredicate=r}reset(){let r=this._element,i=this._previousSwap;for(let o=this._relatedNodes.length-1;o>-1;o--){let[a,s]=this._relatedNodes[o];a.parentNode===r&&a.nextSibling!==s&&(s===null?r.appendChild(a):s.parentNode===r&&r.insertBefore(a,s))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(r){return this._activeItems.indexOf(r)}updateOnScroll(){this._activeItems.forEach(r=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(r){r!==this._element&&(this._element=r,this._rootNode=void 0)}_getItemIndexFromPointerPosition(r,i,o){let a=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(o)),s=a?this._activeItems.findIndex(c=>{let C=c.getRootElement();return a===C||C.contains(a)}):-1;return s===-1||!this._sortPredicate(s,r)?-1:s}_getRootNode(){return this._rootNode||(this._rootNode=Wi(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(r,i,o){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let a=1/0,s=-1;for(let c=0;c<this._activeItems.length;c++){let C=this._activeItems[c];if(C!==r){let{x:I,y:j}=C.getRootElement().getBoundingClientRect(),re=Math.hypot(i-I,o-j);re<a&&(a=re,s=c)}}return s}},lc=.05,uc=.05,pt=function(l){return l[l.NONE=0]="NONE",l[l.UP=1]="UP",l[l.DOWN=2]="DOWN",l}(pt||{}),Je=function(l){return l[l.NONE=0]="NONE",l[l.LEFT=1]="LEFT",l[l.RIGHT=2]="RIGHT",l}(Je||{}),Za=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new de;entered=new de;exited=new de;dropped=new de;sorted=new de;receivingStarted=new de;receivingStopped=new de;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=mn.EMPTY;_verticalScrollDirection=pt.NONE;_horizontalScrollDirection=Je.NONE;_scrollNode;_stopScrollTimers=new de;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(r,i,o,a,s){this._dragDropRegistry=i,this._ngZone=a,this._viewportRuler=s;let c=this.element=Rt(r);this._document=o,this.withOrientation("vertical").withElementContainer(c),i.registerDropContainer(this),this._parentPositions=new Jr(o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,i,o,a){this._draggingStarted(),a==null&&this.sortingDisabled&&(a=this._draggables.indexOf(r)),this._sortStrategy.enter(r,i,o,a),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,i,o,a,s,c,C,I={}){this._reset(),this.dropped.next({item:r,currentIndex:i,previousIndex:o,container:this,previousContainer:a,isPointerOverContainer:s,distance:c,dropPoint:C,event:I})}withItems(r){let i=this._draggables;return this._draggables=r,r.forEach(o=>o._withDropContainer(this)),this.isDragging()&&(i.filter(a=>a.isDragging()).every(a=>r.indexOf(a)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._direction=r,this._sortStrategy instanceof Yr&&(this._sortStrategy.direction=r),this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){if(r==="mixed")this._sortStrategy=new Ua(this._document,this._dragDropRegistry);else{let i=new Yr(this._dragDropRegistry);i.direction=this._direction,i.orientation=r,this._sortStrategy=i}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((i,o)=>this.sortPredicate(i,o,this)),this}withScrollableParents(r){let i=this._container;return this._scrollableElements=r.indexOf(i)===-1?[i,...r]:r.slice(),this}withElementContainer(r){if(r===this._container)return this;let i=Rt(this.element),o=this._scrollableElements.indexOf(this._container),a=this._scrollableElements.indexOf(r);return o>-1&&this._scrollableElements.splice(o,1),a>-1&&this._scrollableElements.splice(a,1),this._sortStrategy&&this._sortStrategy.withElementContainer(r),this._cachedShadowRoot=null,this._scrollableElements.unshift(r),this._container=r,this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,i,o,a){if(this.sortingDisabled||!this._domRect||!Ym(this._domRect,lc,i,o))return;let s=this._sortStrategy.sort(r,i,o,a);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,i){if(this.autoScrollDisabled)return;let o,a=pt.NONE,s=Je.NONE;if(this._parentPositions.positions.forEach((c,C)=>{C===this._document||!c.clientRect||o||Ym(c.clientRect,lc,r,i)&&([a,s]=Ud(C,c.clientRect,this._direction,r,i),(a||s)&&(o=C))}),!a&&!s){let{width:c,height:C}=this._viewportRuler.getViewportSize(),I={width:c,height:C,top:0,right:c,bottom:C,left:0};a=pc(I,i),s=dc(I,r),o=window}o&&(a!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||o!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=s,this._scrollNode=o,(a||s)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let r=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let r=this._container.style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ml(0,ol).pipe($e(this._stopScrollTimers)).subscribe(()=>{let r=this._scrollNode,i=this.autoScrollStep;this._verticalScrollDirection===pt.UP?r.scrollBy(0,-i):this._verticalScrollDirection===pt.DOWN&&r.scrollBy(0,i),this._horizontalScrollDirection===Je.LEFT?r.scrollBy(-i,0):this._horizontalScrollDirection===Je.RIGHT&&r.scrollBy(i,0)})};_isOverContainer(r,i){return this._domRect!=null&&ja(this._domRect,r,i)}_getSiblingContainerFromPosition(r,i,o){return this._siblings.find(a=>a._canReceive(r,i,o))}_canReceive(r,i,o){if(!this._domRect||!ja(this._domRect,i,o)||!this.enterPredicate(r,this))return!1;let a=this._getShadowRoot().elementFromPoint(i,o);return a?a===this._container||this._container.contains(a):!1}_startReceiving(r,i){let o=this._activeSiblings;!o.has(r)&&i.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(o.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:i}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){let i=this._parentPositions.handleScroll(r);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let r=Wi(this._container);this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let r=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,r))}};function pc(l,r){let{top:i,bottom:o,height:a}=l,s=a*uc;return r>=i-s&&r<=i+s?pt.UP:r>=o-s&&r<=o+s?pt.DOWN:pt.NONE}function dc(l,r){let{left:i,right:o,width:a}=l,s=a*uc;return r>=i-s&&r<=i+s?Je.LEFT:r>=o-s&&r<=o+s?Je.RIGHT:Je.NONE}function Ud(l,r,i,o,a){let s=pc(r,a),c=dc(r,o),C=pt.NONE,I=Je.NONE;if(s){let j=l.scrollTop;s===pt.UP?j>0&&(C=pt.UP):l.scrollHeight-j>l.clientHeight&&(C=pt.DOWN)}if(c){let j=l.scrollLeft;i==="rtl"?c===Je.RIGHT?j<0&&(I=Je.RIGHT):l.scrollWidth+j>l.clientWidth&&(I=Je.LEFT):c===Je.LEFT?j>0&&(I=Je.LEFT):l.scrollWidth-j>l.clientWidth&&(I=Je.RIGHT)}return[C,I]}var Mi={capture:!0},Ga={passive:!1,capture:!0},Zd=(()=>{class l{static \u0275fac=function(o){return new(o||l)};static \u0275cmp=E({type:l,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(o,a){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return l})(),Ka=(()=>{class l{_ngZone=B(Ri);_document=B(hi);_styleLoader=B($l);_renderer=B(ua).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Se([]);_globalListeners;_draggingPredicate=i=>i.isDragging();_domNodesToDirectives=null;pointerMove=new de;pointerUp=new de;scroll=new de;constructor(){}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=qt(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Ga)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(i,o){if(!(this._activeDragInstances().indexOf(i)>-1)&&(this._styleLoader.load(Zd),this._activeDragInstances.update(a=>[...a,i]),this._activeDragInstances().length===1)){let a=o.type.startsWith("touch"),s=C=>this.pointerUp.next(C),c=[["scroll",C=>this.scroll.next(C),Mi],["selectstart",this._preventDefaultWhileDragging,Ga]];a?c.push(["touchend",s,Mi],["touchcancel",s,Mi]):c.push(["mouseup",s,Mi]),a||c.push(["mousemove",C=>this.pointerMove.next(C),Ga]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=c.map(([C,I,j])=>qt(this._renderer,this._document,C,I,j))})}}stopDragging(i){this._activeDragInstances.update(o=>{let a=o.indexOf(i);return a>-1?(o.splice(a,1),[...o]):o}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(i){return this._activeDragInstances().indexOf(i)>-1}scrolled(i){let o=[this.scroll];return i&&i!==this._document&&o.push(new Yt(a=>this._ngZone.runOutsideAngular(()=>{let s=qt(this._renderer,i,"scroll",c=>{this._activeDragInstances().length&&a.next(c)},Mi);return()=>{s()}}))),zi(...o)}registerDirectiveNode(i,o){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(i,o)}removeDirectiveNode(i){this._domNodesToDirectives?.delete(i)}getDragDirectiveForNode(i){return this._domNodesToDirectives?.get(i)||null}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=i=>{this._activeDragInstances().length>0&&i.preventDefault()};_persistentTouchmoveListener=i=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))};_clearGlobalListeners(){this._globalListeners?.forEach(i=>i()),this._globalListeners=void 0}static \u0275fac=function(o){return new(o||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Qd={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Xa=(()=>{class l{_document=B(hi);_ngZone=B(Ri);_viewportRuler=B(em);_dragDropRegistry=B(Ka);_renderer=B(ua).createRenderer(null,null);constructor(){}createDrag(i,o=Qd){return new Ha(i,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(i){return new Za(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(o){return new(o||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),$r=new $t("CDK_DRAG_PARENT");var fc=new $t("CdkDragHandle"),gc=(()=>{class l{element=B(_t);_parentDrag=B($r,{optional:!0,skipSelf:!0});_dragDropRegistry=B(Ka);_stateChanges=new de;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let i=this.element.nativeElement.parentElement;for(;i;){let o=this._dragDropRegistry.getDragDirectiveForNode(i);if(o){this._parentDrag=o,o._addHandle(this);break}i=i.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(o){return new(o||l)};static \u0275dir=di({type:l,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",bn]},features:[Ie([{provide:fc,useExisting:l}])]})}return l})(),hc=new $t("CDK_DRAG_CONFIG"),Ec=new $t("CdkDropList"),_c=(()=>{class l{element=B(_t);dropContainer=B(Ec,{optional:!0,skipSelf:!0});_ngZone=B(Ri);_viewContainerRef=B(Cl);_dir=B(Ea,{optional:!0});_changeDetectorRef=B(Fe);_selfHandle=B(fc,{optional:!0,self:!0});_parentDrag=B($r,{optional:!0,skipSelf:!0});_dragDropRegistry=B(Ka);_destroyed=new de;_handles=new cn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(i){this._disabled=i,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ue;released=new Ue;ended=new Ue;entered=new Ue;exited=new Ue;dropped=new Ue;moved=new Yt(i=>{let o=this._dragRef.moved.pipe(We(a=>({source:this,pointerPosition:a.pointerPosition,event:a.event,delta:a.delta,distance:a.distance}))).subscribe(i);return()=>{o.unsubscribe()}});_injector=B(It);constructor(){let i=this.dropContainer,o=B(hc,{optional:!0}),a=B(Xa);this._dragRef=a.createDrag(this.element,{dragStartThreshold:o&&o.dragStartThreshold!=null?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&o.pointerDirectionChangeThreshold!=null?o.pointerDirectionChangeThreshold:5,zIndex:o?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe($e(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){El(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(i){let o=i.rootElementSelector,a=i.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(i){let o=this._handles.getValue();o.push(i),this._handles.next(o)}_removeHandle(i){let o=this._handles.getValue(),a=o.indexOf(i);a>-1&&(o.splice(a,1),this._handles.next(o))}_setPreviewTemplate(i){this._previewTemplate=i}_resetPreviewTemplate(i){i===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(i){this._placeholderTemplate=i}_resetPlaceholderTemplate(i){i===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let i=this.element.nativeElement,o=i;this.rootElementSelector&&(o=i.closest!==void 0?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||i)}_getBoundaryElement(){let i=this.boundaryElement;return i?typeof i=="string"?this.element.nativeElement.closest(i):Rt(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){let o=this._dir,a=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.scale=this.scale,i.dragStartDelay=typeof a=="object"&&a?a:da(a),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),o&&i.withDirection(o.value)}}),i.beforeStarted.pipe(cl(1)).subscribe(()=>{if(this._parentDrag){i.withParent(this._parentDrag._dragRef);return}let o=this.element.nativeElement.parentElement;for(;o;){let a=this._dragDropRegistry.getDragDirectiveForNode(o);if(a){i.withParent(a._dragRef);break}o=o.parentElement}})}_handleEvents(i){i.started.subscribe(o=>{this.started.emit({source:this,event:o.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(o=>{this.released.emit({source:this,event:o.event})}),i.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),i.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),i.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event})})}_assignDefaults(i){let{lockAxis:o,dragStartDelay:a,constrainPosition:s,previewClass:c,boundaryElement:C,draggingDisabled:I,rootElementSelector:j,previewContainer:re}=i;this.disabled=I??!1,this.dragStartDelay=a||0,o&&(this.lockAxis=o),s&&(this.constrainPosition=s),c&&(this.previewClass=c),C&&(this.boundaryElement=C),j&&(this.rootElementSelector=j),re&&(this.previewContainer=re)}_setupHandlesListener(){this._handles.pipe(et(i=>{let o=i.map(a=>a.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),ul(i=>zi(...i.map(o=>o._stateChanges.pipe(ca(o))))),$e(this._destroyed)).subscribe(i=>{let o=this._dragRef,a=i.element.nativeElement;i.disabled?o.disableHandle(a):o.enableHandle(a)})}static \u0275fac=function(o){return new(o||l)};static \u0275dir=di({type:l,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(o,a){o&2&&fi("cdk-drag-disabled",a.disabled)("cdk-drag-dragging",a._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",bn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Pt]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ie([{provide:$r,useExisting:l}]),Fi]})}return l})(),sc=new $t("CdkDropListGroup");var Cc=(()=>{class l{element=B(_t);_changeDetectorRef=B(Fe);_scrollDispatcher=B($s);_dir=B(Ea,{optional:!0});_group=B(sc,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new de;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=B(es).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(i){this._dropListRef.disabled=this._disabled=i}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Ue;entered=new Ue;exited=new Ue;sorted=new Ue;_unsortedItems=new Set;constructor(){let i=B(Xa),o=B(hc,{optional:!0});this._dropListRef=i.createDropList(this.element),this._dropListRef.data=this,o&&this._assignDefaults(o),this._dropListRef.enterPredicate=(a,s)=>this.enterPredicate(a.data,s.data),this._dropListRef.sortPredicate=(a,s,c)=>this.sortPredicate(a,s.data,c.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),l._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(i){this._unsortedItems.add(i),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(o=>o._dragRef))}removeItem(i){if(this._unsortedItems.delete(i),this._latestSortedRefs){let o=this._latestSortedRefs.indexOf(i._dragRef);o>-1&&(this._latestSortedRefs.splice(o,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((i,o)=>i._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let i=l._dropLists.indexOf(this);i>-1&&l._dropLists.splice(i,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(i){this._dir&&this._dir.change.pipe(ca(this._dir.value),$e(this._destroyed)).subscribe(o=>i.withDirection(o)),i.beforeStarted.subscribe(()=>{let o=Jl(this.connectedTo).map(a=>{if(typeof a=="string"){let s=l._dropLists.find(c=>c.id===a);return s}return a});if(this._group&&this._group._items.forEach(a=>{o.indexOf(a)===-1&&o.push(a)}),!this._scrollableParentsResolved){let a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let a=this.element.nativeElement.querySelector(this.elementContainerSelector);i.withElementContainer(a)}i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.sortingDisabled=this.sortingDisabled,i.autoScrollDisabled=this.autoScrollDisabled,i.autoScrollStep=da(this.autoScrollStep,2),i.connectedTo(o.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(i){i.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(o=>o._dragRef)),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),i.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),i.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),i.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),zi(i.receivingStarted,i.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(i){let{lockAxis:o,draggingDisabled:a,sortingDisabled:s,listAutoScrollDisabled:c,listOrientation:C}=i;this.disabled=a??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=c??!1,this.orientation=C||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(i){this._latestSortedRefs=i,this._dropListRef.withItems(i)}static \u0275fac=function(o){return new(o||l)};static \u0275dir=di({type:l,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(o,a){o&2&&(Ze("id",a.id),fi("cdk-drop-list-disabled",a.disabled)("cdk-drop-list-dragging",a._dropListRef.isDragging())("cdk-drop-list-receiving",a._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",bn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",bn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",bn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ie([{provide:sc,useValue:void 0},{provide:Ec,useExisting:l}])]})}return l})();var Jd=new $t("CdkDragPlaceholder"),Sc=(()=>{class l{templateRef=B(_l);_drag=B($r,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(o){return new(o||l)};static \u0275dir=di({type:l,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Ie([{provide:Jd,useExisting:l}])]})}return l})();var ea=(()=>{class l{static \u0275fac=function(o){return new(o||l)};static \u0275mod=gn({type:l});static \u0275inj=pn({providers:[Xa],imports:[tm]})}return l})();var Xd=l=>({idx:l});function Yd(l,r){l&1&&bl(0)}function $d(l,r){l&1&&p(0,"div",21)}function ef(l,r){if(l&1){let i=x();n(0,"div",5)(1,"div",7),gl(),n(2,"svg",8),p(3,"circle",9)(4,"circle",10)(5,"circle",11)(6,"circle",12)(7,"circle",13)(8,"circle",14),t()(),hl(),n(9,"div",15),_(10,Yd,1,0,"ng-container",16),t(),n(11,"button",17),h("click",function(){let a=d(i).$index,s=g();return f(s.onModifier(a))}),e(12,"Modifier"),t(),n(13,"button",18),h("click",function(){let a=d(i).$implicit,s=g();return f(s.removeItem(a.id))}),n(14,"span",19),e(15,"\xD7"),t()(),_(16,$d,1,0,"div",20),t()}if(l&2){let i,o=r.$implicit,a=g();m(10),u("ngComponentOutlet",o.component)("ngComponentOutletInputs",be(3,Xd,o.id))("ngComponentOutletInjector",(i=a.localInjector())!==null&&i!==void 0?i:a.injector)}}function tf(l,r){l&1&&(n(0,"div",6)(1,"p"),e(2,'Aucun composant \xE0 afficher. Cliquez sur "Ajouter un composant" pour commencer.'),t()())}var ci=class l{constructor(r,i){this.cdr=r;this.injector=i}defaultComponentType=ke.required();localInjector=ke(null);orientation=ke("row");items=ft([]);addItem=fn();updateItemIndex=fn();reorder=fn();componentRefs=new Map;ngAfterViewInit(){this.items()||this.items.set([]),this.cdr.detectChanges()}onDrop(r){let i=[...this.items()];Xt(i,r.previousIndex,r.currentIndex),this.items.set(i),this.reorder.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex})}onAddItem(){this.addItem.emit()}removeItem(r){let i=this.componentRefs.get(r);i&&(i.destroy(),this.componentRefs.delete(r)),this.items.update(o=>o.filter(a=>a.id!==r))}generateId(){return this.items().length}trackByItemId(r,i){return i.id}iterator=rl;onModifier(r){this.updateItemIndex.emit(r)}static \u0275fac=function(i){return new(i||l)(y(Fe),y(It))};static \u0275cmp=E({type:l,selectors:[["app-list-container"]],inputs:{defaultComponentType:[1,"defaultComponentType"],localInjector:[1,"localInjector"],orientation:[1,"orientation"],items:[1,"items"]},outputs:{items:"itemsChange",addItem:"addItem",updateItemIndex:"updateItemIndex",reorder:"reorder"},decls:10,vars:6,consts:[[1,"list-container-wrapper"],[1,"list-container-header"],["type","button",1,"uig-button",3,"click"],[1,"add-icon"],["cdkDropList","",1,"list-container",3,"cdkDropListDropped","cdkDropListOrientation"],["cdkDrag","",1,"list-item"],[1,"empty-state"],["cdkDragHandle","",1,"drag-handle"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["cx","4","cy","4","r","1.5"],["cx","4","cy","8","r","1.5"],["cx","4","cy","12","r","1.5"],["cx","12","cy","4","r","1.5"],["cx","12","cy","8","r","1.5"],["cx","12","cy","12","r","1.5"],[1,"component-wrapper"],[4,"ngComponentOutlet","ngComponentOutletInputs","ngComponentOutletInjector"],[1,"uig-button",3,"click"],["type","button","title","Supprimer",1,"remove-button",3,"click"],[1,"remove-icon"],["class","drag-placeholder",4,"cdkDragPlaceholder"],[1,"drag-placeholder"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return o.onAddItem()}),n(3,"span",3),e(4,"+"),t(),e(5," Ajouter "),t()(),n(6,"div",4),h("cdkDropListDropped",function(s){return o.onDrop(s)}),hn(7,ef,17,5,"div",5,o.trackByItemId,!0),t(),_(9,tf,3,0,"div",6),t()),i&2&&(m(6),fi("orientation-row",o.orientation()==="row")("orientation-column",o.orientation()==="column"),u("cdkDropListOrientation",o.orientation()==="row"?"horizontal":"vertical"),m(),En(o.items()),m(2),Ae(o.items().length===0?9:-1))},dependencies:[N,Il,ea,Cc,_c,gc,Sc],styles:[`.list-container-wrapper{width:100%;padding:1rem}.list-container-wrapper .list-container-header{margin-bottom:1.5rem;display:flex;justify-content:flex-start}.list-container-wrapper .list-container{display:flex;gap:1rem;padding:1rem;background-color:#f8f9fa;border-radius:.5rem;min-height:200px}.list-container-wrapper .list-container.orientation-row{flex-direction:row;overflow-x:auto;overflow-y:hidden}.list-container-wrapper .list-container.orientation-row .list-item{flex:0 0 auto;width:16.6666666667vw;max-width:16.6666666667vw;min-width:150px}.list-container-wrapper .list-container.orientation-column{flex-direction:column;overflow-y:auto;overflow-x:hidden}.list-container-wrapper .list-container.orientation-column .list-item{width:100%}.list-container-wrapper .list-item{position:relative;background-color:#fff;border:2px solid #dee2e6;border-radius:.5rem;padding:.75rem;box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s ease;display:flex;flex-direction:column}.list-container-wrapper .list-item:hover{box-shadow:0 4px 8px #00000026}.list-container-wrapper .list-item:hover .drag-handle,.list-container-wrapper .list-item:hover .remove-button{opacity:1}.list-container-wrapper .list-item.cdk-drag-preview{box-shadow:0 8px 16px #0003;opacity:.9;cursor:grabbing}.list-container-wrapper .list-item.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.list-container-wrapper .list-item .drag-handle{position:absolute;top:.5rem;left:.5rem;cursor:grab;color:#6c757d;opacity:0;transition:opacity .2s ease;z-index:10;padding:.25rem;border-radius:.25rem}.list-container-wrapper .list-item .drag-handle:hover{background-color:#f8f9fa}.list-container-wrapper .list-item .drag-handle:active{cursor:grabbing}.list-container-wrapper .list-item .drag-handle svg{display:block}.list-container-wrapper .list-item .component-wrapper{flex:1;margin-top:1.5rem;overflow:hidden}.list-container-wrapper .list-item .remove-button{position:absolute;top:.5rem;right:.5rem;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;background-color:#dc3545;color:#fff;border:none;border-radius:50%;cursor:pointer;opacity:0;transition:opacity .2s ease,transform .2s ease;z-index:10}.list-container-wrapper .list-item .remove-button:hover{background-color:#c82333;transform:scale(1.1)}.list-container-wrapper .list-item .remove-button:active{transform:scale(.95)}.list-container-wrapper .list-item .remove-button .remove-icon{font-size:1.5rem;line-height:1}.list-container-wrapper .list-item .drag-placeholder{background-color:#e9ecef;border:2px dashed #adb5bd;border-radius:.5rem;min-height:100px}.list-container-wrapper .empty-state{padding:3rem 1rem;text-align:center;color:#6c757d}.list-container-wrapper .empty-state p{margin:0;font-size:1.125rem}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}
`],encapsulation:2,changeDetection:0})};var ui=class l{idx=ke.required();DemoAccordionComponent=Jn;DemoFormFieldComponent=ei;$uiPagesItem=Se([]);localInjector;pageConfig;appGeneratorConfig=B(ct);injector=B(It);router=B(U);ngOnInit(){this.pageConfig=this.appGeneratorConfig.pages?.[this.idx()],this.localInjector=It.create({providers:[{provide:ct,useValue:new ct({pages:this.pageConfig?.sections??[]})}],parent:this.injector}),this.$uiPagesItem.set(this.pageConfig?.sections?.map((r,i)=>({component:Ut,id:i}))??[])}onUpdateItemIndex(r){this.router.navigate(["ui-bloc",this.idx(),r])}onAjouterBloc(){this.pageConfig.sections||(this.pageConfig.sections=[]),this.pageConfig?.sections?.push(new hm),this.$uiPagesItem.update(r=>[...r,{component:Ut,id:r.length}]),this.router.navigate(["ui-bloc",this.idx(),this.pageConfig.sections.length-1])}onValider(){this.appGeneratorConfig.pages[this.idx()]=this.pageConfig,this.router.navigate(["ui-app-generator"])}onReorder(r){Xt(this.pageConfig.sections,r.previousIndex,r.currentIndex)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-page"]],inputs:{idx:[1,"idx"]},decls:8,vars:5,consts:[[1,"zac-text-style:title-XL-bold","zac-text-align:center"],[3,"addItem","updateItemIndex","reorder","items","localInjector","defaultComponentType","orientation"],[1,"control_bar"],["type","button",1,"uig-button",3,"click"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,"G\xE9n\xE9rateur de formulaires/application"),t(),n(2,"h2"),e(3),t(),n(4,"app-list-container",1),h("addItem",function(){return o.onAjouterBloc()})("updateItemIndex",function(s){return o.onUpdateItemIndex(s)})("reorder",function(s){return o.onReorder(s)}),t(),n(5,"div",2)(6,"button",3),h("click",function(){return o.onValider()}),e(7,"Enregistrer la page"),t()()),i&2&&(m(3),D("Page ",o.idx(),""),m(),u("items",o.$uiPagesItem())("localInjector",o.localInjector)("defaultComponentType",o.DemoFormFieldComponent)("orientation","column"))},dependencies:[ci],styles:[`:root .uig-button,:root .uig-button button{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#007bff;color:#fff;border:none;border-radius:.375rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}:root .uig-button:hover,:root .uig-button button:hover{background-color:#0056b3}:root .uig-button:active,:root .uig-button button:active{transform:scale(.98)}:root .main-container{max-width:unset!important}
`],encapsulation:2,changeDetection:0})};var ta=class l{appGeneratorConfig=B(ct);router=B(U);UiPageComponent=ui;$uiPagesItem=Se([]);ngOnInit(){let r;this.$uiPagesItem.set(this.appGeneratorConfig.pages?.map((i,o)=>({component:Ut,id:o}))??[])}onAjouterPage(){this.appGeneratorConfig.pages||(this.appGeneratorConfig.pages=[]),this.appGeneratorConfig.pages.push(new Em),this.$uiPagesItem.update(r=>[...r,{component:Ut,id:r.length}]),this.router.navigate(["ui-page-generator",this.appGeneratorConfig.pages.length-1])}onModifierPage(r){this.router.navigate(["ui-page-generator",r])}onReorder(r){Xt(this.appGeneratorConfig.pages,r.previousIndex,r.currentIndex)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-app-generator"]],features:[Ie([Si,at])],decls:3,vars:3,consts:[[1,"zac-text-style:title-XL-bold","zac-text-align:center"],[3,"addItem","updateItemIndex","reorder","items","defaultComponentType","orientation"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,"G\xE9n\xE9rateur de formulaires/application"),t(),n(2,"app-list-container",1),h("addItem",function(){return o.onAjouterPage()})("updateItemIndex",function(s){return o.onModifierPage(s)})("reorder",function(s){return o.onReorder(s)}),t()),i&2&&(m(2),u("items",o.$uiPagesItem())("defaultComponentType",o.UiPageComponent)("orientation","row"))},dependencies:[ci,ea],styles:[`:root .main-container{width:100%;max-width:unset;margin:0 auto;padding:20px}
`,`:root .uig-button,:root .uig-button button{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#007bff;color:#fff;border:none;border-radius:.375rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}:root .uig-button:hover,:root .uig-button button:hover{background-color:#0056b3}:root .uig-button:active,:root .uig-button button:active{transform:scale(.98)}:root .main-container{max-width:unset!important}
`],encapsulation:2,changeDetection:0})};function nf(l,r){if(l&1){let i=x();n(0,"article",1)(1,"div",3)(2,"section",4)(3,"h3",5),e(4,"Configuration du formulaire"),t(),n(5,"app-ui-form-group",6),h("configChange",function(a){d(i);let s=g();return f(s.onConfigChange(a))}),t()(),p(6,"br"),t(),n(7,"section",7)(8,"h3",5),e(9,"Formulaire g\xE9n\xE9r\xE9"),t(),p(10,"app-ui-generated",8),t()()}if(l&2){let i=g();m(5),u("config",i.config),m(5),u("config",i.config)}}var na=class l{idxPage=ke(-1,{transform:Pt});idxBloc=ke(-1,{transform:Pt});$generated=Se(!1);$refresh=Se(1);config;bloc;selectStyle=B(Ne);uiGeneratorState=B(ut);appGeneratorConfig=B(ct,{optional:!0});router=B(U);ngOnInit(){this.bloc=this.appGeneratorConfig?.pages?.[this.idxPage()].sections?.[this.idxBloc()],this.selectStyle.style="intranet",this.appGeneratorConfig&&this.idxPage()>=0&&(this.config=this.bloc?.formControlConfigs??[])}onConfigChange(r){return Ce(this,null,function*(){ht(),this.config=void 0,this.$refresh.update(i=>i+1),yield Re.skipTurn(),this.config=r,this.$refresh.update(i=>i+1),yield Re.skipTurn()})}NaN=NaN;isNaN=isNaN;onValider(){this.bloc.formControlConfigs=this.config,this.router.navigate(["ui-page-generator",this.idxPage()])}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-ui-generator"]],hostAttrs:[1,"ui-bloc"],inputs:{idxPage:[1,"idxPage"],idxBloc:[1,"idxBloc"]},decls:4,vars:1,consts:[["standalone","false"],[1,"zac-flex-row"],["type","button",1,"uig-button",3,"click"],[1,"--half_width"],[1,"content-container"],[1,"content-container--title"],[3,"configChange","config"],[1,"content-container","--half_width"],[3,"config"]],template:function(i,o){i&1&&(p(0,"zac-notification-banner",0),_(1,nf,11,2,"article",1),n(2,"button",2),h("click",function(){return o.onValider()}),e(3,"Valider"),t()),i&2&&(m(),Ae(o.$refresh()?1:-1))},dependencies:[li,si,Dt],styles:[`.ui-bloc .--half_width{width:49%!important;margin:4px}
`,`:root .uig-button,:root .uig-button button{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#007bff;color:#fff;border:none;border-radius:.375rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}:root .uig-button:hover,:root .uig-button button:hover{background-color:#0056b3}:root .uig-button:active,:root .uig-button button:active{transform:scale(.98)}:root .main-container{max-width:unset!important}
`],encapsulation:2})};var of=()=>["F","Femme"],rf=()=>["H","Homme"],af=(l,r)=>[l,r],lf=()=>["1","Un"],sf=()=>["2","Deux"],mf=()=>["3","Trois"],cf=(l,r,i)=>[l,r,i],bc=()=>["TO","Toulouse"],vc=()=>["M","Montauban"],xc=()=>["B","Bordeaux"],yc=()=>["TA","Tarascon"],Dc=()=>["P","Paris"],wc=(l,r,i,o,a)=>[l,r,i,o,a],uf={},ia=class l{formGroup=new le({});get model(){return uf}router=B(U);ngAfterViewInit(){this.formGroup.patchValue(this.model)}onSubmit(){this.formGroup.valid&&(Object.assign(this.model,this.formGroup.value),this.router.navigate(["/demo-error"]).then(()=>this.router.navigate(["/demo-value-accessor"])))}onRAZ(){this.formGroup.patchValue({booleanChoice:"",singleChoice:"",select:"",autocomplete:"",textarea:"",multipleChoice:"",date:"",date3:"",hour:"",number:"",phoneNumber:void 0})}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=E({type:l,selectors:[["app-demo-value-accessor"]],decls:51,vars:45,consts:[["xmlns","http://www.w3.org/1999/html",1,"demo-title-section"],[1,"demo-section_reverse"],[1,"demo-section"],["src","components/DemoValueAccessor.html#template"],[1,"zac-container"],["zacErrors","",3,"ngSubmit","formGroup"],["label","BooleanChoice"],["formControlName","booleanChoice","name","booleanChoice","zacCreateAndRemove","","required",""],["label","SingleChoice"],["name","singleChoice","formControlName","singleChoice","zacCreateAndRemove","","required","",3,"choiceList"],["label","MultipleChoice"],["name","multipleChoice","formControlName","multipleChoice","zacCreateAndRemove","","required","",3,"choiceList"],["label","Select"],["name","select","formControlName","select","zacCreateAndRemove","","required","",3,"choiceList"],["label","Autocomplete"],["name","autocomplete","formControlName","autocomplete","zacCreateAndRemove","","required","",3,"choiceList"],["label","Textarea"],["name","textarea","formControlName","textarea","zacCreateAndRemove","","required",""],["role","group","aria-labelledby","label-saisie-dates-heures"],["id","label-saisie-dates-heures"],["label","Date"],["aria-labelledby","label-saisie-dates-heures","name","date","formControlName","date","zacCreateAndRemove","","required",""],["label","Date3"],["aria-labelledby","label-saisie-dates-heures","name","date3","formControlName","date3","zacCreateAndRemove","","required",""],["label","Hour"],["aria-labelledby","label-saisie-dates-heures","name","hour","formControlName","hour","zacCreateAndRemove","","required",""],["label","Number"],["zacNumber","","name","number","formControlName","number","zacCreateAndRemove","","required",""],["label","PhoneNumber"],["name","phoneNumber","formControlName","phoneNumber","zacCreateAndRemove","","required",""],[1,"control_bar"],["type","button",1,"button","--button_secondary",3,"click"],["type","submit",1,"button","--button_primary"],[1,"zac-container:white"]],template:function(i,o){i&1&&(n(0,"h1",0),e(1,"D\xE9mo de tous les Control Value Accessor zac"),t(),n(2,"div",1)(3,"section",2)(4,"h2"),e(5,"Exemple"),t(),n(6,"app-source",3)(7,"section",4)(8,"p"),e(9),K(10,"json"),t()(),p(11,"br"),n(12,"form",5),h("ngSubmit",function(){return o.onSubmit()}),n(13,"fieldset")(14,"legend"),e(15,"Composants de choix bas\xE9 sur un input type=checkbox ou radio"),t(),n(16,"zac-form-field",6),p(17,"zac-boolean-choice",7),t(),n(18,"zac-form-field",8),p(19,"zac-single-choice",9),t(),n(20,"zac-form-field",10),p(21,"zac-multi-choice",11),t()(),n(22,"zac-form-field",12),p(23,"zac-select",13),t(),n(24,"zac-form-field",14),p(25,"zac-autocomplete",15),t(),n(26,"zac-form-field",16),p(27,"zac-textarea",17),t(),n(28,"section",18)(29,"p",19),e(30,"Composants de saisie des dates et heures"),t(),n(31,"zac-form-field",20),p(32,"zac-date",21),t(),n(33,"zac-form-field",22),p(34,"zac-date3",23),t(),n(35,"zac-form-field",24),p(36,"zac-hour",25),t()(),n(37,"zac-form-field",26),p(38,"input",27),t(),n(39,"zac-form-field",28),p(40,"zac-phone-number",29),t(),n(41,"div",30)(42,"button",31),h("click",function(){return o.onRAZ()}),e(43,"RAZ"),t(),n(44,"button",32),e(45,"Valider"),t()()(),n(46,"section",33)(47,"p"),e(48),K(49,"json"),t()()()(),p(50,"section",2),t()),i&2&&(m(9),D("Values du FormGroup = ",X(10,7,o.formGroup.value),""),m(3),u("formGroup",o.formGroup),m(7),u("choiceList",nt(13,af,G(11,of),G(12,rf))),m(2),u("choiceList",Cn(19,cf,G(16,lf),G(17,sf),G(18,mf))),m(2),u("choiceList",gi(28,wc,G(23,bc),G(24,vc),G(25,xc),G(26,yc),G(27,Dc))),m(2),u("choiceList",gi(39,wc,G(34,bc),G(35,vc),G(36,xc),G(37,yc),G(38,Dc))),m(23),D(" Values du model apr\xE8s soumission = ",X(49,9,o.model)," "))},dependencies:[oe,k,L,P,R,q,w,z,H,ne,te,_e,ot,Le,A,st,ge,Ht,io,ao,Vn,lo,yt,On,co],styles:[`app-demo-value-accessor fieldset,app-demo-value-accessor [role=group]{outline:1px solid blue}app-demo-value-accessor .zac-form-field [role=group]{outline:none}
`],encapsulation:2,changeDetection:0})};var Mc=[{path:"",runGuardsAndResolvers:"always",canActivateChild:[Ne],children:[{path:"",redirectTo:"/installation",pathMatch:"full"},{path:"accueil",component:wo,title:"Accueil"},{path:"installation",component:Mo,title:"Installation"},...ks.routes,{path:"demo-accord",component:Io,title:"Accord grammatical"},{path:"demo-accordion",component:Jn,title:"Accordion"},{path:"demo-api-gouv",component:Po,title:"API Gouv"},{path:"demo-autocomplete",component:Yn,title:"Autocomplete"},{path:"autocomplete-suite",component:Ao,title:"Autocomplete Suite"},{path:"demo-autofocus",component:Fo,title:"Autofocus"},{path:"demo-binding",component:qo,title:"Binding"},{path:"demo-boolean-choice",component:Vo,title:"Boolean Choice"},{path:"demo-button",component:Oo,title:"Button"},{path:"demo-card",component:Lo,title:"Card"},{path:"demo-control-bar",component:Bo,title:"Control Bar"},{path:"demo-date",component:ko,title:"Date"},{path:"demo-date3",component:Go,title:"Date 3"},{path:"test-zone",component:yr,title:"Test Zone"},{path:"demo-display-error-directive",component:jo,title:"Display Error Directive"},{path:"demo-file-loader",component:Xo,title:"File Loader"},{path:"demo-form-field",component:ei,title:"Form Field"},{path:"demo-phone-number",component:Qr,title:"Phone number"},{path:"demo-form-generator",component:Yo,title:"Form Generator"},{path:"demo-formatter",component:$o,title:"Formatter"},{path:"demo-horizontal-stepper",component:er,title:"Horizontal Stepper"},{path:"demo-know-more",component:tr,title:"Know More"},{path:"demo-modal",component:nr,title:"Modal"},{path:"demo-modal2",component:qr,title:"Modal 2"},{path:"demo-multi-choice",component:ir,title:"Multi Choice"},{path:"demo-nir-validators",component:rr,title:"NIR Validators"},{path:"demo-nir-directive",component:ar,title:"NIR Directive"},{path:"demo-number",component:lr,title:"Number"},{path:"demo-select",component:sr,title:"Select"},{path:"demo-single-choice",component:mr,title:"Single Choice"},{path:"demo-state-machine",component:cr,title:"State Machine"},{path:"demo-store",component:No,title:"Store"},{path:"demo-tab",component:pr,title:"Tab"},{path:"demo-form-tab",component:xr,title:"Form Tab"},{path:"demo-table",component:fr,title:"Table"},{path:"demo-textarea",component:Ar,title:"Textarea"},{path:"demo-data-source",component:wr,title:"Data Source"},{path:"demo-technical-error",component:gr,title:"Technical Error"},{path:"demo-theme-icon",component:hr,title:"Theme Icon"},{path:"demo-vertical-stepper",component:Er,title:"Vertical Stepper"},{path:"demo-xreactive-form",component:_r,title:"XReactive Form"},{path:"a11y",component:Sr,title:"Accessibility"},{path:"a11y-page-transition",component:Hr,title:"Accessibilit\xE9 des transitions de pages"},{path:"demo-zac-label",component:br,title:"ZAC Label"},{path:"demo-labelliser",component:vr,title:"Labelliser"},...Nm,...zm,...jm,...Wm,{path:"demo-api-interceptor",loadComponent:()=>import("./chunk-SVNP5GTE.js"),title:"API Interceptor"},{path:"demo-value-accessor",component:ia,title:"Value Accessor"},{path:"ui-generator",component:kr,title:"UI Generator"},{path:"ui-bloc/:idxPage/:idxBloc",component:na,title:"UI bloc",data:{showDemoHeader:!1}},{path:"ui-app-generator",component:ta,title:"UI App Generator",data:{showDemoHeader:!1}},{path:"ui-page-generator/:idx",component:ui,title:"UI App Generator",data:{showDemoHeader:!1}},{path:"demo-notification-banner",component:Gr,title:"Notification Banner"},{path:"configuration",component:jr,title:"Configuration"},{path:"demo-dialog",component:Ur,title:"Demo dialog"},{path:"demo-required-or-optional",component:Zr,title:"Demo Required Or Optional"},{path:"test-form-array",component:Rr,title:"Test Form Array"},{path:"test-signal",component:Wr,title:"Test Signal"},...Ut.getRoutes()]}];var oa=class l{constructor(){}intercept(r,i){return i.handle(r).pipe(et(o=>{},o=>{console.log("http err=",o),r.url.indexOf(".html")===-1&&r.url.indexOf("/build")===-1&&console.log("HTTP ERROR ============================>",o)}))}static \u0275fac=function(i){return new(i||l)};static \u0275prov=se({token:l,factory:l.\u0275fac,providedIn:"root"})};function pf(l,r){return new Yt(i=>{let o=!1,a=!1,s=l.subscribe(c=>{a=!0,setTimeout(()=>{i.next(c),o&&i.complete()},r)},c=>setTimeout(()=>i.error(c),r),()=>{o=!0,a||i.complete()});return()=>s.unsubscribe()})}var xe={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANTENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,UPGRADE_REQUIRED:426,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,PROCESSING:102,MULTI_STATUS:207,IM_USED:226,PERMANENT_REDIRECT:308,UNPROCESSABLE_ENTRY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511},df={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:`"The server understands and is willing to comply with the client's request, via the Upgrade header field, for a change in the application protocol being used on this connection."`,spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:`"The request was successful but the enclosed payload has been modified from that of the origin server's 200 (OK) response by a transforming proxy."`,spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:`"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests's Range header field."`,spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:`"None of the ranges in the request's Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."`,spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:`"The expectation given in the request's Expect header field could not be met by at least one of the inbound servers."`,spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};function ff(l){return df[l+""].text||"Unknown Status"}function gf(l){return l>=200&&l<300}var Ni=class{},Ya=class{apiBase;caseSensitiveSearch;dataEncapsulation;delay;delete404;host;passThruUnknownUrl;post204;post409;put204;put404;rootPath},ra=(()=>{class l{constructor(i={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},i)}static \u0275fac=function(o){return new(o||l)(Be(Ya))};static \u0275prov=se({token:l,factory:l.\u0275fac})}return l})();function hf(l){let i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(l),o={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},a=Object.keys(o),s=a.length;for(;s--;)o[a[s]]=i&&i[s]||"";return o}function Ef(l){return l.replace(/\/$/,"")}var $a=class{inMemDbService;config=new ra;db={};dbReadySubject;passThruBackend;requestInfoUtils=this.getRequestInfoUtils();constructor(r,i={}){this.inMemDbService=r;let o=this.getLocation("/");this.config.host=o.host,this.config.rootPath=o.path,Object.assign(this.config,i)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new cn(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(ma(r=>r))}handleRequest(r){return this.dbReady.pipe(pi(()=>this.handleRequest_(r)))}handleRequest_(r){let i=r.urlWithParams?r.urlWithParams:r.url,o=this.bind("parseRequestUrl"),a=o&&o(i,this.requestInfoUtils)||this.parseRequestUrl(i),s=a.collectionName,c=this.db[s],C={req:r,apiBase:a.apiBase,collection:c,collectionName:s,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(c,s,a.id),method:this.getRequestMethod(r),query:a.query,resourceUrl:a.resourceUrl,url:i,utils:this.requestInfoUtils},I;if(/commands\/?$/i.test(C.apiBase))return this.commands(C);let j=this.bind(C.method);if(j){let re=j(C);if(re)return re}return this.db[s]?this.createResponse$(()=>this.collectionHandler(C)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(r):(I=this.createErrorResponseOptions(i,xe.NOT_FOUND,`Collection '${s}' not found`),this.createResponse$(()=>I))}addDelay(r){let i=this.config.delay;return i===0?r:pf(r,i||500)}applyQuery(r,i){let o=[],a=this.config.caseSensitiveSearch?void 0:"i";i.forEach((c,C)=>{c.forEach(I=>o.push({name:C,rx:new RegExp(decodeURI(I),a)}))});let s=o.length;return s?r.filter(c=>{let C=!0,I=s;for(;C&&I;){I-=1;let j=o[I];C=j.rx.test(c[j.name])}return C}):r}bind(r){let i=this.inMemDbService[r];return i?i.bind(this.inMemDbService):void 0}bodify(r){return this.config.dataEncapsulation?{data:r}:r}clone(r){return JSON.parse(JSON.stringify(r))}collectionHandler(r){let i;switch(r.method){case"get":i=this.get(r);break;case"post":i=this.post(r);break;case"put":i=this.put(r);break;case"delete":i=this.delete(r);break;default:i=this.createErrorResponseOptions(r.url,xe.METHOD_NOT_ALLOWED,"Method not allowed");break}let o=this.bind("responseInterceptor");return o?o(i,r):i}commands(r){let i=r.collectionName.toLowerCase(),o=r.method,a={url:r.url};switch(i){case"resetdb":return a.status=xe.NO_CONTENT,this.resetDb(r).pipe(pi(()=>this.createResponse$(()=>a,!1)));case"config":if(o==="get")a.status=xe.OK,a.body=this.clone(this.config);else{let s=this.getJsonBody(r.req);Object.assign(this.config,s),this.passThruBackend=void 0,a.status=xe.NO_CONTENT}break;default:a=this.createErrorResponseOptions(r.url,xe.INTERNAL_SERVER_ERROR,`Unknown command "${i}"`)}return this.createResponse$(()=>a,!1)}createErrorResponseOptions(r,i,o){return{body:{error:`${o}`},url:r,headers:this.createHeaders({"Content-Type":"application/json"}),status:i}}createResponse$(r,i=!0){let o=this.createResponseOptions$(r),a=this.createResponse$fromResponseOptions$(o);return i?this.addDelay(a):a}createResponseOptions$(r){return new Yt(i=>{let o;try{o=r()}catch(s){let c=s.message||s;o=this.createErrorResponseOptions("",xe.INTERNAL_SERVER_ERROR,`${c}`)}let a=o.status;try{o.statusText=a!=null?ff(a):void 0}catch{}return a!=null&&gf(a)?(i.next(o),i.complete()):i.error(o),()=>{}})}delete({collection:r,collectionName:i,headers:o,id:a,url:s}){if(a==null)return this.createErrorResponseOptions(s,xe.NOT_FOUND,`Missing "${i}" id`);let c=this.removeById(r,a);return{headers:o,status:c||!this.config.delete404?xe.NO_CONTENT:xe.NOT_FOUND}}findById(r,i){return r.find(o=>o.id===i)}genId(r,i){let o=this.bind("genId");if(o){let a=o(r,i);if(a!=null)return a}return this.genIdDefault(r,i)}genIdDefault(r,i){if(!this.isCollectionIdNumeric(r,i))throw new Error(`Collection '${i}' id type is non-numeric or unknown. Can only generate numeric ids.`);let o=0;return r.reduce((a,s)=>{o=Math.max(o,typeof s.id=="number"?s.id:o)},void 0),o+1}get({collection:r,collectionName:i,headers:o,id:a,query:s,url:c}){let C=r;return a!=null&&a!==""?C=this.findById(r,a):s&&(C=this.applyQuery(r,s)),C?{body:this.bodify(this.clone(C)),headers:o,status:xe.OK}:this.createErrorResponseOptions(c,xe.NOT_FOUND,`'${i}' with id='${a}' not found`)}getLocation(r){if(!r.startsWith("http")){let i=typeof document>"u"?void 0:document,o=i?i.location.protocol+"//"+i.location.host:"http://fake";r=r.startsWith("/")?o+r:o+"/"+r}return hf(r)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(r,i){return r.findIndex(o=>o.id===i)}parseId(r,i,o){if(!this.isCollectionIdNumeric(r,i))return o;let a=parseFloat(o);return isNaN(a)?o:a}isCollectionIdNumeric(r,i){return!!(r&&r[0])&&typeof r[0].id=="number"}parseRequestUrl(r){try{let i=this.getLocation(r),o=(this.config.rootPath||"").length,a="";i.host!==this.config.host&&(o=1,a=i.protocol+"//"+i.host+"/");let c=i.path.substring(o).split("/"),C=0,I;this.config.apiBase==null?I=c[C++]:(I=Ef(this.config.apiBase.trim()),I?C=I.split("/").length:C=0),I+="/";let j=c[C++];j=j&&j.split(".")[0];let re=c[C++],ze=this.createQueryMap(i.query),Ke=a+I+j+"/";return{apiBase:I,collectionName:j,id:re,query:ze,resourceUrl:Ke}}catch(i){let o=`unable to parse url '${r}'; original error: ${i.message}`;throw new Error(o)}}post({collection:r,collectionName:i,headers:o,id:a,req:s,resourceUrl:c,url:C}){let I=this.clone(this.getJsonBody(s));if(I.id==null)try{I.id=a||this.genId(r,i)}catch(ze){let Ke=ze.message||"";return/id type is non-numeric/.test(Ke)?this.createErrorResponseOptions(C,xe.UNPROCESSABLE_ENTRY,Ke):this.createErrorResponseOptions(C,xe.INTERNAL_SERVER_ERROR,`Failed to generate new id for '${i}'`)}if(a&&a!==I.id)return this.createErrorResponseOptions(C,xe.BAD_REQUEST,"Request id does not match item.id");a=I.id;let j=this.indexOf(r,a),re=this.bodify(I);return j===-1?(r.push(I),o.set("Location",c+"/"+a),{headers:o,body:re,status:xe.CREATED}):this.config.post409?this.createErrorResponseOptions(C,xe.CONFLICT,`'${i}' item with id='${a} exists and may not be updated with POST; use PUT instead.`):(r[j]=I,this.config.post204?{headers:o,status:xe.NO_CONTENT}:{headers:o,body:re,status:xe.OK})}put({collection:r,collectionName:i,headers:o,id:a,req:s,url:c}){let C=this.clone(this.getJsonBody(s));if(C.id==null)return this.createErrorResponseOptions(c,xe.NOT_FOUND,`Missing '${i}' id`);if(a&&a!==C.id)return this.createErrorResponseOptions(c,xe.BAD_REQUEST,`Request for '${i}' id does not match item.id`);a=C.id;let I=this.indexOf(r,a),j=this.bodify(C);return I>-1?(r[I]=C,this.config.put204?{headers:o,status:xe.NO_CONTENT}:{headers:o,body:j,status:xe.OK}):this.config.put404?this.createErrorResponseOptions(c,xe.NOT_FOUND,`'${i}' item with id='${a} not found and may not be created with PUT; use POST instead.`):(r.push(C),{headers:o,body:j,status:xe.CREATED})}removeById(r,i){let o=this.indexOf(r,i);return o>-1?(r.splice(o,1),!0):!1}resetDb(r){this.dbReadySubject&&this.dbReadySubject.next(!1);let i=this.inMemDbService.createDb(r);return(i instanceof Yt?i:typeof i.then=="function"?ll(i):Et(i)).pipe(ma()).subscribe(a=>{this.db=a,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}},_f=(()=>{class l extends $a{xhrFactory;constructor(i,o,a){super(i,o),this.xhrFactory=a}handle(i){try{return this.handleRequest(i)}catch(o){let a=o.message||o,s=this.createErrorResponseOptions(i.url,xe.INTERNAL_SERVER_ERROR,`${a}`);return this.createResponse$(()=>s)}}getJsonBody(i){return i.body}getRequestMethod(i){return(i.method||"get").toLowerCase()}createHeaders(i){return new Pl(i)}createQueryMap(i){let o=new Map;if(i){let a=new zl({fromString:i});a.keys().forEach(s=>o.set(s,a.getAll(s)||[]))}return o}createResponse$fromResponseOptions$(i){return i.pipe(We(o=>new Al(o)))}createPassThruBackend(){try{return new Rl(this.xhrFactory)}catch(i){throw i.message="Cannot create passThru404 backend; "+(i.message||""),i}}static \u0275fac=function(o){return new(o||l)(Be(Ni),Be(ra,8),Be(Oi))};static \u0275prov=se({token:l,factory:l.\u0275fac})}return l})();function Cf(l,r,i){return new _f(l,r,i)}var Ic=(()=>{class l{static forRoot(i,o){return{ngModule:l,providers:[{provide:Ni,useClass:i},{provide:ra,useValue:o},{provide:Tl,useFactory:Cf,deps:[Ni,ra,Oi]}]}}static forFeature(i,o){return l.forRoot(i,o)}static \u0275fac=function(o){return new(o||l)};static \u0275mod=gn({type:l});static \u0275inj=pn({})}return l})();var Ti=0,Nc=[{id:Ti++,nir:"1810517306045",nom:"Loquet",prenom:"Thomas",sexe:"M"},{id:Ti++,nir:"1861082121600",nom:"WEB TESTO",sexe:"M"},{id:Ti++,nir:"2680282121074",nom:"Faure",prenom:"Val\xE9rie",sexe:"F"},{id:Ti++,nir:"2590712202072",nom:"GAYRAUD",prenom:"ANNE-MARIE",sexe:"F"},{id:Ti++,nir:"1810517306046",nom:"Loquette",prenom:"Jean",sexe:"M"}];var el={};var Pi=[{id:1,applicationName:"MALPRO",genformTitle:"D\xE9claration des maladies professionnelles",theme:"extranet",genformDescription:"Service en ligne d\xE9claration accident du travail",configuration:{applicationTitle:"D\xE9claration des maladies professionnelles",barreEtape:!0,pages:[{title:"D\xE9claration des maladies professionnelles",inStepBar:!0,stepLabel:"Victime",sections:[{formControlConfigs:[{name:"premiereDemande",label:"Est-ce une premi\xE8re demande",nature:1,validators:[]},{name:"datePremiereDemande",label:"Date de la premi\xE8re demande",nature:3,validators:[],condition:{operande1:"premiereDemande",operator:"vrai"}}]},{title:"Informations concernant la victime",formControlConfigs:[{name:"nir",label:"N\xB0 d'immatriculation",nature:5},{name:"nom",label:"Nom de famille suivis du nom d'usage (s'il y a lieu)",validators:[]},{name:"prenoms",validators:[]},{name:"sexe",nature:4,options:[["M","Masculin"],["F","Feminin"]],validators:[]},{name:"nationalite",label:"Nationalit\xE9",nature:4,options:[["F","Fran\xE7aise"],["E","E.E.E."],["A","Autre"]],validators:[]},{name:"adresse",nature:8,customization:{sourceService:"adresse"},validators:[]},{name:"codePostal",validators:[]},{name:"ville",validators:[]},{name:"dateEmbauche",label:"Date d'embauche",nature:3,validators:[]},{name:"profession",validators:[]},{name:"telephone",label:"T\xE9l\xE9phone",validators:[]},{name:"qualificationProfessionnelle",validators:[]},{name:"activiteExposantAuRisque",label:"Activit\xE9 exposant au risque",validators:[]},{name:"dateActiviteExposantAuRisque",label:"Depuis quand cette activit\xE9 est exerc\xE9e",nature:3,validators:["required"]}]}]},{title:"Dernier employeur",inStepBar:!0,stepLabel:"Employeur",sections:[{formControlConfigs:[{name:"nomPrenomEmployeur",label:"Nom de famille, pr\xE9nom",validators:[]},{name:"denominationEmployeur",label:"ou D\xE9nomination",validators:[]},{name:"adresseEmployeur",label:"Adresse",validators:[],nature:8,customization:{sourceService:"adresse"}},{name:"codePostalEmployeur",label:"Code postal",validators:[],nature:8,customization:{sourceService:"commune"}},{name:"villeEmployeur",label:"Ville",validators:[]},{name:"telephoneEmployeur",label:"T\xE9l\xE9phone",validators:[]},{name:"natureActiviteEmployeur",label:"Nature de l'activit\xE9",validators:[]},{name:"activiteEmploye",label:"Si l'employeur exerce plusieurs activit\xE9s, indiquez celle dans laquelle vous \xE9tiez employ\xE9(e)",validators:[]}]}]},{title:"Nature de la ou des maladie(s) bilat\xE9rales(s) ou non",inStepBar:!0,stepLabel:"Maladies",sections:[{formControlConfigs:[{name:"maladieEnRapportPesticide",label:"La maladie est-elle en rapport avec une exposition aux pesticides",nature:1,validators:[]}]},{title:"Ajoutez la o\xF9 les maladies dont est atteinte la victime",arrayName:"maladies",formControlConfigs:[{name:"nomMaladie",label:"Nom de cette maladie",validators:[]},{name:"coteMaladie",label:"C\xF4t\xE9 (si pertinent)",nature:7,options:[["G","Gauche"],["F","Droit"]],validators:[]},{name:"dateConsultationMaladie",label:"Date de la consultation m\xE9dicale",nature:3,validators:[]},{name:"autreInfosMaladie",label:"Autres informations",nature:7,options:[["SA","sans arr\xEAt de travail"],["AA","avec arr\xEAt de travail"],["HO","Hospitalisation"],["DC","D\xE9c\xE8s"]],validators:[]}]}]},{title:"Dur\xE9e d'exposition",inStepBar:!0,stepLabel:"Expositions",sections:[{title:"Ajoutez la o\xF9 les dur\xE9es d'exposition",arrayName:"dureesExposition",formControlConfigs:[{name:"nomAdresseEmployeur",label:"Nom et adresse des employeurs",nature:12,customization:{maxlength:100},validators:[]},{name:"posteOccupe",label:"Poste occup\xE9",validators:[]},{name:"debutPeriodeTravaux",label:"D\xE9but de ces travaux",nature:3,validators:[]},{name:"finPeriodeTravaux",label:"Fin de ces travaux",nature:3,validators:[]}]}]},{title:"Autres",inStepBar:!0,sections:[{title:"D\xE9clarant",formControlConfigs:[{label:"Si le d\xE9clarant n'est pas la victime merci de pr\xE9ciser :",nature:11},{name:"nomPrenomDeclarant",label:"Nom et pr\xE9nom d\xE9clarant"},{name:"adresseDeclarant",label:"Adresse d\xE9clarant",nature:12,customization:{maxlength:100},validators:[]},{name:"codePostalDeclarant",label:"Code postal d\xE9clarant"},{name:"villeDeclarant",label:"Ville d\xE9clarant"}]},{title:"Pi\xE8ces \xE0 joindre",formControlConfigs:[{label:"Certificat m\xE9dical en double exemplaire",nature:13}]},{title:"Signature",formControlConfigs:[{name:"lieuSignature",label:"Fait \xE0"},{name:"dateSignature",label:"Le",nature:3},{name:"signature",label:"Je certifie exact cette d\xE9claration",nature:1}]}]}]}},{id:2,applicationName:"SELDAT",genformTitle:"SEL DAT",genformDescription:"Service en ligne d\xE9claration accident du travail",theme:"extranet",configuration:{applicationTitle:"SEL DAT",barreEtape:!0,pages:[{title:"Page 1",inStepBar:!1,sections:[{formControlConfigs:[]}]},{title:"Etape 1",inStepBar:!0},{title:"Etape 1.1",inStepBar:!1},{title:"Etape 2",inStepBar:!0},{title:"Page 3",inStepBar:!1}]}},{id:3,applicationName:"TAXI",theme:"extranet",genformTitle:"Facture de transport en taxi conventionn\xE9",genformDescription:"Saisie des factures de transport en taxi conventionn\xE9",configuration:{applicationTitle:"Facture de transport en taxi conventionn\xE9",barreEtape:!0,pages:[{title:"Personne transport\xE9e",inStepBar:!0,sections:[{formControlConfigs:[{name:"dateFacture",label:"Date de la facture",nature:3},{name:"numeroFacture",label:"Num\xE9ro de la facture"}]},{title:"Personne b\xE9n\xE9ficiaire du transport",formControlConfigs:[{name:"nomPersonne",label:"Nom",hint:"Nom de naissance suvi si besoin du nom d'usage"},{name:"prenomPersonne",label:"Pr\xE9nom"},{name:"numeroImmatriculationPersonne",label:"Num\xE9ro d'immatriculation"},{name:"dateNaissancePersonne",label:"Date de naissance",nature:3}]},{title:"Centre de paiement ou section mutualiste",formControlConfigs:[{name:"nomPaiement",label:"Nom du centre ou de la section"},{name:"numeroPaiement",label:"Num\xE9ro du centre ou de la section"},{name:"isPersonneAssure",label:"La personne qui b\xE9n\xE9ficie du transport est-elle l'assur\xE9 ?",nature:1}]},{title:"Assur\xE9",condition:"(formGroup) => {console.log('isPersonneAssure == false');  var op1 = formGroup.get('isPersonneAssure') ? formGroup.get('isPersonneAssure').value : isPersonneAssure; var op2 = formGroup.get('false') ? formGroup.get('false').value : false; if ('' === op1) {op1 = undefined;} if ('' === op2) {op2 = undefined;} var result = ( op1 === op2 ); console.debug('op1=', op1, '=== op2=', op2, '=', result); return result;}",formControlConfigs:[{name:"nomAssure",label:"Nom de l'assur\xE9",hint:"Nom de naissance suvi si besoin du nom d'usage"},{name:"prenomAssure",label:"Pr\xE9nom"},{name:"numeroImmatriculationAssure",label:"Num\xE9ro d'immatriculation"}]}]},{title:"Prescripteur",inStepBar:!0,sections:[{title:"Identification du prescripteur et de la structure dans laquelle il exerce",formGroupClasses:"zac-form-group-generator:col2",formControlConfigs:[{name:"nomPrescripteur",label:"Nom du prescripteur"},{name:"prenomPrescripteur",label:"Pr\xE9nom du prescripteur"},{name:"raisonSocialePrescripteur",label:"Raison sociale du prescripteur"},{name:"numeroAM",label:"N\xB0 AM"},{name:"identifiantStructure",label:"Identifiant structure",hint:"n\xB0AM, Finess ou SIRET"},{name:"numeroRPPS",label:"N\xB0 RPPS"},{name:"numeroPrescriptionEnLigne",label:"Si prescription en ligne, numero"}]}]},{title:"Transport(s) effectu\xE9(s)",inStepBar:!0,sections:[{title:"Transport effectu\xE9",arrayName:"transportEffectue",formControlConfigs:[{name:"dateDepart",label:"Date de d\xE9part",nature:3},{name:"detailDepart",label:"Heure - Adresse - Code INSEE - Finess g\xE9ographique",nature:12,hint:"Finess g\xE9ographique : Si d\xE9part ou arriv\xE9e dans un \xE9tablissement de la liste ouvrant droit au forfait grande ville."},{name:"dateArrivee",label:"Date d'arriv\xE9e",nature:3},{name:"detailArrivee",label:"Heure - Adresse - Code INSEE - Finess g\xE9ographique",nature:12,hint:"Finess g\xE9ographique : Si d\xE9part ou arriv\xE9e dans un \xE9tablissement de la liste ouvrant droit au forfait grande ville."},{name:"majoNF",label:"Majoration N ou F"},{name:"nbPatient",label:"Nombre de patients"},{name:"trajetSeul",label:"Trajet seul >= 30 km",hint:"le seuil de 30 km constitue un minima, une valeur sup\xE9rieure peut avoir \xE9t\xE9 n\xE9goci\xE9e localement avec l'organisme local d'assurance maladie."},{name:"abattement",label:"% abattement Transport partag\xE9",nature:9},{name:"distance",label:"Distance parcourue (km)",nature:9},{name:"conducteur",label:"Conducteur"},{name:"immatriculationVehicule",label:"Immatriculation v\xE9hicule"},{name:"numeroADS",label:"N\xB0 ADS"},{name:"allerRetourVide",label:"Aller retour vide en lien avec hospitalisation ?",nature:1},{name:"tarifKm",label:"Tarif km",hint:"En \u20ACuro",nature:10},{name:"supplement",label:"Suppl.local (dont DROM)",hint:"En \u20ACuro",nature:10},{name:"numeroTelepeage",label:"N\xB0 t\xE9l\xE9-p\xE9age"},{name:"peage",hint:"En \u20ACuro",label:"P\xE9age"},{name:"tpmr",label:"TPMR ?"}]}]},{title:"Tarification",inStepBar:!0,sections:[{title:"Type de forfait",formControlConfigs:[{name:"typeForfait",label:"Type de forfait",nature:4,options:[["FX1","Prise en charge et accompagnement"],["FX2",'Prise en charge et accompagnement et Forfait "Grande ville"']]},{name:"tauxPriseEnCharge",label:"Taux de prise en charge",nature:9}]},{title:"D\xE9tail de la tarification",formGroupClasses:"zac-form-group-generator:col3",formControlConfigs:[{name:"forfaitReel",label:"Forfait r\xE9\xE9l - FX1 ou FX2 (1)"},{name:"forfaitObligatoire",label:"Forfait r\xE9\xE9l - part organisme (6)"},{name:"forfaitAssure",label:"Forfait r\xE9\xE9l - part assur\xE9 (11)"},{name:"tarifKMReel",label:"Tarif kilom\xE9trique - KXN (2)"},{name:"tarifKMObligatoire",label:"Tarif km - part obligatoire (7)"},{name:"tarifKMassure",label:"Tarif km - part assure (12)"},{name:"supplementReel",label:"Suppl\xE9ment forfaitaire local - SXN1 (3)"},{name:"supplementObligatoire",label:"Suppl\xE9ment - part obligatoire (8)"},{name:"supplementAssure",label:"Suppl\xE9ment - part assur\xE9 (13)"},{name:"peageReel",label:"P\xE9age - PEA (4)"},{name:"peageObligatoire",label:"P\xE9age - part obligatoire (9)"},{name:"peageAssure",label:"P\xE9age - part assure (14)"},{name:"tpmrReel",label:"TPMR (5)"},{name:"tpmrObligatoire",label:"TPMR - part obligatoire (10) "},{name:"tpmrAssure",label:"TPMR - part assure (15)"},{name:"montantReelTotal",label:"Montant total de la facture",hint:"(1)+(2)+(3)+(4)+(5)"},{name:"montantObligatoireTotal",label:"Montant total de la part organisme",hint:"(6)+(7)+(8)+(9)+(10)"},{name:"montantAssureTotal",label:"Montant total de la part assur\xE9",hint:"(11)+(12)+(13)+(14)+(15)"}]},{title:"Entreprise de taxi",formGroupClasses:"zac-form-group-generator:col2",formControlConfigs:[{name:"raisonSocialeTaxi",label:"Raison sociale"},{name:"identifiantTaxi",label:"Identifiant"},{name:"adresseTaxi",label:"Adresse"},{name:"bidon1",label:"",nature:11},{name:"signatureA",label:"Fait \xE0"},{name:"signatureDate",label:"Le"}]}]},{title:"Attestation assur\xE9",inStepBar:!0,sections:[{title:"Attestation de l'assur\xE9(e)",formControlConfigs:[{name:"bidon2",label:"",nature:11,displayValue:`- L'assur\xE9(e), le b\xE9n\xE9ficiaire du transport ou son repr\xE9sentant atteste de la r\xE9alisation du transport mentionn\xE9 ci-dessus et de la somme r\xE9gl\xE9e, le cas \xE9ch\xE9ant.
Il(elle) s'engage \xE0 payer au transporteur tout ou partie de la facture en cas de refus total ou partiel de prise en charge par l'organisme d'assurance maladie.`},{name:"refusTransportPartage",label:"\xAB L\u2019assur\xE9(e) refuse le transport partag\xE9 et paie directement le transporteur sans dispense d\u2019avance de frais \xBB",nature:1},{name:"lieuSignatureAssure",label:"Fait \xE0"},{name:"dateSignatureAssure",label:"Le",nature:3},{name:"signatureAssureImpossible",label:"Impossible de signer",nature:1}]}]}]}}];function Sf(l,r){return Array.from({length:r-l},(i,o)=>o+1).map(i=>{let o=l-1+i;return{id:o,col1:`Column 1-${o.toString().padStart(3,"0")}`,col2:`Column 2-${o.toString().padStart(3,"0")}`,col3:!!(o%2)}})}var aa=class{createDb(){return{personne:Mt,referentielPersonne:Nc,declaration:el,individu:{naissance:{}},generic:{},applications:Pi,application:[{}]}}get(r){if(console.log("MockData for ",r.collectionName),r.id=="throwError")return r.utils.createResponse$(()=>({status:500,body:{message:"Internal server error"}}));if(r.collectionName==="tableContent"){let i=r.query;(!i||i.size===0)&&(i=new Map(Object.entries(r.req.body)));let o=Number.parseInt(i.get("pageIndex")),a=Number.parseInt(i.get("size")),s=i.get("sort"),c=i.get("sortDirection"),C=i.get("filter"),I=Sf(1,100),j=o*a;s&&c&&(I=new So().sortData(I,{activeColumn:s,direction:c})),C&&(I=I.filter(ze=>ze.col3===(C[0]==="true")));let re=I.slice(j,j+a);return r.utils.createResponse$(()=>({status:200,body:{content:re,size:a,totalPages:Math.ceil(I.length/a),totalElements:I.length}}))}else if(r.collectionName==="phone-prefixes")return r.utils.createResponse$(()=>({status:200,body:{}})).pipe(pi(i=>al(Os()).pipe(We(o=>(i.body=o.map(a=>({indicatif:a[0],nomPays:a[1],codeIso:a[2]})),i)))));return null}post(r){if(r.collectionName==="personne")return this.createSingleResponse(r,Mt);if(r.collectionName==="declaration")return this.createSingleResponse(r,el);if(r.collectionName==="individu")return this.createSingleResponse(r,Mt);if(r.collectionName==="tableContent")return this.get(r);if(r.collectionName==="upload")return this.createSingleResponse(r,{});if(r.collectionName==="application"){let i=r.req.body||{},o;return i.id&&(o=Pi.find(a=>a.id==i.id),o&&(Object.assign(o,i),console.debug("HTTP POST (update) application ",i))),(!i.id||!o)&&(i.id=Pi.length+1,Pi.push(i),console.debug("HTTP POST (create) application ",i)),this.createSingleResponse(r,i)}else return null}createSingleResponse(r,i){let o=r.req.body||{};return Object.assign(Mt,o),r.utils.createResponse$(()=>({status:200,body:i}))}};var rw={applicationTitle:"D\xE9mo application g\xE9n\xE9r\xE9e",barreEtape:!0,pages:[{title:"Identit\xE9",formControlConfigs:[{name:"nom",label:"Nom",validators:[]},{name:"prenom",label:"Pr\xE9noms",validators:[]},{name:"sexe",label:"Sexe",nature:4,options:[["M","Masculin"],["F","Feminin"]]}],sections:[{title:"Enfants",arrayName:"famille",formControlConfigs:[{name:"nom",label:"Nom",validators:[]},{name:"prenom",label:"Pr\xE9nom",validators:[]}]}]},{title:"Famille",arrayName:"famille",formControlConfigs:[{name:"nom",label:"Nom",validators:[]},{name:"prenom",label:"Pr\xE9nom",validators:[]}]},{title:"Coordonn\xE9es",formControlConfigs:[{name:"telephone",label:"T\xE9l\xE9phone",validators:[]},{name:"adresse",label:"Adresse",nature:12,validators:[],customization:{maxlength:100}}]},{title:"Synth\xE8se",formControlConfigs:[{name:"nom",label:"Nom",nature:11},{name:"prenom",label:"Pr\xE9nom",nature:11},{name:"telephone",label:"T\xE9l\xE9phone",nature:11},{name:"adresse",label:"Adresse",nature:11}]}]},bf={applicationTitle:"D\xE9claration des maladies professionnelles",barreEtape:!0,pages:[{title:"D\xE9claration des maladies professionnelles",stepLabel:"Victime",sections:[{formControlConfigs:[{name:"premiereDemande",label:"Est-ce une premi\xE8re demande",nature:1,validators:[]},{name:"datePremiereDemande",label:"Date de la premi\xE8re demande",nature:3,validators:[],condition:l=>l.get("premiereDemande")?.value===!1}]},{title:"Informations concernant la victime",formControlConfigs:[{name:"nir",label:"N\xB0 d'immatriculation",nature:5},{name:"nom",label:"Nom de famille suivis du nom d'usage (s'il y a lieu)",validators:[]},{name:"prenoms",validators:[]},{name:"sexe",nature:4,options:[["M","Masculin"],["F","Feminin"]],validators:[]},{name:"nationalite",label:"Nationalit\xE9",nature:4,options:[["F","Fran\xE7aise"],["E","E.E.E."],["A","Autre"]],validators:[]},{name:"adresse",nature:8,customization:{sourceService:"adresse"},validators:[]},{name:"codePostal",validators:[]},{name:"ville",validators:[]},{name:"dateEmbauche",label:"Date d'embauche",nature:3,validators:[]},{name:"profession",validators:[]},{name:"telephone",label:"T\xE9l\xE9phone",validators:[]},{name:"qualificationProfessionnelle",validators:[]},{name:"activiteExposantAuRisque",label:"Activit\xE9 exposant au risque",validators:[]},{name:"dateActiviteExposantAuRisque",label:"Depuis quand cette activit\xE9 est exerc\xE9e",nature:3,validators:["required"]}]}]},{title:"Dernier employeur",stepLabel:"Employeur",sections:[{formControlConfigs:[{name:"nomPrenomEmployeur",label:"Nom de famille, pr\xE9nom",validators:[]},{name:"denominationEmployeur",label:"ou D\xE9nomination",validators:[]},{name:"adresseEmployeur",label:"Adresse",validators:[],nature:8,customization:{sourceService:"adresse"}},{name:"codePostalEmployeur",label:"Code postal",validators:[],nature:8,customization:{sourceService:"commune"}},{name:"villeEmployeur",label:"Ville",validators:[]},{name:"telephoneEmployeur",label:"T\xE9l\xE9phone",validators:[]},{name:"natureActiviteEmployeur",label:"Nature de l'activit\xE9",validators:[]},{name:"activiteEmploye",label:"Si l'employeur exerce plusieurs activit\xE9s, indiquez celle dans laquelle vous \xE9tiez employ\xE9(e)",validators:[]}]}]},{title:"Nature de la ou des maladie(s) bilat\xE9rales(s) ou non",stepLabel:"Maladies",sections:[{formControlConfigs:[{name:"maladieEnRapportPesticide",label:"La maladie est-elle en rapport avec une exposition aux pesticides",nature:1,validators:[]}]},{title:"Ajoutez la o\xF9 les maladies dont est atteinte la victime",arrayName:"maladies",formControlConfigs:[{name:"nomMaladie",label:"Nom de cette maladie",validators:[]},{name:"coteMaladie",label:"C\xF4t\xE9 (si pertinent)",nature:7,options:[["G","Gauche"],["F","Droit"]],validators:[]},{name:"dateConsultationMaladie",label:"Date de la consultation m\xE9dicale",nature:3,validators:[]},{name:"autreInfosMaladie",label:"Autres informations",nature:7,options:[["SA","sans arr\xEAt de travail"],["AA","avec arr\xEAt de travail"],["HO","Hospitalisation"],["DC","D\xE9c\xE8s"]],validators:[]}]}]},{title:"Dur\xE9e d'exposition",stepLabel:"Expositions",sections:[{title:"Ajoutez la o\xF9 les dur\xE9es d'exposition",arrayName:"dureesExposition",formControlConfigs:[{name:"nomAdresseEmployeur",label:"Nom et adresse des employeurs",nature:12,customization:{maxlength:100},validators:[]},{name:"posteOccupe",label:"Poste occup\xE9",validators:[]},{name:"debutPeriodeTravaux",label:"D\xE9but de ces travaux",nature:3,validators:[]},{name:"finPeriodeTravaux",label:"Fin de ces travaux",nature:3,validators:[]}]}]},{title:"Autres",sections:[{title:"D\xE9clarant",formControlConfigs:[{label:"Si le d\xE9clarant n'est pas la victime merci de pr\xE9ciser :",nature:11},{name:"nomPrenomDeclarant",label:"Nom et pr\xE9nom d\xE9clarant"},{name:"adresseDeclarant",label:"Adresse d\xE9clarant",nature:12,customization:{maxlength:100},validators:[]},{name:"codePosatalDeclarant",label:"Code postal d\xE9clarant"},{name:"villeDeclarant",label:"Ville d\xE9clarant"}]},{title:"Pi\xE8ces \xE0 joindre",formControlConfigs:[{label:"Certificat m\xE9dical en double exemplaire",nature:13}]},{title:"Signature",formControlConfigs:[{name:"lieuSignature",label:"Fait \xE0"},{name:"dateSignature",label:"Le",nature:3},{name:"signature",label:"Je certifie exact cette d\xE9claration",nature:1}]}]}]},Tc=bf;var Pc={providers:[ns(fm({sendClientError:!0,sendErrorFn:(l,r,i)=>{console.log("Mock Remont\xE9e LOG",l,r,i)},showErrorDetailForAuthorizedHost:!1,urlRetour:"http://localhost:4210"}),gm(),_m({globalMain:!1,otherLinks:[{libelle:"menu",id:"nav"}],otherLinksByPath:{"a11y-page-transition":[{libelle:"menu",id:"nav"},{libelle:"explication",id:"explication"},{libelle:"mise en place",id:"mise-en-place"}]}})),wl(),Ll(Mc,kl(),Gl(),Bl()),ql(Vl()),pl(Ic.forRoot(aa,{passThruUnknownUrl:!0,apiBase:"api"})),{provide:Fl,useClass:oa,multi:!0},Ne,Ot(Bs,{refusUrl:"demo-engagement-honneur"}),{provide:ct,useValue:Tc},{provide:At,useExisting:Zl}]};bm.production&&void 0;Nl(Do,Pc).catch(l=>console.error(l));
